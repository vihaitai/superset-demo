/*! For license information please see 53bc554529c5bac32960.chunk.js.LICENSE.txt */
(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[7546],{62514:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case o:case h:case m:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case p:case l:return e;default:return t}}case s:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=u,t.Fragment=a,t.Lazy=f,t.Memo=p,t.Portal=s,t.Profiler=i,t.StrictMode=o,t.Suspense=h,t.SuspenseList=m,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return g(e)===u},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===f},t.isMemo=function(e){return g(e)===p},t.isPortal=function(e){return g(e)===s},t.isProfiler=function(e){return g(e)===i},t.isStrictMode=function(e){return g(e)===o},t.isSuspense=function(e){return g(e)===h},t.isSuspenseList=function(e){return g(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===i||e===o||e===h||e===m||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===u||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=g},80782:(e,t,r)=>{"use strict";e.exports=r(62514)},79756:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=r(28132),s=r(26594),a=r(50575),o=r(37805),i=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),s.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(o,i):o;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=r(79888);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=r(56699);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var h=r(36024);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var m=r(39889);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})},37622:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class s extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function a(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)l(r,t[n]),r.push(e[++n]);return new s(r)}t._Code=s,t.nil=new s(""),t._=a;const o=new s("+");function i(e,...t){const r=[d(e[0])];let n=0;for(;n<t.length;)r.push(o),l(r,t[n]),r.push(o,d(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===o){const r=c(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new s(r)}function l(e,t){var r;t instanceof s?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:d(Array.isArray(r)?r.join(","):r))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function d(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=i,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:i`${e}${t}`},t.stringify=function(e){return new s(d(e))},t.safeStringify=d,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new s(`.${e}`):a`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new s(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new s(e.toString())}},56699:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(37622),s=r(23643);var a=r(37622);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}});var o=r(23643);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class i{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends i{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?s.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class c extends i{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=T(this.rhs,e,t),this}get names(){return N(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class d extends c{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class u extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class m extends i{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends i{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=T(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class f extends i{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const s=r[n];s.optimizeNames(e,t)||(O(e,s.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>A(e,t.names)),{})}}class y extends f{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends f{}class v extends y{}v.kind="else";class b extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(I(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=T(this.condition,e,t),this}get names(){const e=super.names;return N(e,this.condition),this.else&&A(e,this.else.names),e}}b.kind="if";class $ extends y{}$.kind="for";class w extends ${constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=T(this.iteration,e,t),this}get names(){return A(super.names,this.iteration.names)}}class S extends ${constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?s.varKinds.var:this.varKind,{name:r,from:n,to:a}=this;return`for(${t} ${r}=${n}; ${r}<${a}; ${r}++)`+super.render(e)}get names(){const e=N(super.names,this.from);return N(e,this.to)}}class x extends ${constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=T(this.iterable,e,t),this}get names(){return A(super.names,this.iterable.names)}}class E extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}E.kind="func";class _ extends f{render(e){return"return "+super.render(e)}}_.kind="return";class k extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&A(e,this.catch.names),this.finally&&A(e,this.finally.names),e}}class C extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}C.kind="catch";class P extends y{render(e){return"finally"+super.render(e)}}function A(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function N(e,t){return t instanceof n._CodeOrName?A(e,t.names):e}function T(e,t,r){return e instanceof n.Name?a(e):(s=e)instanceof n._Code&&s._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=a(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;var s;function a(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function O(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${M(e)}`}P.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new s.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const s=this._scope.toName(t);return void 0!==r&&n&&(this._constants[s.str]=r),this._leafNode(new l(e,s,r)),s}const(e,t,r){return this._def(s.varKinds.const,e,t,r)}let(e,t,r){return this._def(s.varKinds.let,e,t,r)}var(e,t,r){return this._def(s.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,r){return this._leafNode(new d(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,s]of e)t.length>1&&t.push(","),t.push(r),(r!==s||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,s));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new b(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,r,n,a=(this.opts.es5?s.varKinds.var:s.varKinds.let)){const o=this._scope.toName(e);return this._for(new S(a,o,t,r),(()=>n(o)))}forOf(e,t,r,a=s.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(o,n._`${e}[${t}]`),r(o)}))}return this._for(new x("of",a,o,t),(()=>r(o)))}forIn(e,t,r,a=(this.opts.es5?s.varKinds.var:s.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const o=this._scope.toName(e);return this._for(new x("in",a,o,t),(()=>r(o)))}endFor(){return this._endBlockNode($)}label(e){return this._leafNode(new u(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new _;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new k;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new C(e),t(e)}return r&&(this._currNode=n.finally=new P,this.code(r)),this._endBlockNode(C,P)}throw(e){return this._leafNode(new m(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,s){return this._blockNode(new E(e,t,r)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=I;const j=R(t.operators.AND);t.and=function(...e){return e.reduce(j)};const D=R(t.operators.OR);function R(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${M(t)} ${e} ${M(r)}`}function M(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce(D)}},23643:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(37622);class s extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var a;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(a||(t.UsedValueState=a={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=o;class i extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=i;const l=n._`\n`;t.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:n.nil}}get(){return this._scope}name(e){return new i(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:s}=n,a=null!==(r=t.key)&&void 0!==r?r:t.ref;let o=this._values[s];if(o){const e=o.get(a);if(e)return e}else o=this._values[s]=new Map;o.set(a,n);const i=this._scope[s]||(this._scope[s]=[]),l=i.length;return i[l]=t.ref,n.setValue(t,{property:s,itemIndex:l}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,o={},i){let l=n.nil;for(const c in e){const d=e[c];if(!d)continue;const u=o[c]=o[c]||new Map;d.forEach((e=>{if(u.has(e))return;u.set(e,a.Started);let o=r(e);if(o){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;l=n._`${l}${r} ${e} = ${o};${this.opts._n}`}else{if(!(o=null==i?void 0:i(e)))throw new s(e);l=n._`${l}${o}${this.opts._n}`}u.set(e,a.Completed)}))}return l}}},40154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(56699),s=r(19205),a=r(65373);function o(e,t){const r=e.const("err",t);e.if(n._`${a.default.vErrors} === null`,(()=>e.assign(a.default.vErrors,n._`[${r}]`)),n._`${a.default.vErrors}.push(${r})`),e.code(n._`${a.default.errors}++`)}function i(e,t){const{gen:r,validateName:s,schemaEnv:a}=e;a.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${s}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,s,a){const{it:l}=e,{gen:d,compositeRule:u,allErrors:h}=l,m=c(e,r,s);(null!=a?a:u||h)?o(d,m):i(l,n._`[${m}]`)},t.reportExtraError=function(e,r=t.keywordError,n){const{it:s}=e,{gen:l,compositeRule:d,allErrors:u}=s;o(l,c(e,r,n)),d||u||i(s,a.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(a.default.errors,t),e.if(n._`${a.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${a.default.vErrors}.length`,t)),(()=>e.assign(a.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:s,errsCount:o,it:i}){if(void 0===o)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",o,a.default.errors,(o=>{e.const(l,n._`${a.default.vErrors}[${o}]`),e.if(n._`${l}.instancePath === undefined`,(()=>e.assign(n._`${l}.instancePath`,(0,n.strConcat)(a.default.instancePath,i.errorPath)))),e.assign(n._`${l}.schemaPath`,n.str`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign(n._`${l}.schema`,r),e.assign(n._`${l}.data`,s))}))};const l={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function c(e,t,r){const{createErrors:s}=e.it;return!1===s?n._`{}`:function(e,t,r={}){const{gen:s,it:o}=e,i=[d(o,r),u(e,r)];return function(e,{params:t,message:r},s){const{keyword:o,data:i,schemaValue:c,it:d}=e,{opts:u,propertyName:h,topSchemaRef:m,schemaPath:p}=d;s.push([l.keyword,o],[l.params,"function"==typeof t?t(e):t||n._`{}`]),u.messages&&s.push([l.message,"function"==typeof r?r(e):r]),u.verbose&&s.push([l.schema,c],[l.parentSchema,n._`${m}${p}`],[a.default.data,i]),h&&s.push([l.propertyName,h])}(e,t,i),s.object(...i)}(e,t,r)}function d({errorPath:e},{instancePath:t}){const r=t?n.str`${e}${(0,s.getErrorPath)(t,s.Type.Str)}`:e;return[a.default.instancePath,(0,n.strConcat)(a.default.instancePath,r)]}function u({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:a}){let o=a?t:n.str`${t}/${e}`;return r&&(o=n.str`${o}${(0,s.getErrorPath)(r,s.Type.Str)}`),[l.schemaPath,o]}},16245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(56699),s=r(36024),a=r(65373),o=r(9737),i=r(19205),l=r(79888);class c{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,o.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function d(e){const t=h.call(this,e);if(t)return t;const r=(0,o.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:c}=this.opts.code,{ownProperties:d}=this.opts,u=new n.CodeGen(this.scope,{es5:i,lines:c,ownProperties:d});let m;e.$async&&(m=u.scopeValue("Error",{ref:s.default,code:n._`require("ajv/dist/runtime/validation_error").default`}));const p=u.scopeName("validate");e.validateName=p;const f={gen:u,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:m,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:n._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,l.validateFunctionCode)(f),u.optimize(this.opts.code.optimize);const t=u.toString();y=`${u.scopeRefs(a.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const r=new Function(`${a.default.self}`,`${a.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:p,validateCode:t,scopeValues:u._values}),this.opts.unevaluated){const{props:e,items:t}=f;r.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},r.source&&(r.source.evaluated=(0,n.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),t}finally{this._compilations.delete(e)}}function u(e){return(0,o.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:d.call(this,e)}function h(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function m(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||p.call(this,e,t)}function p(e,t){const r=this.opts.uriResolver.parse(t),n=(0,o._getFullPath)(this.opts.uriResolver,r);let s=(0,o.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return y.call(this,r,e);const a=(0,o.normalizeId)(n),i=this.refs[a]||this.schemas[a];if("string"==typeof i){const t=p.call(this,e,i);if("object"!=typeof(null==t?void 0:t.schema))return;return y.call(this,r,t)}if("object"==typeof(null==i?void 0:i.schema)){if(i.validate||d.call(this,i),a===(0,o.normalizeId)(t)){const{schema:t}=i,{schemaId:r}=this.opts,n=t[r];return n&&(s=(0,o.resolveUrl)(this.opts.uriResolver,s,n)),new c({schema:t,schemaId:r,root:e,baseId:s})}return y.call(this,r,i)}}t.SchemaEnv=c,t.compileSchema=d,t.resolveRef=function(e,t,r){var n;r=(0,o.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=m.call(this,e,r);if(void 0===a){const s=null===(n=e.localRefs)||void 0===n?void 0:n[r],{schemaId:o}=this.opts;s&&(a=new c({schema:s,schemaId:o,root:e,baseId:t}))}return void 0!==a?e.refs[r]=u.call(this,a):void 0},t.getCompilingSchema=h,t.resolveSchema=p;const f=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:r,root:n}){var s;if("/"!==(null===(s=e.fragment)||void 0===s?void 0:s[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;const e=r[(0,i.unescapeFragment)(n)];if(void 0===e)return;const s="object"==typeof(r=e)&&r[this.opts.schemaId];!f.has(n)&&s&&(t=(0,o.resolveUrl)(this.opts.uriResolver,t,s))}let a;if("boolean"!=typeof r&&r.$ref&&!(0,i.schemaHasRulesButRef)(r,this.RULES)){const e=(0,o.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=p.call(this,n,e)}const{schemaId:l}=this.opts;return a=a||new c({schema:r,schemaId:l,root:n,baseId:t}),a.schema!==a.root.schema?a:void 0}},65373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=s},39889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9737);class s extends Error{constructor(e,t,r,s){super(s||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,n.resolveUrl)(e,t,r),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(e,this.missingRef))}}t.default=s},9737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(19205),s=r(32017),a=r(30347),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(i.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(l))return!0;if("object"==typeof r&&l(r))return!0}return!1}function c(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!o.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(e=>t+=c(e))),t===1/0))return 1/0}return t}function d(e,t="",r){!1!==r&&(t=m(t));const n=e.parse(t);return u(e,n)}function u(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=d,t._getFullPath=u;const h=/#\/?$/;function m(e){return e?e.replace(h,""):""}t.normalizeId=m,t.resolveUrl=function(e,t,r){return r=m(r),e.resolve(t,r)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:r,uriResolver:n}=this.opts,o=m(e[r]||t),i={"":o},l=d(n,o,!1),c={},u=new Set;return a(e,{allKeys:!0},((e,t,n,s)=>{if(void 0===s)return;const a=l+t;let o=i[s];function d(t){const r=this.opts.uriResolver.resolve;if(t=m(o?r(o,t):t),u.has(t))throw f(t);u.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?h(e,n.schema,t):t!==m(a)&&("#"===t[0]?(h(e,c[t],t),c[t]=e):this.refs[t]=a),t}function y(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);d.call(this,`#${e}`)}}"string"==typeof e[r]&&(o=d.call(this,e[r])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),i[t]=o})),c;function h(e,t,r){if(void 0!==t&&!s(e,t))throw f(r)}function f(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},43402:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},19205:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(56699),s=r(37622);function a(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema)return;if("boolean"==typeof t)return;const s=n.RULES.keywords;for(const r in t)s[r]||p(e,`unknown keyword: "${r}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function i(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:s}){return(a,o,i,l)=>{const c=void 0===i?o:i instanceof n.Name?(o instanceof n.Name?e(a,o,i):t(a,o,i),i):o instanceof n.Name?(t(a,i,o),o):r(o,i);return l!==n.Name||c instanceof n.Name?c:s(a,c)}}function d(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&u(e,r,t),r}function u(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${(0,n.getProperty)(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(a(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=a,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,s,a){if(!a){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${(0,n.getProperty)(s)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(i(e))},t.escapeJsonPointer=i,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),u(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:d}),items:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=d,t.setEvaluated=u;const h={};var m;function p(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new s._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(m||(t.Type=m={})),t.getErrorPath=function(e,t,r){if(e instanceof n.Name){const s=t===m.Num;return r?s?n._`"[" + ${e} + "]"`:n._`"['" + ${e} + "']"`:s?n._`"/" + ${e}`:n._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,n.getProperty)(e).toString():"/"+i(e)},t.checkStrictMode=p},97193:(e,t)=>{"use strict";function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const s=t.RULES.types[n];return s&&!0!==s&&r(e,s)},t.shouldUseGroup=r,t.shouldUseRule=n},72129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(40154),s=r(56699),a=r(65373),o={message:"boolean schema is false"};function i(e,t){const{gen:r,data:s}=e,a={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,n.reportError)(a,o,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?i(e,!1):"object"==typeof r&&!0===r.$async?t.return(a.default.data):(t.assign(s._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),i(e)):r.var(t,!0)}},66542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(43402),s=r(97193),a=r(40154),o=r(56699),i=r(19205);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l||(t.DataType=l={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:n,opts:a}=e,i=function(e,t){return t?e.filter((e=>d.has(e)||"array"===t&&"array"===e)):[]}(t,a.coerceTypes),c=t.length>0&&!(0===i.length&&1===t.length&&(0,s.schemaHasRulesForType)(e,t[0]));if(c){const s=h(t,n,a.strictNumbers,l.Wrong);r.if(s,(()=>{i.length?function(e,t,r){const{gen:n,data:s,opts:a}=e,i=n.let("dataType",o._`typeof ${s}`),l=n.let("coerced",o._`undefined`);"array"===a.coerceTypes&&n.if(o._`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,(()=>n.assign(s,o._`${s}[0]`).assign(i,o._`typeof ${s}`).if(h(t,s,a.strictNumbers),(()=>n.assign(l,s))))),n.if(o._`${l} !== undefined`);for(const e of r)(d.has(e)||"array"===e&&"array"===a.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void n.elseIf(o._`${i} == "number" || ${i} == "boolean"`).assign(l,o._`"" + ${s}`).elseIf(o._`${s} === null`).assign(l,o._`""`);case"number":return void n.elseIf(o._`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(l,o._`+${s}`);case"integer":return void n.elseIf(o._`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,o._`+${s}`);case"boolean":return void n.elseIf(o._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf(o._`${s} === "true" || ${s} === 1`).assign(l,!0);case"null":return n.elseIf(o._`${s} === "" || ${s} === 0 || ${s} === false`),void n.assign(l,null);case"array":n.elseIf(o._`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(l,o._`[${s}]`)}}n.else(),p(e),n.endIf(),n.if(o._`${l} !== undefined`,(()=>{n.assign(s,l),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(o._`${t} !== undefined`,(()=>e.assign(o._`${t}[${r}]`,n)))}(e,l)}))}(e,t,i):p(e)}))}return c};const d=new Set(["string","number","integer","boolean","null"]);function u(e,t,r,n=l.Correct){const s=n===l.Correct?o.operators.EQ:o.operators.NEQ;let a;switch(e){case"null":return o._`${t} ${s} null`;case"array":a=o._`Array.isArray(${t})`;break;case"object":a=o._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i(o._`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return o._`typeof ${t} ${s} ${e}`}return n===l.Correct?a:(0,o.not)(a);function i(e=o.nil){return(0,o.and)(o._`typeof ${t} == "number"`,e,r?o._`isFinite(${t})`:o.nil)}}function h(e,t,r,n){if(1===e.length)return u(e[0],t,r,n);let s;const a=(0,i.toHash)(e);if(a.array&&a.object){const e=o._`typeof ${t} != "object"`;s=a.null?e:o._`!${t} || ${e}`,delete a.null,delete a.array,delete a.object}else s=o.nil;a.number&&delete a.integer;for(const e in a)s=(0,o.and)(s,u(e,t,r,n));return s}t.checkDataType=u,t.checkDataTypes=h;const m={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?o._`{type: ${e}}`:o._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:r,schema:n}=e,s=(0,i.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}(e);(0,a.reportError)(t,m)}t.reportTypeError=p},99524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(56699),s=r(19205);function a(e,t,r){const{gen:a,compositeRule:o,data:i,opts:l}=e;if(void 0===r)return;const c=n._`${i}${(0,n.getProperty)(t)}`;if(o)return void(0,s.checkStrictMode)(e,`default is ignored for: ${c}`);let d=n._`${c} === undefined`;"empty"===l.useDefaults&&(d=n._`${d} || ${c} === null || ${c} === ""`),a.if(d,n._`${c} = ${(0,n.stringify)(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const t in r)a(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>a(e,r,t.default)))}},79888:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=r(72129),s=r(66542),a=r(97193),o=r(66542),i=r(99524),l=r(64147),c=r(65633),d=r(56699),u=r(65373),h=r(9737),m=r(19205),p=r(40154);function f({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,d._`${u.default.data}, ${u.default.valCxt}`,n.$async,(()=>{e.code(d._`"use strict"; ${y(r,s)}`),function(e,t){e.if(u.default.valCxt,(()=>{e.var(u.default.instancePath,d._`${u.default.valCxt}.${u.default.instancePath}`),e.var(u.default.parentData,d._`${u.default.valCxt}.${u.default.parentData}`),e.var(u.default.parentDataProperty,d._`${u.default.valCxt}.${u.default.parentDataProperty}`),e.var(u.default.rootData,d._`${u.default.valCxt}.${u.default.rootData}`),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`${u.default.valCxt}.${u.default.dynamicAnchors}`)}),(()=>{e.var(u.default.instancePath,d._`""`),e.var(u.default.parentData,d._`undefined`),e.var(u.default.parentDataProperty,d._`undefined`),e.var(u.default.rootData,u.default.data),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`{}`)}))}(e,s),e.code(a)})):e.func(t,d._`${u.default.data}, ${function(e){return d._`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${e.dynamicRef?d._`, ${u.default.dynamicAnchors}={}`:d.nil}}={}`}(s)}`,n.$async,(()=>e.code(y(r,s)).code(a)))}function y(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?d._`/*# sourceURL=${r} */`:d.nil}function g({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function v(e){return"boolean"!=typeof e.schema}function b(e){(0,m.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function $(e,t){if(e.opts.jtd)return S(e,[],!1,t);const r=(0,s.getSchemaTypes)(e.schema);S(e,r,!(0,s.coerceAndCheckDataType)(e,r),t)}function w({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(!0===s.$comment)e.code(d._`${u.default.self}.logger.log(${a})`);else if("function"==typeof s.$comment){const r=d.str`${n}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code(d._`${u.default.self}.opts.$comment(${a}, ${r}, ${s}.schema)`)}}function S(e,t,r,n){const{gen:s,schema:i,data:l,allErrors:c,opts:h,self:p}=e,{RULES:f}=p;function y(m){(0,a.shouldUseGroup)(i,m)&&(m.type?(s.if((0,o.checkDataType)(m.type,l,h.strictNumbers)),x(e,m),1===t.length&&t[0]===m.type&&r&&(s.else(),(0,o.reportTypeError)(e)),s.endIf()):x(e,m),c||s.if(d._`${u.default.errors} === ${n||0}`))}!i.$ref||!h.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(i,f)?(h.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{E(e.dataTypes,t)||_(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const r=[];for(const n of e.dataTypes)E(t,n)?r.push(n):t.includes("integer")&&"number"===n&&r.push("integer");e.dataTypes=r}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&_(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if("object"==typeof s&&(0,a.shouldUseRule)(e.schema,s)){const{type:r}=s.definition;r.length&&!r.some((e=>{return n=e,(r=t).includes(n)||"number"===n&&r.includes("integer");var r,n}))&&_(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}(e,e.dataTypes))}(e,t),s.block((()=>{for(const e of f.rules)y(e);y(f.post)}))):s.block((()=>C(e,"$ref",f.all.$ref.definition)))}function x(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,i.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,a.shouldUseRule)(n,r)&&C(e,r.keyword,r.definition,t.type)}))}function E(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function _(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,m.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){v(e)&&(b(e),g(e))?function(e){const{schema:t,opts:r,gen:n}=e;f(e,(()=>{r.$comment&&t.$comment&&w(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,m.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(u.default.vErrors,null),n.let(u.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",d._`${r}.evaluated`),t.if(d._`${e.evaluated}.dynamicProps`,(()=>t.assign(d._`${e.evaluated}.props`,d._`undefined`))),t.if(d._`${e.evaluated}.dynamicItems`,(()=>t.assign(d._`${e.evaluated}.items`,d._`undefined`)))}(e),$(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if(d._`${u.default.errors} === 0`,(()=>t.return(u.default.data)),(()=>t.throw(d._`new ${s}(${u.default.vErrors})`))):(t.assign(d._`${n}.errors`,u.default.vErrors),a.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof d.Name&&e.assign(d._`${t}.props`,r),n instanceof d.Name&&e.assign(d._`${t}.items`,n)}(e),t.return(d._`${u.default.errors} === 0`))}(e)}))}(e):f(e,(()=>(0,n.topBoolOrEmptySchema)(e)))};class k{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",N(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",u.default.errors))}result(e,t,r){this.failResult((0,d.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,d.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(d._`${t} !== undefined && (${(0,d.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=d.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=d.nil,t=d.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:s,def:a}=this;r.if((0,d.or)(d._`${n} === undefined`,t)),e!==d.nil&&r.assign(e,!0),(s.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==d.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:s}=this;return(0,d.or)(function(){if(r.length){if(!(t instanceof d.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return d._`${(0,o.checkDataTypes)(e,t,s.opts.strictNumbers,o.DataType.Wrong)}`}return d.nil}(),function(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return d._`!${r}(${t})`}return d.nil}())}subschema(e,t){const r=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(r,this.it,e),(0,c.extendSubschemaMode)(r,e);const s={...this.it,...r,items:void 0,props:void 0};return function(e,t){v(e)&&(b(e),g(e))?function(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&w(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const a=n.const("_errs",u.default.errors);$(e,a),n.var(t,d._`${a} === ${u.default.errors}`)}(e,t):(0,n.boolOrEmptySchema)(e,t)}(s,t),s}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=m.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=m.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,d.Name))),!0}}function C(e,t,r,n){const s=new k(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,l.funcKeywordCode)(s,r):"macro"in r?(0,l.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(s,r)}t.KeywordCxt=k;const P=/^\/(?:[^~]|~0|~1)*$/,A=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function N(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(""===e)return u.default.rootData;if("/"===e[0]){if(!P.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=u.default.rootData}else{const o=A.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const i=+o[1];if(s=o[2],"#"===s){if(i>=t)throw new Error(l("property/index",i));return n[t-i]}if(i>t)throw new Error(l("data",i));if(a=r[t-i],!s)return a}let o=a;const i=s.split("/");for(const e of i)e&&(a=d._`${a}${(0,d.getProperty)((0,m.unescapeJsonPointer)(e))}`,o=d._`${o} && ${a}`);return o;function l(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=N},64147:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const n=r(56699),s=r(65373),a=r(62235),o=r(40154);function i(e){const{gen:t,data:r,it:s}=e;t.if(s.parentData,(()=>t.assign(r,n._`${s.parentData}[${s.parentDataProperty}]`)))}function l(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}t.macroKeywordCode=function(e,t){const{gen:r,keyword:s,schema:a,parentSchema:o,it:i}=e,c=t.macro.call(i.self,a,o,i),d=l(r,s,c);!1!==i.opts.validateSchema&&i.self.validateSchema(c,!0);const u=r.name("valid");e.subschema({schema:c,schemaPath:n.nil,errSchemaPath:`${i.errSchemaPath}/${s}`,topSchemaRef:d,compositeRule:!0},u),e.pass(u,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var r;const{gen:c,keyword:d,schema:u,parentSchema:h,$data:m,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const f=!m&&t.compile?t.compile.call(p.self,u,h,p):t.validate,y=l(c,d,f),g=c.let("valid");function v(r=(t.async?n._`await `:n.nil)){const o=p.opts.passContext?s.default.this:s.default.self,i=!("compile"in t&&!m||!1===t.schema);c.assign(g,n._`${r}${(0,a.callValidateCode)(e,y,o,i)}`,t.modifying)}function b(e){var r;c.if((0,n.not)(null!==(r=t.valid)&&void 0!==r?r:g),e)}e.block$data(g,(function(){if(!1===t.errors)v(),t.modifying&&i(e),b((()=>e.error()));else{const r=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>v(n._`await `)),(t=>c.assign(g,!1).if(n._`${t} instanceof ${p.ValidationError}`,(()=>c.assign(e,n._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=n._`${y}.errors`;return c.assign(e,null),v(n.nil),e}();t.modifying&&i(e),b((()=>function(e,t){const{gen:r}=e;r.if(n._`Array.isArray(${t})`,(()=>{r.assign(s.default.vErrors,n._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`).assign(s.default.errors,n._`${s.default.vErrors}.length`),(0,o.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:g)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(null==o?void 0:o.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const e=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}},65633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const n=r(56699),s=r(19205);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:a,schemaPath:o,errSchemaPath:i,topSchemaRef:l}){if(void 0!==t&&void 0!==a)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const a=e.schema[t];return void 0===r?{schema:a,schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,s.escapeFragment)(r)}`}}if(void 0!==a){if(void 0===o||void 0===i||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:o,topSchemaRef:l,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:a,data:o,dataTypes:i,propertyName:l}){if(void 0!==o&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==r){const{errorPath:o,dataPathArr:i,opts:l}=t;d(c.let("data",n._`${t.data}${(0,n.getProperty)(r)}`,!0)),e.errorPath=n.str`${o}${(0,s.getErrorPath)(r,a,l.jsPropertySyntax)}`,e.parentDataProperty=n._`${r}`,e.dataPathArr=[...i,e.parentDataProperty]}function d(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==o&&(d(o instanceof n.Name?o:c.let("data",o,!0)),void 0!==l&&(e.propertyName=l)),i&&(e.dataTypes=i)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){void 0!==n&&(e.compositeRule=n),void 0!==s&&(e.createErrors=s),void 0!==a&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}},28132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=r(79888);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var s=r(56699);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});const a=r(36024),o=r(39889),i=r(43402),l=r(16245),c=r(56699),d=r(9737),u=r(66542),h=r(19205),m=r(53983),p=r(86122),f=(e,t)=>new RegExp(e,t);f.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function $(e){var t,r,n,s,a,o,i,l,c,d,u,h,m,y,g,v,b,$,w,S,x,E,_,k,C;const P=e.strict,A=null===(t=e.code)||void 0===t?void 0:t.optimize,N=!0===A||void 0===A?1:A||0,T=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:f,O=null!==(s=e.uriResolver)&&void 0!==s?s:p.default;return{strictSchema:null===(o=null!==(a=e.strictSchema)&&void 0!==a?a:P)||void 0===o||o,strictNumbers:null===(l=null!==(i=e.strictNumbers)&&void 0!==i?i:P)||void 0===l||l,strictTypes:null!==(d=null!==(c=e.strictTypes)&&void 0!==c?c:P)&&void 0!==d?d:"log",strictTuples:null!==(h=null!==(u=e.strictTuples)&&void 0!==u?u:P)&&void 0!==h?h:"log",strictRequired:null!==(y=null!==(m=e.strictRequired)&&void 0!==m?m:P)&&void 0!==y&&y,code:e.code?{...e.code,optimize:N,regExp:T}:{optimize:N,regExp:T},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===($=e.messages)||void 0===$||$,inlineRefs:null===(w=e.inlineRefs)||void 0===w||w,schemaId:null!==(S=e.schemaId)&&void 0!==S?S:"$id",addUsedSchema:null===(x=e.addUsedSchema)||void 0===x||x,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(_=e.validateFormats)||void 0===_||_,unicodeRegExp:null===(k=e.unicodeRegExp)||void 0===k||k,int32range:null===(C=e.int32range)||void 0===C||C,uriResolver:O}}class w{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...$(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:g,es5:t,lines:r}),this.logger=function(e){if(!1===e)return P;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,i.getRules)(),S.call(this,v,e,"NOT SUPPORTED"),S.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=C.call(this),e.formats&&_.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&k.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),E.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let n=m;"id"===r&&(n={...m},n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await s.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||a.call(this,r)}async function s(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function a(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.default))throw t;return i.call(this,t),await l.call(this,t.missingSchema),a.call(this,e)}}function i({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const r=await c.call(this,e);this.refs[e]||await s.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let s;if("object"==typeof e){const{schemaId:t}=this.opts;if(s=e[t],void 0!==s&&"string"!=typeof s)throw new Error(`schema ${t} must be string`)}return t=(0,d.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=x.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,n=new l.SchemaEnv({schema:{},schemaId:r});if(t=l.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=x.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,d.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(N.call(this,r,t),!t)return(0,h.eachItem)(r,(e=>T.call(this,e))),this;I.call(this,t);const n={...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(r,0===n.type.length?e=>T.call(this,e,n):e=>n.type.forEach((t=>T.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let s=e;for(const e of t)s=s[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,a=s[e];n&&a&&(s[e]=D(a))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,s=this.opts.addUsedSchema){let a;const{schemaId:o}=this.opts;if("object"==typeof e)a=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;r=(0,d.normalizeId)(a||r);const c=d.getSchemaRefs.call(this,e,r);return i=new l.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:r,localRefs:c}),this._cache.set(i.schema,i),s&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=i),n&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function S(e,t,r,n="error"){for(const s in e){const a=s;a in t&&this.logger[n](`${r}: option ${s}. ${e[a]}`)}}function x(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}function E(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function _(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function k(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function C(){const e={...this.opts};for(const t of y)delete e[t];return e}w.ValidationError=a.default,w.MissingRefError=o.default,t.default=w;const P={log(){},warn(){},error(){}},A=/^[a-z_$][a-z0-9_$:-]*$/i;function N(e,t){const{RULES:r}=this;if((0,h.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!A.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function T(e,t,r){var n;const s=null==t?void 0:t.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:a}=this;let o=s?a.post:a.rules.find((({type:e})=>e===r));if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[e]=!0,!t)return;const i={keyword:e,definition:{...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)}};t.before?O.call(this,o,i,t.before):o.rules.push(i),a.all[e]=i,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function O(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function I(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=D(t)),e.validateSchema=this.compile(t,!0))}const j={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function D(e){return{anyOf:[e,j]}}},37464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(32017);n.code='require("ajv/dist/runtime/equal").default',t.default=n},12403:(e,t)=>{"use strict";function r(e){const t=e.length;let r,n=0,s=0;for(;s<t;)n++,r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<t&&(r=e.charCodeAt(s),56320==(64512&r)&&s++);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},86122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48343);n.code='require("ajv/dist/runtime/uri").default',t.default=n},36024:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},22891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const n=r(56699),s=r(19205),a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?o(e,n):(0,s.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function o(e,t){const{gen:r,schema:a,data:o,keyword:i,it:l}=e;l.items=!0;const c=r.const("len",n._`${o}.length`);if(!1===a)e.setParams({len:t.length}),e.pass(n._`${c} <= ${t.length}`);else if("object"==typeof a&&!(0,s.alwaysValidSchema)(l,a)){const a=r.var("valid",n._`${c} <= ${t.length}`);r.if((0,n.not)(a),(()=>function(a){r.forRange("i",t.length,c,(t=>{e.subschema({keyword:i,dataProp:t,dataPropType:s.Type.Num},a),l.allErrors||r.if((0,n.not)(a),(()=>r.break()))}))}(a))),e.ok(a)}}t.validateAdditionalItems=o,t.default=a},85622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62235),s=r(56699),a=r(65373),o=r(19205),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>s._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:i,data:l,errsCount:c,it:d}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:u,opts:h}=d;if(d.props=!0,"all"!==h.removeAdditional&&(0,o.alwaysValidSchema)(d,r))return;const m=(0,n.allSchemaProperties)(i.properties),p=(0,n.allSchemaProperties)(i.patternProperties);function f(e){t.code(s._`delete ${l}[${e}]`)}function y(n){if("all"===h.removeAdditional||h.removeAdditional&&!1===r)f(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(u||t.break());if("object"==typeof r&&!(0,o.alwaysValidSchema)(d,r)){const r=t.name("valid");"failing"===h.removeAdditional?(g(n,r,!1),t.if((0,s.not)(r),(()=>{e.reset(),f(n)}))):(g(n,r),u||t.if((0,s.not)(r),(()=>t.break())))}}}function g(t,r,n){const s={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};!1===n&&Object.assign(s,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(s,r)}t.forIn("key",l,(r=>{m.length||p.length?t.if(function(r){let a;if(m.length>8){const e=(0,o.schemaRefOrVal)(d,i.properties,"properties");a=(0,n.isOwnProperty)(t,e,r)}else a=m.length?(0,s.or)(...m.map((e=>s._`${r} === ${e}`))):s.nil;return p.length&&(a=(0,s.or)(a,...p.map((t=>s._`${(0,n.usePattern)(e,t)}.test(${r})`)))),(0,s.not)(a)}(r),(()=>y(r))):y(r)})),e.ok(s._`${c} === ${a.default.errors}`)}};t.default=i},54866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19205),s={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach(((t,r)=>{if((0,n.alwaysValidSchema)(s,t))return;const o=e.subschema({keyword:"allOf",schemaProp:r},a);e.ok(a),e.mergeEvaluated(o)}))}};t.default=s},8408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(62235).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},95011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`must contain at least ${e} valid item(s)`:n.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:o,it:i}=e;let l,c;const{minContains:d,maxContains:u}=a;i.opts.next?(l=void 0===d?1:d,c=u):l=1;const h=t.const("len",n._`${o}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,s.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,s.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,s.alwaysValidSchema)(i,r)){let t=n._`${h} >= ${l}`;return void 0!==c&&(t=n._`${t} && ${h} <= ${c}`),void e.pass(t)}i.items=!0;const m=t.name("valid");function p(){const e=t.name("_valid"),r=t.let("count",0);f(e,(()=>t.if(e,(()=>function(e){t.code(n._`${e}++`),void 0===c?t.if(n._`${e} >= ${l}`,(()=>t.assign(m,!0).break())):(t.if(n._`${e} > ${c}`,(()=>t.assign(m,!1).break())),1===l?t.assign(m,!0):t.if(n._`${e} >= ${l}`,(()=>t.assign(m,!0))))}(r)))))}function f(r,n){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:s.Type.Num,compositeRule:!0},r),n()}))}void 0===c&&1===l?f(m,(()=>t.if(m,(()=>t.break())))):0===l?(t.let(m,!0),void 0!==c&&t.if(n._`${o}.length > 0`,p)):(t.let(m,!1),p()),e.result(m,(()=>e.reset()))}};t.default=a},81451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(56699),s=r(19205),a=r(62235);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const s=1===t?"property":"properties";return n.str`must have ${s} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:s}})=>n._`{property: ${e},
    missingProperty: ${s},
    depsCount: ${t},
    deps: ${r}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}(e);i(e,t),l(e,r)}};function i(e,t=e.schema){const{gen:r,data:s,it:o}=e;if(0===Object.keys(t).length)return;const i=r.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const d=(0,a.propertyInData)(r,s,l,o.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),o.allErrors?r.if(d,(()=>{for(const t of c)(0,a.checkReportMissingProp)(e,t)})):(r.if(n._`${d} && (${(0,a.checkMissingProp)(e,c,i)})`),(0,a.reportMissingProp)(e,i),r.else())}}function l(e,t=e.schema){const{gen:r,data:n,keyword:o,it:i}=e,l=r.name("valid");for(const c in t)(0,s.alwaysValidSchema)(i,t[c])||(r.if((0,a.propertyInData)(r,n,c,i.opts.ownProperties),(()=>{const t=e.subschema({keyword:o,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>r.var(l,!0))),e.ok(l))}t.validatePropertyDeps=i,t.validateSchemaDeps=l,t.default=o},58445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`must match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:a}=e;void 0===r.then&&void 0===r.else&&(0,s.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const i=o(a,"then"),l=o(a,"else");if(!i&&!l)return;const c=t.let("valid",!0),d=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),i&&l){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(d,u("then",r),u("else",r))}else i?t.if(d,u("then")):t.if((0,n.not)(d),u("else"));function u(r,s){return()=>{const a=e.subschema({keyword:r},d);t.assign(c,d),e.mergeValidEvaluated(a,c),s?t.assign(s,n._`${r}`):e.setParams({ifClause:r})}}e.pass(c,(()=>e.error(!0)))}};function o(e,t){const r=e.schema[t];return void 0!==r&&!(0,s.alwaysValidSchema)(e,r)}t.default=a},53308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22891),s=r(29236),a=r(1096),o=r(67208),i=r(95011),l=r(81451),c=r(97267),d=r(85622),u=r(27711),h=r(16699),m=r(8265),p=r(8408),f=r(1937),y=r(54866),g=r(58445),v=r(67908);t.default=function(e=!1){const t=[m.default,p.default,f.default,y.default,g.default,v.default,c.default,d.default,l.default,u.default,h.default];return e?t.push(s.default,o.default):t.push(n.default,a.default),t.push(i.default),t}},1096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const n=r(56699),s=r(19205),a=r(62235),o={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return i(e,"additionalItems",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,a.validateArray)(e))}};function i(e,t,r=e.schema){const{gen:a,parentSchema:o,data:i,keyword:l,it:c}=e;!function(e){const{opts:n,errSchemaPath:a}=c,o=r.length,i=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(n.strictTuples&&!i){const e=`"${l}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${a}"`;(0,s.checkStrictMode)(c,e,n.strictTuples)}}(o),c.opts.unevaluated&&r.length&&!0!==c.items&&(c.items=s.mergeEvaluated.items(a,r.length,c.items));const d=a.name("valid"),u=a.const("len",n._`${i}.length`);r.forEach(((t,r)=>{(0,s.alwaysValidSchema)(c,t)||(a.if(n._`${u} > ${r}`,(()=>e.subschema({keyword:l,schemaProp:r,dataProp:r},d))),e.ok(d))}))}t.validateTuple=i,t.default=o},67208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a=r(62235),o=r(22891),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,(0,s.alwaysValidSchema)(n,t)||(i?(0,o.validateAdditionalItems)(e,i):e.ok((0,a.validateArray)(e)))}};t.default=i},8265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19205),s={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:s}=e;if((0,n.alwaysValidSchema)(s,r))return void e.fail();const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=s},1937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:a,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&a.discriminator)return;const i=r,l=t.let("valid",!1),c=t.let("passing",null),d=t.name("_valid");e.setParams({passing:c}),t.block((function(){i.forEach(((r,a)=>{let i;(0,s.alwaysValidSchema)(o,r)?t.var(d,!0):i=e.subschema({keyword:"oneOf",schemaProp:a,compositeRule:!0},d),a>0&&t.if(n._`${d} && ${l}`).assign(l,!1).assign(c,n._`[${c}, ${a}]`).else(),t.if(d,(()=>{t.assign(l,!0),t.assign(c,a),i&&e.mergeEvaluated(i,n.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=a},16699:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62235),s=r(56699),a=r(19205),o=r(19205),i={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:i,parentSchema:l,it:c}=e,{opts:d}=c,u=(0,n.allSchemaProperties)(r),h=u.filter((e=>(0,a.alwaysValidSchema)(c,r[e])));if(0===u.length||h.length===u.length&&(!c.opts.unevaluated||!0===c.props))return;const m=d.strictSchema&&!d.allowMatchingProperties&&l.properties,p=t.name("valid");!0===c.props||c.props instanceof s.Name||(c.props=(0,o.evaluatedPropsToName)(t,c.props));const{props:f}=c;function y(e){for(const t in m)new RegExp(e).test(t)&&(0,a.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(r){t.forIn("key",i,(a=>{t.if(s._`${(0,n.usePattern)(e,r)}.test(${a})`,(()=>{const n=h.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:a,dataPropType:o.Type.Str},p),c.opts.unevaluated&&!0!==f?t.assign(s._`${f}[${a}]`,!0):n||c.allErrors||t.if((0,s.not)(p),(()=>t.break()))}))}))}!function(){for(const e of u)m&&y(e),c.allErrors?g(e):(t.var(p,!0),g(e),t.if(p))}()}};t.default=i},29236:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1096),s={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")};t.default=s},27711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(79888),s=r(62235),a=r(19205),o=r(85622),i={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:i,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===i.additionalProperties&&o.default.code(new n.KeywordCxt(c,o.default,"additionalProperties"));const d=(0,s.allSchemaProperties)(r);for(const e of d)c.definedProperties.add(e);c.opts.unevaluated&&d.length&&!0!==c.props&&(c.props=a.mergeEvaluated.props(t,(0,a.toHash)(d),c.props));const u=d.filter((e=>!(0,a.alwaysValidSchema)(c,r[e])));if(0===u.length)return;const h=t.name("valid");for(const r of u)m(r)?p(r):(t.if((0,s.propertyInData)(t,l,r,c.opts.ownProperties)),p(r),c.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(h);function m(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==r[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=i},97267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:a,it:o}=e;if((0,s.alwaysValidSchema)(o,r))return;const i=t.name("valid");t.forIn("key",a,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},i),t.if((0,n.not)(i),(()=>{e.error(!0),o.allErrors||t.break()}))})),e.ok(i)}};t.default=a},67908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19205),s={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t.default=s},62235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(56699),s=r(19205),a=r(65373),o=r(19205);function i(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function l(e,t,r){return n._`${i(e)}.call(${t}, ${r})`}function c(e,t,r,s){const a=n._`${t}${(0,n.getProperty)(r)} === undefined`;return s?(0,n.or)(a,(0,n.not)(l(e,t,r))):a}function d(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:s,it:a}=e;r.if(c(r,s,t,a.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},s,a){return(0,n.or)(...s.map((s=>(0,n.and)(c(e,t,s,r.ownProperties),n._`${a} = ${s}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=i,t.isOwnProperty=l,t.propertyInData=function(e,t,r,s){const a=n._`${t}${(0,n.getProperty)(r)} !== undefined`;return s?n._`${a} && ${l(e,t,r)}`:a},t.noPropertyInData=c,t.allSchemaProperties=d,t.schemaProperties=function(e,t){return d(t).filter((r=>!(0,s.alwaysValidSchema)(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:o,errorPath:i},it:l},c,d,u){const h=u?n._`${e}, ${t}, ${s}${o}`:t,m=[[a.default.instancePath,(0,n.strConcat)(a.default.instancePath,i)],[a.default.parentData,l.parentData],[a.default.parentDataProperty,l.parentDataProperty],[a.default.rootData,a.default.rootData]];l.opts.dynamicRef&&m.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);const p=n._`${h}, ${r.object(...m)}`;return d!==n.nil?n._`${c}.call(${d}, ${p})`:n._`${c}(${p})`};const u=n._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){const s=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(r,s);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:n._`${"new RegExp"===a.code?u:(0,o.useFunc)(e,a)}(${r}, ${s})`})},t.validateArray=function(e){const{gen:t,data:r,keyword:a,it:o}=e,i=t.name("valid");if(o.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(i,!0),l((()=>t.break())),i;function l(o){const l=t.const("len",n._`${r}.length`);t.forRange("i",0,l,(r=>{e.subschema({keyword:a,dataProp:r,dataPropType:s.Type.Num},i),t.if((0,n.not)(i),o)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:a,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>(0,s.alwaysValidSchema)(o,e)))&&!o.opts.unevaluated)return;const i=t.let("valid",!1),l=t.name("_valid");t.block((()=>r.forEach(((r,s)=>{const o=e.subschema({keyword:a,schemaProp:s,compositeRule:!0},l);t.assign(i,n._`${i} || ${l}`),e.mergeValidEvaluated(o,l)||t.if((0,n.not)(i))})))),e.result(i,(()=>e.reset()),(()=>e.error(!0)))}},68729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},63418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(68729),s=r(61475),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,s.default];t.default=a},61475:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(39889),s=r(62235),a=r(56699),o=r(65373),i=r(16245),l=r(19205),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:s}=e,{baseId:o,schemaEnv:l,validateName:c,opts:h,self:m}=s,{root:p}=l;if(("#"===r||"#/"===r)&&o===p.baseId)return function(){if(l===p)return u(e,c,l,l.$async);const r=t.scopeValue("root",{ref:p});return u(e,a._`${r}.validate`,p,p.$async)}();const f=i.resolveRef.call(m,p,o,r);if(void 0===f)throw new n.default(s.opts.uriResolver,o,r);return f instanceof i.SchemaEnv?function(t){const r=d(e,t);u(e,r,t,t.$async)}(f):function(n){const s=t.scopeValue("schema",!0===h.code.source?{ref:n,code:(0,a.stringify)(n)}:{ref:n}),o=t.name("valid"),i=e.subschema({schema:n,dataTypes:[],schemaPath:a.nil,topSchemaRef:s,errSchemaPath:r},o);e.mergeEvaluated(i),e.ok(o)}(f)}};function d(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):a._`${r.scopeValue("wrapper",{ref:t})}.validate`}function u(e,t,r,n){const{gen:i,it:c}=e,{allErrors:d,schemaEnv:u,opts:h}=c,m=h.passContext?o.default.this:a.nil;function p(e){const t=a._`${e}.errors`;i.assign(o.default.vErrors,a._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`),i.assign(o.default.errors,a._`${o.default.vErrors}.length`)}function f(e){var t;if(!c.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(n&&!n.dynamicProps)void 0!==n.props&&(c.props=l.mergeEvaluated.props(i,n.props,c.props));else{const t=i.var("props",a._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(i,t,c.props,a.Name)}if(!0!==c.items)if(n&&!n.dynamicItems)void 0!==n.items&&(c.items=l.mergeEvaluated.items(i,n.items,c.items));else{const t=i.var("items",a._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(i,t,c.items,a.Name)}}n?function(){if(!u.$async)throw new Error("async schema referenced by sync schema");const r=i.let("valid");i.try((()=>{i.code(a._`await ${(0,s.callValidateCode)(e,t,m)}`),f(t),d||i.assign(r,!0)}),(e=>{i.if(a._`!(${e} instanceof ${c.ValidationError})`,(()=>i.throw(e))),p(e),d||i.assign(r,!1)})),e.ok(r)}():e.result((0,s.callValidateCode)(e,t,m),(()=>f(t)),(()=>p(t)))}t.getValidate=d,t.callRef=u,t.default=c},50575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(22886),a=r(16245),o=r(39889),i=r(19205),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===s.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>n._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:l,parentSchema:c,it:d}=e,{oneOf:u}=c;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=l.propertyName;if("string"!=typeof h)throw new Error("discriminator: requires propertyName");if(l.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const m=t.let("valid",!1),p=t.const("tag",n._`${r}${(0,n.getProperty)(h)}`);function f(r){const s=t.name("valid"),a=e.subschema({keyword:"oneOf",schemaProp:r},s);return e.mergeEvaluated(a,n.Name),s}t.if(n._`typeof ${p} == "string"`,(()=>function(){const r=function(){var e;const t={},r=s(c);let n=!0;for(let t=0;t<u.length;t++){let c=u[t];if((null==c?void 0:c.$ref)&&!(0,i.schemaHasRulesButRef)(c,d.self.RULES)){const e=c.$ref;if(c=a.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,e),c instanceof a.SchemaEnv&&(c=c.schema),void 0===c)throw new o.default(d.opts.uriResolver,d.baseId,e)}const m=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[h];if("object"!=typeof m)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);n=n&&(r||s(c)),l(m,t)}if(!n)throw new Error(`discriminator: "${h}" must be required`);return t;function s({required:e}){return Array.isArray(e)&&e.includes(h)}function l(e,t){if(e.const)m(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`);for(const r of e.enum)m(r,t)}}function m(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${h}" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(n._`${p} === ${e}`),t.assign(m,f(r[e]));t.else(),e.error(!1,{discrError:s.DiscrError.Mapping,tag:p,tagName:h}),t.endIf()}()),(()=>e.error(!1,{discrError:s.DiscrError.Tag,tag:p,tagName:h}))),e.ok(m)}};t.default=l},22886:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(r||(t.DiscrError=r={}))},26594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(63418),s=r(33742),a=r(53308),o=r(53478),i=r(53727),l=[n.default,s.default,(0,a.default)(),o.default,i.metadataVocabulary,i.contentVocabulary];t.default=l},94887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`must match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:r,data:s,$data:a,schema:o,schemaCode:i,it:l}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:h}=l;c.validateFormats&&(a?function(){const a=r.scopeValue("formats",{ref:h.formats,code:c.code.formats}),o=r.const("fDef",n._`${a}[${i}]`),l=r.let("fType"),d=r.let("format");r.if(n._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>r.assign(l,n._`${o}.type || "string"`).assign(d,n._`${o}.validate`)),(()=>r.assign(l,n._`"string"`).assign(d,o))),e.fail$data((0,n.or)(!1===c.strictSchema?n.nil:n._`${i} && !${d}`,function(){const e=u.$async?n._`(${o}.async ? await ${d}(${s}) : ${d}(${s}))`:n._`${d}(${s})`,r=n._`(typeof ${d} == "function" ? ${e} : ${d}.test(${s}))`;return n._`${d} && ${d} !== true && ${l} === ${t} && !${r}`}()))}():function(){const a=h.formats[o];if(!a)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${d}"`}h.logger.warn(e())}();if(!0===a)return;const[i,l,m]=function(e){const t=e instanceof RegExp?(0,n.regexpCode)(e):c.code.formats?n._`${c.code.formats}${(0,n.getProperty)(o)}`:void 0,s=r.scopeValue("formats",{key:o,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,s]:[e.type||"string",e.validate,n._`${s}.validate`]}(a);i===t&&e.pass(function(){if("object"==typeof a&&!(a instanceof RegExp)&&a.async){if(!u.$async)throw new Error("async format in sync schema");return n._`await ${m}(${s})`}return"function"==typeof l?n._`${m}(${s})`:n._`${m}.test(${s})`}())}())}};t.default=s},53478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[r(94887).default];t.default=n},53727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},28085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a=r(37464),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:o,schemaCode:i,schema:l}=e;o||l&&"object"==typeof l?e.fail$data(n._`!${(0,s.useFunc)(t,a.default)}(${r}, ${i})`):e.fail(n._`${l} !== ${r}`)}};t.default=o},62758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a=r(37464),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:o,schema:i,schemaCode:l,it:c}=e;if(!o&&0===i.length)throw new Error("enum must have non-empty array");const d=i.length>=c.opts.loopEnum;let u;const h=()=>null!=u?u:u=(0,s.useFunc)(t,a.default);let m;if(d||o)m=t.let("valid"),e.block$data(m,(function(){t.assign(m,!1),t.forOf("v",l,(e=>t.if(n._`${h()}(${r}, ${e})`,(()=>t.assign(m,!0).break()))))}));else{if(!Array.isArray(i))throw new Error("ajv implementation error");const e=t.const("vSchema",l);m=(0,n.or)(...i.map(((t,s)=>function(e,t){const s=i[t];return"object"==typeof s&&null!==s?n._`${h()}(${r}, ${e}[${t}])`:n._`${r} === ${s}`}(e,s))))}e.pass(m)}};t.default=o},33742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23036),s=r(32785),a=r(83513),o=r(50556),i=r(10844),l=r(34757),c=r(58153),d=r(30423),u=r(28085),h=r(62758),m=[n.default,s.default,a.default,o.default,i.default,l.default,c.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,h.default];t.default=m},58153:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:s}=e,a="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${a} ${s}`)}};t.default=s},83513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=r(19205),a=r(12403),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o,it:i}=e,l="maxLength"===t?n.operators.GT:n.operators.LT,c=!1===i.opts.unicode?n._`${r}.length`:n._`${(0,s.useFunc)(e.gen,a.default)}(${r})`;e.fail$data(n._`${c} ${l} ${o}`)}};t.default=o},23036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s=n.operators,a={maximum:{okStr:"<=",ok:s.LTE,fail:s.GT},minimum:{okStr:">=",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},o={message:({keyword:e,schemaCode:t})=>n.str`must be ${a[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${a[e].okStr}, limit: ${t}}`},i={keyword:Object.keys(a),type:"number",schemaType:"number",$data:!0,error:o,code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(n._`${r} ${a[t].fail} ${s} || isNaN(${r})`)}};t.default=i},10844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:s}=e,a="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${a} ${s}`)}};t.default=s},32785:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(56699),s={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`must be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:s,it:a}=e,o=a.opts.multipleOfPrecision,i=t.let("res"),l=o?n._`Math.abs(Math.round(${i}) - ${i}) > 1e-${o}`:n._`${i} !== parseInt(${i})`;e.fail$data(n._`(${s} === 0 || (${i} = ${r}/${s}, ${l}))`)}};t.default=s},50556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62235),s=r(56699),a={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>s.str`must match pattern "${e}"`,params:({schemaCode:e})=>s._`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:a,schemaCode:o,it:i}=e,l=i.opts.unicodeRegExp?"u":"",c=r?s._`(new RegExp(${o}, ${l}))`:(0,n.usePattern)(e,a);e.fail$data(s._`!${c}.test(${t})`)}};t.default=a},34757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62235),s=r(56699),a=r(19205),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>s.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>s._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:o,data:i,$data:l,it:c}=e,{opts:d}=c;if(!l&&0===r.length)return;const u=r.length>=d.loopRequired;if(c.allErrors?function(){if(u||l)e.block$data(s.nil,h);else for(const t of r)(0,n.checkReportMissingProp)(e,t)}():function(){const a=t.let("missing");if(u||l){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,a){e.setParams({missingProperty:r}),t.forOf(r,o,(()=>{t.assign(a,(0,n.propertyInData)(t,i,r,d.ownProperties)),t.if((0,s.not)(a),(()=>{e.error(),t.break()}))}),s.nil)}(a,r))),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,a)),(0,n.reportMissingProp)(e,a),t.else()}(),d.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,a.checkStrictMode)(c,t,c.opts.strictRequired)}}function h(){t.forOf("prop",o,(r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,i,r,d.ownProperties),(()=>e.error()))}))}}};t.default=o},30423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(66542),s=r(56699),a=r(19205),o=r(37464),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>s.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>s._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:i,schema:l,parentSchema:c,schemaCode:d,it:u}=e;if(!i&&!l)return;const h=t.let("valid"),m=c.items?(0,n.getSchemaTypes)(c.items):[];function p(a,o){const i=t.name("item"),l=(0,n.checkDataTypes)(m,i,u.opts.strictNumbers,n.DataType.Wrong),c=t.const("indices",s._`{}`);t.for(s._`;${a}--;`,(()=>{t.let(i,s._`${r}[${a}]`),t.if(l,s._`continue`),m.length>1&&t.if(s._`typeof ${i} == "string"`,s._`${i} += "_"`),t.if(s._`typeof ${c}[${i}] == "number"`,(()=>{t.assign(o,s._`${c}[${i}]`),e.error(),t.assign(h,!1).break()})).code(s._`${c}[${i}] = ${a}`)}))}function f(n,i){const l=(0,a.useFunc)(t,o.default),c=t.name("outer");t.label(c).for(s._`;${n}--;`,(()=>t.for(s._`${i} = ${n}; ${i}--;`,(()=>t.if(s._`${l}(${r}[${n}], ${r}[${i}])`,(()=>{e.error(),t.assign(h,!1).break(c)}))))))}e.block$data(h,(function(){const n=t.let("i",s._`${r}.length`),a=t.let("j");e.setParams({i:n,j:a}),t.assign(h,!0),t.if(s._`${n} > 1`,(()=>(m.length>0&&!m.some((e=>"object"===e||"array"===e))?p:f)(n,a)))}),s._`${d} === false`),e.ok(h)}};t.default=i},30347:e=>{"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,s,a,o,i,l,c,d,u){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var h in n(a,o,i,l,c,d,u),a){var m=a[h];if(Array.isArray(m)){if(h in t.arrayKeywords)for(var p=0;p<m.length;p++)r(e,n,s,m[p],o+"/"+h+"/"+p,i,o,h,a,p)}else if(h in t.propsKeywords){if(m&&"object"==typeof m)for(var f in m)r(e,n,s,m[f],o+"/"+h+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),i,o,h,a,f)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,n,s,m,o+"/"+h,i,o,h,a)}s(a,o,i,l,c,d,u)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},14018:(e,t)=>{"use strict";function r(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(a,o),time:r(l,c),"date-time":r((function(e){const t=e.split(d);return 2===t.length&&a(t[0])&&l(t[1],!0)}),u),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return h.test(e)&&m.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(v.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return p.lastIndex=0,p.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=y&&e>=f}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:g},double:{type:"number",validate:g},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(e){const t=n.exec(e);if(!t)return!1;const r=+t[1],a=+t[2],o=+t[3];return a>=1&&a<=12&&o>=1&&o<=(2===a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:s[a])}function o(e,t){if(e&&t)return e>t?1:e<t?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(e,t){const r=i.exec(e);if(!r)return!1;const n=+r[1],s=+r[2],a=+r[3],o=r[5];return(n<=23&&s<=59&&a<=59||23===n&&59===s&&60===a)&&(!t||""!==o)}function c(e,t){if(!e||!t)return;const r=i.exec(e),n=i.exec(t);return r&&n?(e=r[1]+r[2]+r[3]+(r[4]||""))>(t=n[1]+n[2]+n[3]+(n[4]||""))?1:e<t?-1:0:void 0}const d=/t|\s/i;function u(e,t){if(!e||!t)return;const[r,n]=e.split(d),[s,a]=t.split(d),i=o(r,s);return void 0!==i?i||c(n,a):void 0}const h=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,f=-(2**31),y=2**31-1;function g(){return!0}const v=/[^\\]\\Z/},68182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14018),s=r(26461),a=r(93789),o=new a.Name("fullFormats"),i=new a.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return c(e,t,n.fullFormats,o),e;const[r,a]="fast"===t.mode?[n.fastFormats,i]:[n.fullFormats,o];return c(e,t.formats||n.formatNames,r,a),t.keywords&&s.default(e),e};function c(e,t,r,n){var s,o;null!==(s=(o=e.opts.code).formats)&&void 0!==s||(o.formats=a._`require("ajv-formats/dist/formats").${n}`);for(const n of t)e.addFormat(n,r[n])}l.get=(e,t="full")=>{const r=("fast"===t?n.fastFormats:n.fullFormats)[e];if(!r)throw new Error(`Unknown format "${e}"`);return r},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},26461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const n=r(22394),s=r(93789),a=s.operators,o={formatMaximum:{okStr:"<=",ok:a.LTE,fail:a.GT},formatMinimum:{okStr:">=",ok:a.GTE,fail:a.LT},formatExclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},formatExclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},i={message:({keyword:e,schemaCode:t})=>s.str`should be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>s._`{comparison: ${o[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:!0,error:i,code(e){const{gen:t,data:r,schemaCode:a,keyword:i,it:l}=e,{opts:c,self:d}=l;if(!c.validateFormats)return;const u=new n.KeywordCxt(l,d.RULES.all.format.definition,"format");function h(e){return s._`${e}.compare(${r}, ${a}) ${o[i].fail} 0`}u.$data?function(){const r=t.scopeValue("formats",{ref:d.formats,code:c.code.formats}),n=t.const("fmt",s._`${r}[${u.schemaCode}]`);e.fail$data(s.or(s._`typeof ${n} != "object"`,s._`${n} instanceof RegExp`,s._`typeof ${n}.compare != "function"`,h(n)))}():function(){const r=u.schema,n=d.formats[r];if(!n||!0===n)return;if("object"!=typeof n||n instanceof RegExp||"function"!=typeof n.compare)throw new Error(`"${i}": format "${r}" does not define "compare" function`);const a=t.scopeValue("formats",{key:r,ref:n,code:c.code.formats?s._`${c.code.formats}${s.getProperty(r)}`:void 0});e.fail$data(h(a))}()},dependencies:["format"]},t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},22394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=r(17666),s=r(4824),a=r(77013),o=r(92455),i=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),s.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(o,i):o;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var d=r(69810);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var u=r(93789);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}})},72104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class s extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function a(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)l(r,t[n]),r.push(e[++n]);return new s(r)}t._Code=s,t.nil=new s(""),t._=a;const o=new s("+");function i(e,...t){const r=[d(e[0])];let n=0;for(;n<t.length;)r.push(o),l(r,t[n]),r.push(o,d(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===o){const r=c(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new s(r)}function l(e,t){var r;t instanceof s?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:d(Array.isArray(r)?r.join(","):r))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function d(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=i,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:i`${e}${t}`},t.stringify=function(e){return new s(d(e))},t.safeStringify=d,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new s(`.${e}`):a`[${e}]`},t.regexpCode=function(e){return new s(e.toString())}},93789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(72104),s=r(45885);var a=r(72104);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}});var o=r(45885);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class i{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends i{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?s.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class c extends i{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=T(this.rhs,e,t),this}get names(){return N(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class d extends c{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class u extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class m extends i{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends i{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=T(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class f extends i{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const s=r[n];s.optimizeNames(e,t)||(O(e,s.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>A(e,t.names)),{})}}class y extends f{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends f{}class v extends y{}v.kind="else";class b extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(I(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=T(this.condition,e,t),this}get names(){const e=super.names;return N(e,this.condition),this.else&&A(e,this.else.names),e}}b.kind="if";class $ extends y{}$.kind="for";class w extends ${constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=T(this.iteration,e,t),this}get names(){return A(super.names,this.iteration.names)}}class S extends ${constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?s.varKinds.var:this.varKind,{name:r,from:n,to:a}=this;return`for(${t} ${r}=${n}; ${r}<${a}; ${r}++)`+super.render(e)}get names(){const e=N(super.names,this.from);return N(e,this.to)}}class x extends ${constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=T(this.iterable,e,t),this}get names(){return A(super.names,this.iterable.names)}}class E extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}E.kind="func";class _ extends f{render(e){return"return "+super.render(e)}}_.kind="return";class k extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&A(e,this.catch.names),this.finally&&A(e,this.finally.names),e}}class C extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}C.kind="catch";class P extends y{render(e){return"finally"+super.render(e)}}function A(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function N(e,t){return t instanceof n._CodeOrName?A(e,t.names):e}function T(e,t,r){return e instanceof n.Name?a(e):(s=e)instanceof n._Code&&s._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=a(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;var s;function a(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function O(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${M(e)}`}P.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new s.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const s=this._scope.toName(t);return void 0!==r&&n&&(this._constants[s.str]=r),this._leafNode(new l(e,s,r)),s}const(e,t,r){return this._def(s.varKinds.const,e,t,r)}let(e,t,r){return this._def(s.varKinds.let,e,t,r)}var(e,t,r){return this._def(s.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,r){return this._leafNode(new d(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,s]of e)t.length>1&&t.push(","),t.push(r),(r!==s||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,s));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new b(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new w(e),t)}forRange(e,t,r,n,a=(this.opts.es5?s.varKinds.var:s.varKinds.let)){const o=this._scope.toName(e);return this._for(new S(a,o,t,r),(()=>n(o)))}forOf(e,t,r,a=s.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(o,n._`${e}[${t}]`),r(o)}))}return this._for(new x("of",a,o,t),(()=>r(o)))}forIn(e,t,r,a=(this.opts.es5?s.varKinds.var:s.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const o=this._scope.toName(e);return this._for(new x("in",a,o,t),(()=>r(o)))}endFor(){return this._endBlockNode($)}label(e){return this._leafNode(new u(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new _;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new k;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new C(e),t(e)}return r&&(this._currNode=n.finally=new P,this.code(r)),this._endBlockNode(C,P)}throw(e){return this._leafNode(new m(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,s){return this._blockNode(new E(e,t,r)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=I;const j=R(t.operators.AND);t.and=function(...e){return e.reduce(j)};const D=R(t.operators.OR);function R(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${M(t)} ${e} ${M(r)}`}function M(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce(D)}},45885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(72104);class s extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var a;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(a=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=o;class i extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=i;const l=n._`\n`;t.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:n.nil}}get(){return this._scope}name(e){return new i(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:s}=n,a=null!==(r=t.key)&&void 0!==r?r:t.ref;let o=this._values[s];if(o){const e=o.get(a);if(e)return e}else o=this._values[s]=new Map;o.set(a,n);const i=this._scope[s]||(this._scope[s]=[]),l=i.length;return i[l]=t.ref,n.setValue(t,{property:s,itemIndex:l}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,o={},i){let l=n.nil;for(const c in e){const d=e[c];if(!d)continue;const u=o[c]=o[c]||new Map;d.forEach((e=>{if(u.has(e))return;u.set(e,a.Started);let o=r(e);if(o){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;l=n._`${l}${r} ${e} = ${o};${this.opts._n}`}else{if(!(o=null==i?void 0:i(e)))throw new s(e);l=n._`${l}${o}${this.opts._n}`}u.set(e,a.Completed)}))}return l}}},22796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(93789),s=r(7083),a=r(66735);function o(e,t){const r=e.const("err",t);e.if(n._`${a.default.vErrors} === null`,(()=>e.assign(a.default.vErrors,n._`[${r}]`)),n._`${a.default.vErrors}.push(${r})`),e.code(n._`${a.default.errors}++`)}function i(e,t){const{gen:r,validateName:s,schemaEnv:a}=e;a.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${s}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,s,a){const{it:l}=e,{gen:d,compositeRule:u,allErrors:h}=l,m=c(e,r,s);(null!=a?a:u||h)?o(d,m):i(l,n._`[${m}]`)},t.reportExtraError=function(e,r=t.keywordError,n){const{it:s}=e,{gen:l,compositeRule:d,allErrors:u}=s;o(l,c(e,r,n)),d||u||i(s,a.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(a.default.errors,t),e.if(n._`${a.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${a.default.vErrors}.length`,t)),(()=>e.assign(a.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:s,errsCount:o,it:i}){if(void 0===o)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",o,a.default.errors,(o=>{e.const(l,n._`${a.default.vErrors}[${o}]`),e.if(n._`${l}.instancePath === undefined`,(()=>e.assign(n._`${l}.instancePath`,(0,n.strConcat)(a.default.instancePath,i.errorPath)))),e.assign(n._`${l}.schemaPath`,n.str`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign(n._`${l}.schema`,r),e.assign(n._`${l}.data`,s))}))};const l={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function c(e,t,r){const{createErrors:s}=e.it;return!1===s?n._`{}`:function(e,t,r={}){const{gen:s,it:o}=e,i=[d(o,r),u(e,r)];return function(e,{params:t,message:r},s){const{keyword:o,data:i,schemaValue:c,it:d}=e,{opts:u,propertyName:h,topSchemaRef:m,schemaPath:p}=d;s.push([l.keyword,o],[l.params,"function"==typeof t?t(e):t||n._`{}`]),u.messages&&s.push([l.message,"function"==typeof r?r(e):r]),u.verbose&&s.push([l.schema,c],[l.parentSchema,n._`${m}${p}`],[a.default.data,i]),h&&s.push([l.propertyName,h])}(e,t,i),s.object(...i)}(e,t,r)}function d({errorPath:e},{instancePath:t}){const r=t?n.str`${e}${(0,s.getErrorPath)(t,s.Type.Str)}`:e;return[a.default.instancePath,(0,n.strConcat)(a.default.instancePath,r)]}function u({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:a}){let o=a?t:n.str`${t}/${e}`;return r&&(o=n.str`${o}${(0,s.getErrorPath)(r,s.Type.Str)}`),[l.schemaPath,o]}},65219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(93789),s=r(99598),a=r(66735),o=r(63043),i=r(7083),l=r(69810),c=r(46579);class d{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,o.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function u(e){const t=m.call(this,e);if(t)return t;const r=(0,o.getFullPath)(e.root.baseId),{es5:i,lines:c}=this.opts.code,{ownProperties:d}=this.opts,u=new n.CodeGen(this.scope,{es5:i,lines:c,ownProperties:d});let h;e.$async&&(h=u.scopeValue("Error",{ref:s.default,code:n._`require("ajv/dist/runtime/validation_error").default`}));const p=u.scopeName("validate");e.validateName=p;const f={gen:u,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:n._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,l.validateFunctionCode)(f),u.optimize(this.opts.code.optimize);const t=u.toString();y=`${u.scopeRefs(a.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const r=new Function(`${a.default.self}`,`${a.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:p,validateCode:t,scopeValues:u._values}),this.opts.unevaluated){const{props:e,items:t}=f;r.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},r.source&&(r.source.evaluated=(0,n.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),t}finally{this._compilations.delete(e)}}function h(e){return(0,o.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function m(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function p(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||f.call(this,e,t)}function f(e,t){const r=c.parse(t),n=(0,o._getFullPath)(r);let s=(0,o.getFullPath)(e.baseId);if(Object.keys(e.schema).length>0&&n===s)return g.call(this,r,e);const a=(0,o.normalizeId)(n),i=this.refs[a]||this.schemas[a];if("string"==typeof i){const t=f.call(this,e,i);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,r,t)}if("object"==typeof(null==i?void 0:i.schema)){if(i.validate||u.call(this,i),a===(0,o.normalizeId)(t)){const{schema:t}=i,{schemaId:r}=this.opts,n=t[r];return n&&(s=(0,o.resolveUrl)(s,n)),new d({schema:t,schemaId:r,root:e,baseId:s})}return g.call(this,r,i)}}t.SchemaEnv=d,t.compileSchema=u,t.resolveRef=function(e,t,r){var n;r=(0,o.resolveUrl)(t,r);const s=e.refs[r];if(s)return s;let a=p.call(this,e,r);if(void 0===a){const s=null===(n=e.localRefs)||void 0===n?void 0:n[r],{schemaId:o}=this.opts;s&&(a=new d({schema:s,schemaId:o,root:e,baseId:t}))}return void 0!==a?e.refs[r]=h.call(this,a):void 0},t.getCompilingSchema=m,t.resolveSchema=f;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:r,root:n}){var s;if("/"!==(null===(s=e.fragment)||void 0===s?void 0:s[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;const e=r[(0,i.unescapeFragment)(n)];if(void 0===e)return;const s="object"==typeof(r=e)&&r[this.opts.schemaId];!y.has(n)&&s&&(t=(0,o.resolveUrl)(t,s))}let a;if("boolean"!=typeof r&&r.$ref&&!(0,i.schemaHasRulesButRef)(r,this.RULES)){const e=(0,o.resolveUrl)(t,r.$ref);a=f.call(this,n,e)}const{schemaId:l}=this.opts;return a=a||new d({schema:r,schemaId:l,root:n,baseId:t}),a.schema!==a.root.schema?a:void 0}},66735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=s},70303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(63043);class s extends Error{constructor(e,t,r){super(r||`can't resolve reference ${t} from id ${e}`),this.missingRef=(0,n.resolveUrl)(e,t),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(this.missingRef))}}t.default=s},63043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(7083),s=r(32017),a=r(67242),o=r(46579),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&d(e)<=t)};const l=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(l.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function d(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!i.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(e=>t+=d(e))),t===1/0))return 1/0}return t}function u(e="",t){return!1!==t&&(e=p(e)),h(o.parse(e))}function h(e){return o.serialize(e).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=h;const m=/#\/?$/;function p(e){return e?e.replace(m,""):""}t.normalizeId=p,t.resolveUrl=function(e,t){return t=p(t),o.resolve(e,t)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:r}=this.opts,n=p(e[r]||t),i={"":n},l=u(n,!1),c={},d=new Set;return a(e,{allKeys:!0},((e,t,n,s)=>{if(void 0===s)return;const a=l+t;let u=i[s];function y(t){if(t=p(u?o.resolve(u,t):t),d.has(t))throw m(t);d.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?h(e,r.schema,t):t!==p(a)&&("#"===t[0]?(h(e,c[t],t),c[t]=e):this.refs[t]=a),t}function g(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);y.call(this,`#${e}`)}}"string"==typeof e[r]&&(u=y.call(this,e[r])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),i[t]=u})),c;function h(e,t,r){if(void 0!==t&&!s(e,t))throw m(r)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},27476:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},7083:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(93789),s=r(72104);function a(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema)return;if("boolean"==typeof t)return;const s=n.RULES.keywords;for(const r in t)s[r]||p(e,`unknown keyword: "${r}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function i(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:s}){return(a,o,i,l)=>{const c=void 0===i?o:i instanceof n.Name?(o instanceof n.Name?e(a,o,i):t(a,o,i),i):o instanceof n.Name?(t(a,i,o),o):r(o,i);return l!==n.Name||c instanceof n.Name?c:s(a,c)}}function d(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&u(e,r,t),r}function u(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${(0,n.getProperty)(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(a(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=a,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,s,a){if(!a){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${(0,n.getProperty)(s)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(i(e))},t.escapeJsonPointer=i,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),u(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:d}),items:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=d,t.setEvaluated=u;const h={};var m;function p(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new s._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(m=t.Type||(t.Type={})),t.getErrorPath=function(e,t,r){if(e instanceof n.Name){const s=t===m.Num;return r?s?n._`"[" + ${e} + "]"`:n._`"['" + ${e} + "']"`:s?n._`"/" + ${e}`:n._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,n.getProperty)(e).toString():"/"+i(e)},t.checkStrictMode=p},65335:(e,t)=>{"use strict";function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const s=t.RULES.types[n];return s&&!0!==s&&r(e,s)},t.shouldUseGroup=r,t.shouldUseRule=n},15583:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(22796),s=r(93789),a=r(66735),o={message:"boolean schema is false"};function i(e,t){const{gen:r,data:s}=e,a={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,n.reportError)(a,o,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?i(e,!1):"object"==typeof r&&!0===r.$async?t.return(a.default.data):(t.assign(s._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),i(e)):r.var(t,!0)}},28840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(27476),s=r(65335),a=r(22796),o=r(93789),i=r(7083);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:n,opts:a}=e,i=function(e,t){return t?e.filter((e=>d.has(e)||"array"===t&&"array"===e)):[]}(t,a.coerceTypes),c=t.length>0&&!(0===i.length&&1===t.length&&(0,s.schemaHasRulesForType)(e,t[0]));if(c){const s=h(t,n,a.strictNumbers,l.Wrong);r.if(s,(()=>{i.length?function(e,t,r){const{gen:n,data:s,opts:a}=e,i=n.let("dataType",o._`typeof ${s}`),l=n.let("coerced",o._`undefined`);"array"===a.coerceTypes&&n.if(o._`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,(()=>n.assign(s,o._`${s}[0]`).assign(i,o._`typeof ${s}`).if(h(t,s,a.strictNumbers),(()=>n.assign(l,s))))),n.if(o._`${l} !== undefined`);for(const e of r)(d.has(e)||"array"===e&&"array"===a.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void n.elseIf(o._`${i} == "number" || ${i} == "boolean"`).assign(l,o._`"" + ${s}`).elseIf(o._`${s} === null`).assign(l,o._`""`);case"number":return void n.elseIf(o._`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(l,o._`+${s}`);case"integer":return void n.elseIf(o._`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,o._`+${s}`);case"boolean":return void n.elseIf(o._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf(o._`${s} === "true" || ${s} === 1`).assign(l,!0);case"null":return n.elseIf(o._`${s} === "" || ${s} === 0 || ${s} === false`),void n.assign(l,null);case"array":n.elseIf(o._`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(l,o._`[${s}]`)}}n.else(),p(e),n.endIf(),n.if(o._`${l} !== undefined`,(()=>{n.assign(s,l),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(o._`${t} !== undefined`,(()=>e.assign(o._`${t}[${r}]`,n)))}(e,l)}))}(e,t,i):p(e)}))}return c};const d=new Set(["string","number","integer","boolean","null"]);function u(e,t,r,n=l.Correct){const s=n===l.Correct?o.operators.EQ:o.operators.NEQ;let a;switch(e){case"null":return o._`${t} ${s} null`;case"array":a=o._`Array.isArray(${t})`;break;case"object":a=o._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i(o._`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return o._`typeof ${t} ${s} ${e}`}return n===l.Correct?a:(0,o.not)(a);function i(e=o.nil){return(0,o.and)(o._`typeof ${t} == "number"`,e,r?o._`isFinite(${t})`:o.nil)}}function h(e,t,r,n){if(1===e.length)return u(e[0],t,r,n);let s;const a=(0,i.toHash)(e);if(a.array&&a.object){const e=o._`typeof ${t} != "object"`;s=a.null?e:o._`!${t} || ${e}`,delete a.null,delete a.array,delete a.object}else s=o.nil;a.number&&delete a.integer;for(const e in a)s=(0,o.and)(s,u(e,t,r,n));return s}t.checkDataType=u,t.checkDataTypes=h;const m={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?o._`{type: ${e}}`:o._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:r,schema:n}=e,s=(0,i.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}(e);(0,a.reportError)(t,m)}t.reportTypeError=p},75590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(93789),s=r(7083);function a(e,t,r){const{gen:a,compositeRule:o,data:i,opts:l}=e;if(void 0===r)return;const c=n._`${i}${(0,n.getProperty)(t)}`;if(o)return void(0,s.checkStrictMode)(e,`default is ignored for: ${c}`);let d=n._`${c} === undefined`;"empty"===l.useDefaults&&(d=n._`${d} || ${c} === null || ${c} === ""`),a.if(d,n._`${c} = ${(0,n.stringify)(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const t in r)a(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>a(e,r,t.default)))}},69810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=r(15583),s=r(28840),a=r(65335),o=r(28840),i=r(75590),l=r(62657),c=r(19543),d=r(93789),u=r(66735),h=r(63043),m=r(7083),p=r(22796);function f({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,d._`${u.default.data}, ${u.default.valCxt}`,n.$async,(()=>{e.code(d._`"use strict"; ${y(r,s)}`),function(e,t){e.if(u.default.valCxt,(()=>{e.var(u.default.instancePath,d._`${u.default.valCxt}.${u.default.instancePath}`),e.var(u.default.parentData,d._`${u.default.valCxt}.${u.default.parentData}`),e.var(u.default.parentDataProperty,d._`${u.default.valCxt}.${u.default.parentDataProperty}`),e.var(u.default.rootData,d._`${u.default.valCxt}.${u.default.rootData}`),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`${u.default.valCxt}.${u.default.dynamicAnchors}`)}),(()=>{e.var(u.default.instancePath,d._`""`),e.var(u.default.parentData,d._`undefined`),e.var(u.default.parentDataProperty,d._`undefined`),e.var(u.default.rootData,u.default.data),t.dynamicRef&&e.var(u.default.dynamicAnchors,d._`{}`)}))}(e,s),e.code(a)})):e.func(t,d._`${u.default.data}, ${function(e){return d._`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${e.dynamicRef?d._`, ${u.default.dynamicAnchors}={}`:d.nil}}={}`}(s)}`,n.$async,(()=>e.code(y(r,s)).code(a)))}function y(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?d._`/*# sourceURL=${r} */`:d.nil}function g({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function v(e){return"boolean"!=typeof e.schema}function b(e){(0,m.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function $(e,t){if(e.opts.jtd)return S(e,[],!1,t);const r=(0,s.getSchemaTypes)(e.schema);S(e,r,!(0,s.coerceAndCheckDataType)(e,r),t)}function w({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(!0===s.$comment)e.code(d._`${u.default.self}.logger.log(${a})`);else if("function"==typeof s.$comment){const r=d.str`${n}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code(d._`${u.default.self}.opts.$comment(${a}, ${r}, ${s}.schema)`)}}function S(e,t,r,n){const{gen:s,schema:i,data:l,allErrors:c,opts:h,self:p}=e,{RULES:f}=p;function y(m){(0,a.shouldUseGroup)(i,m)&&(m.type?(s.if((0,o.checkDataType)(m.type,l,h.strictNumbers)),x(e,m),1===t.length&&t[0]===m.type&&r&&(s.else(),(0,o.reportTypeError)(e)),s.endIf()):x(e,m),c||s.if(d._`${u.default.errors} === ${n||0}`))}!i.$ref||!h.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(i,f)?(h.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{E(e.dataTypes,t)||_(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>E(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&_(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if("object"==typeof s&&(0,a.shouldUseRule)(e.schema,s)){const{type:r}=s.definition;r.length&&!r.some((e=>{return n=e,(r=t).includes(n)||"number"===n&&r.includes("integer");var r,n}))&&_(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}(e,e.dataTypes))}(e,t),s.block((()=>{for(const e of f.rules)y(e);y(f.post)}))):s.block((()=>C(e,"$ref",f.all.$ref.definition)))}function x(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,i.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,a.shouldUseRule)(n,r)&&C(e,r.keyword,r.definition,t.type)}))}function E(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function _(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,m.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){v(e)&&(b(e),g(e))?function(e){const{schema:t,opts:r,gen:n}=e;f(e,(()=>{r.$comment&&t.$comment&&w(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,m.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(u.default.vErrors,null),n.let(u.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",d._`${r}.evaluated`),t.if(d._`${e.evaluated}.dynamicProps`,(()=>t.assign(d._`${e.evaluated}.props`,d._`undefined`))),t.if(d._`${e.evaluated}.dynamicItems`,(()=>t.assign(d._`${e.evaluated}.items`,d._`undefined`)))}(e),$(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if(d._`${u.default.errors} === 0`,(()=>t.return(u.default.data)),(()=>t.throw(d._`new ${s}(${u.default.vErrors})`))):(t.assign(d._`${n}.errors`,u.default.vErrors),a.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof d.Name&&e.assign(d._`${t}.props`,r),n instanceof d.Name&&e.assign(d._`${t}.items`,n)}(e),t.return(d._`${u.default.errors} === 0`))}(e)}))}(e):f(e,(()=>(0,n.topBoolOrEmptySchema)(e)))};class k{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",N(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",u.default.errors))}result(e,t,r){this.failResult((0,d.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,d.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(d._`${t} !== undefined && (${(0,d.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=d.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=d.nil,t=d.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:s,def:a}=this;r.if((0,d.or)(d._`${n} === undefined`,t)),e!==d.nil&&r.assign(e,!0),(s.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==d.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:s}=this;return(0,d.or)(function(){if(r.length){if(!(t instanceof d.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return d._`${(0,o.checkDataTypes)(e,t,s.opts.strictNumbers,o.DataType.Wrong)}`}return d.nil}(),function(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return d._`!${r}(${t})`}return d.nil}())}subschema(e,t){const r=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(r,this.it,e),(0,c.extendSubschemaMode)(r,e);const s={...this.it,...r,items:void 0,props:void 0};return function(e,t){v(e)&&(b(e),g(e))?function(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&w(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const a=n.const("_errs",u.default.errors);$(e,a),n.var(t,d._`${a} === ${u.default.errors}`)}(e,t):(0,n.boolOrEmptySchema)(e,t)}(s,t),s}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=m.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=m.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,d.Name))),!0}}function C(e,t,r,n){const s=new k(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,l.funcKeywordCode)(s,r):"macro"in r?(0,l.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(s,r)}t.KeywordCxt=k;const P=/^\/(?:[^~]|~0|~1)*$/,A=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function N(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(""===e)return u.default.rootData;if("/"===e[0]){if(!P.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=u.default.rootData}else{const o=A.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const i=+o[1];if(s=o[2],"#"===s){if(i>=t)throw new Error(l("property/index",i));return n[t-i]}if(i>t)throw new Error(l("data",i));if(a=r[t-i],!s)return a}let o=a;const i=s.split("/");for(const e of i)e&&(a=d._`${a}${(0,d.getProperty)((0,m.unescapeJsonPointer)(e))}`,o=d._`${o} && ${a}`);return o;function l(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=N},62657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const n=r(93789),s=r(66735),a=r(21085),o=r(22796);function i(e){const{gen:t,data:r,it:s}=e;t.if(s.parentData,(()=>t.assign(r,n._`${s.parentData}[${s.parentDataProperty}]`)))}function l(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}t.macroKeywordCode=function(e,t){const{gen:r,keyword:s,schema:a,parentSchema:o,it:i}=e,c=t.macro.call(i.self,a,o,i),d=l(r,s,c);!1!==i.opts.validateSchema&&i.self.validateSchema(c,!0);const u=r.name("valid");e.subschema({schema:c,schemaPath:n.nil,errSchemaPath:`${i.errSchemaPath}/${s}`,topSchemaRef:d,compositeRule:!0},u),e.pass(u,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var r;const{gen:c,keyword:d,schema:u,parentSchema:h,$data:m,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const f=!m&&t.compile?t.compile.call(p.self,u,h,p):t.validate,y=l(c,d,f),g=c.let("valid");function v(r=(t.async?n._`await `:n.nil)){const o=p.opts.passContext?s.default.this:s.default.self,i=!("compile"in t&&!m||!1===t.schema);c.assign(g,n._`${r}${(0,a.callValidateCode)(e,y,o,i)}`,t.modifying)}function b(e){var r;c.if((0,n.not)(null!==(r=t.valid)&&void 0!==r?r:g),e)}e.block$data(g,(function(){if(!1===t.errors)v(),t.modifying&&i(e),b((()=>e.error()));else{const r=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>v(n._`await `)),(t=>c.assign(g,!1).if(n._`${t} instanceof ${p.ValidationError}`,(()=>c.assign(e,n._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=n._`${y}.errors`;return c.assign(e,null),v(n.nil),e}();t.modifying&&i(e),b((()=>function(e,t){const{gen:r}=e;r.if(n._`Array.isArray(${t})`,(()=>{r.assign(s.default.vErrors,n._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`).assign(s.default.errors,n._`${s.default.vErrors}.length`),(0,o.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:g)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(null==o?void 0:o.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const e=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}},19543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const n=r(93789),s=r(7083);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:a,schemaPath:o,errSchemaPath:i,topSchemaRef:l}){if(void 0!==t&&void 0!==a)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const a=e.schema[t];return void 0===r?{schema:a,schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,s.escapeFragment)(r)}`}}if(void 0!==a){if(void 0===o||void 0===i||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:o,topSchemaRef:l,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:a,data:o,dataTypes:i,propertyName:l}){if(void 0!==o&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==r){const{errorPath:o,dataPathArr:i,opts:l}=t;d(c.let("data",n._`${t.data}${(0,n.getProperty)(r)}`,!0)),e.errorPath=n.str`${o}${(0,s.getErrorPath)(r,a,l.jsPropertySyntax)}`,e.parentDataProperty=n._`${r}`,e.dataPathArr=[...i,e.parentDataProperty]}function d(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==o&&(d(o instanceof n.Name?o:c.let("data",o,!0)),void 0!==l&&(e.propertyName=l)),i&&(e.dataTypes=i)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){void 0!==n&&(e.compositeRule=n),void 0!==s&&(e.createErrors=s),void 0!==a&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}},17666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=r(69810);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var s=r(93789);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});const a=r(99598),o=r(70303),i=r(27476),l=r(65219),c=r(93789),d=r(63043),u=r(28840),h=r(7083),m=r(37301),p=(e,t)=>new RegExp(e,t);p.code="new RegExp";const f=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function b(e){var t,r,n,s,a,o,i,l,c,d,u,h,m,f,y,g,v,b,$,w,S,x,E,_;const k=e.strict,C=null===(t=e.code)||void 0===t?void 0:t.optimize,P=!0===C||void 0===C?1:C||0,A=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:p;return{strictSchema:null===(a=null!==(s=e.strictSchema)&&void 0!==s?s:k)||void 0===a||a,strictNumbers:null===(i=null!==(o=e.strictNumbers)&&void 0!==o?o:k)||void 0===i||i,strictTypes:null!==(c=null!==(l=e.strictTypes)&&void 0!==l?l:k)&&void 0!==c?c:"log",strictTuples:null!==(u=null!==(d=e.strictTuples)&&void 0!==d?d:k)&&void 0!==u?u:"log",strictRequired:null!==(m=null!==(h=e.strictRequired)&&void 0!==h?h:k)&&void 0!==m&&m,code:e.code?{...e.code,optimize:P,regExp:A}:{optimize:P,regExp:A},loopRequired:null!==(f=e.loopRequired)&&void 0!==f?f:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(g=e.meta)||void 0===g||g,messages:null===(v=e.messages)||void 0===v||v,inlineRefs:null===(b=e.inlineRefs)||void 0===b||b,schemaId:null!==($=e.schemaId)&&void 0!==$?$:"$id",addUsedSchema:null===(w=e.addUsedSchema)||void 0===w||w,validateSchema:null===(S=e.validateSchema)||void 0===S||S,validateFormats:null===(x=e.validateFormats)||void 0===x||x,unicodeRegExp:null===(E=e.unicodeRegExp)||void 0===E||E,int32range:null===(_=e.int32range)||void 0===_||_}}class ${constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...b(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:y,es5:t,lines:r}),this.logger=function(e){if(!1===e)return C;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,i.getRules)(),w.call(this,g,e,"NOT SUPPORTED"),w.call(this,v,e,"DEPRECATED","warn"),this._metaOpts=k.call(this),e.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&_.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),x.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let n=m;"id"===r&&(n={...m},n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await s.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||a.call(this,r)}async function s(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function a(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.default))throw t;return i.call(this,t),await l.call(this,t.missingSchema),a.call(this,e)}}function i({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const r=await c.call(this,e);this.refs[e]||await s.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let s;if("object"==typeof e){const{schemaId:t}=this.opts;if(s=e[t],void 0!==s&&"string"!=typeof s)throw new Error(`schema ${t} must be string`)}return t=(0,d.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=S.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,n=new l.SchemaEnv({schema:{},schemaId:r});if(t=l.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=S.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,d.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(A.call(this,r,t),!t)return(0,h.eachItem)(r,(e=>N.call(this,e))),this;O.call(this,t);const n={...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(r,0===n.type.length?e=>N.call(this,e,n):e=>n.type.forEach((t=>N.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let s=e;for(const e of t)s=s[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,a=s[e];n&&a&&(s[e]=j(a))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,s=this.opts.addUsedSchema){let a;const{schemaId:o}=this.opts;if("object"==typeof e)a=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;r=(0,d.normalizeId)(a||r);const c=d.getSchemaRefs.call(this,e,r);return i=new l.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:r,localRefs:c}),this._cache.set(i.schema,i),s&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=i),n&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function w(e,t,r,n="error"){for(const s in e){const a=s;a in t&&this.logger[n](`${r}: option ${s}. ${e[a]}`)}}function S(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}function x(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function E(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function _(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function k(){const e={...this.opts};for(const t of f)delete e[t];return e}t.default=$,$.ValidationError=a.default,$.MissingRefError=o.default;const C={log(){},warn(){},error(){}},P=/^[a-z_$][a-z0-9_$:-]*$/i;function A(e,t){const{RULES:r}=this;if((0,h.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!P.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function N(e,t,r){var n;const s=null==t?void 0:t.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:a}=this;let o=s?a.post:a.rules.find((({type:e})=>e===r));if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[e]=!0,!t)return;const i={keyword:e,definition:{...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)}};t.before?T.call(this,o,i,t.before):o.rules.push(i),a.all[e]=i,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function T(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function O(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=j(t)),e.validateSchema=this.compile(t,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(e){return{anyOf:[e,I]}}},72482:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(32017);n.code='require("ajv/dist/runtime/equal").default',t.default=n},82261:(e,t)=>{"use strict";function r(e){const t=e.length;let r,n=0,s=0;for(;s<t;)n++,r=e.charCodeAt(s++),r>=55296&&r<=56319&&s<t&&(r=e.charCodeAt(s),56320==(64512&r)&&s++);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},99598:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},57065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const n=r(93789),s=r(7083),a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?o(e,n):(0,s.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function o(e,t){const{gen:r,schema:a,data:o,keyword:i,it:l}=e;l.items=!0;const c=r.const("len",n._`${o}.length`);if(!1===a)e.setParams({len:t.length}),e.pass(n._`${c} <= ${t.length}`);else if("object"==typeof a&&!(0,s.alwaysValidSchema)(l,a)){const a=r.var("valid",n._`${c} <= ${t.length}`);r.if((0,n.not)(a),(()=>function(a){r.forRange("i",t.length,c,(t=>{e.subschema({keyword:i,dataProp:t,dataPropType:s.Type.Num},a),l.allErrors||r.if((0,n.not)(a),(()=>r.break()))}))}(a))),e.ok(a)}}t.validateAdditionalItems=o,t.default=a},90396:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21085),s=r(93789),a=r(66735),o=r(7083),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>s._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:i,data:l,errsCount:c,it:d}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:u,opts:h}=d;if(d.props=!0,"all"!==h.removeAdditional&&(0,o.alwaysValidSchema)(d,r))return;const m=(0,n.allSchemaProperties)(i.properties),p=(0,n.allSchemaProperties)(i.patternProperties);function f(e){t.code(s._`delete ${l}[${e}]`)}function y(n){if("all"===h.removeAdditional||h.removeAdditional&&!1===r)f(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(u||t.break());if("object"==typeof r&&!(0,o.alwaysValidSchema)(d,r)){const r=t.name("valid");"failing"===h.removeAdditional?(g(n,r,!1),t.if((0,s.not)(r),(()=>{e.reset(),f(n)}))):(g(n,r),u||t.if((0,s.not)(r),(()=>t.break())))}}}function g(t,r,n){const s={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};!1===n&&Object.assign(s,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(s,r)}t.forIn("key",l,(r=>{m.length||p.length?t.if(function(r){let a;if(m.length>8){const e=(0,o.schemaRefOrVal)(d,i.properties,"properties");a=(0,n.isOwnProperty)(t,e,r)}else a=m.length?(0,s.or)(...m.map((e=>s._`${r} === ${e}`))):s.nil;return p.length&&(a=(0,s.or)(a,...p.map((t=>s._`${(0,n.usePattern)(e,t)}.test(${r})`)))),(0,s.not)(a)}(r),(()=>y(r))):y(r)})),e.ok(s._`${c} === ${a.default.errors}`)}};t.default=i},66636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7083),s={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach(((t,r)=>{if((0,n.alwaysValidSchema)(s,t))return;const o=e.subschema({keyword:"allOf",schemaProp:r},a);e.ok(a),e.mergeEvaluated(o)}))}};t.default=s},41665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(21085).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},96925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`must contain at least ${e} valid item(s)`:n.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:o,it:i}=e;let l,c;const{minContains:d,maxContains:u}=a;i.opts.next?(l=void 0===d?1:d,c=u):l=1;const h=t.const("len",n._`${o}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,s.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,s.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,s.alwaysValidSchema)(i,r)){let t=n._`${h} >= ${l}`;return void 0!==c&&(t=n._`${t} && ${h} <= ${c}`),void e.pass(t)}i.items=!0;const m=t.name("valid");function p(){const e=t.name("_valid"),r=t.let("count",0);f(e,(()=>t.if(e,(()=>function(e){t.code(n._`${e}++`),void 0===c?t.if(n._`${e} >= ${l}`,(()=>t.assign(m,!0).break())):(t.if(n._`${e} > ${c}`,(()=>t.assign(m,!1).break())),1===l?t.assign(m,!0):t.if(n._`${e} >= ${l}`,(()=>t.assign(m,!0))))}(r)))))}function f(r,n){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:s.Type.Num,compositeRule:!0},r),n()}))}void 0===c&&1===l?f(m,(()=>t.if(m,(()=>t.break())))):0===l?(t.let(m,!0),void 0!==c&&t.if(n._`${o}.length > 0`,p)):(t.let(m,!1),p()),e.result(m,(()=>e.reset()))}};t.default=a},71273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(93789),s=r(7083),a=r(21085);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const s=1===t?"property":"properties";return n.str`must have ${s} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:s}})=>n._`{property: ${e},
    missingProperty: ${s},
    depsCount: ${t},
    deps: ${r}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}(e);i(e,t),l(e,r)}};function i(e,t=e.schema){const{gen:r,data:s,it:o}=e;if(0===Object.keys(t).length)return;const i=r.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const d=(0,a.propertyInData)(r,s,l,o.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),o.allErrors?r.if(d,(()=>{for(const t of c)(0,a.checkReportMissingProp)(e,t)})):(r.if(n._`${d} && (${(0,a.checkMissingProp)(e,c,i)})`),(0,a.reportMissingProp)(e,i),r.else())}}function l(e,t=e.schema){const{gen:r,data:n,keyword:o,it:i}=e,l=r.name("valid");for(const c in t)(0,s.alwaysValidSchema)(i,t[c])||(r.if((0,a.propertyInData)(r,n,c,i.opts.ownProperties),(()=>{const t=e.subschema({keyword:o,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>r.var(l,!0))),e.ok(l))}t.validatePropertyDeps=i,t.validateSchemaDeps=l,t.default=o},7567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`must match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:a}=e;void 0===r.then&&void 0===r.else&&(0,s.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const i=o(a,"then"),l=o(a,"else");if(!i&&!l)return;const c=t.let("valid",!0),d=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),i&&l){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(d,u("then",r),u("else",r))}else i?t.if(d,u("then")):t.if((0,n.not)(d),u("else"));function u(r,s){return()=>{const a=e.subschema({keyword:r},d);t.assign(c,d),e.mergeValidEvaluated(a,c),s?t.assign(s,n._`${r}`):e.setParams({ifClause:r})}}e.pass(c,(()=>e.error(!0)))}};function o(e,t){const r=e.schema[t];return void 0!==r&&!(0,s.alwaysValidSchema)(e,r)}t.default=a},52610:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(57065),s=r(47394),a=r(67366),o=r(56166),i=r(96925),l=r(71273),c=r(7705),d=r(90396),u=r(55581),h=r(78013),m=r(6939),p=r(41665),f=r(9259),y=r(66636),g=r(7567),v=r(70866);t.default=function(e=!1){const t=[m.default,p.default,f.default,y.default,g.default,v.default,c.default,d.default,l.default,u.default,h.default];return e?t.push(s.default,o.default):t.push(n.default,a.default),t.push(i.default),t}},67366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const n=r(93789),s=r(7083),a=r(21085),o={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return i(e,"additionalItems",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,a.validateArray)(e))}};function i(e,t,r=e.schema){const{gen:a,parentSchema:o,data:i,keyword:l,it:c}=e;!function(e){const{opts:n,errSchemaPath:a}=c,o=r.length,i=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(n.strictTuples&&!i){const e=`"${l}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${a}"`;(0,s.checkStrictMode)(c,e,n.strictTuples)}}(o),c.opts.unevaluated&&r.length&&!0!==c.items&&(c.items=s.mergeEvaluated.items(a,r.length,c.items));const d=a.name("valid"),u=a.const("len",n._`${i}.length`);r.forEach(((t,r)=>{(0,s.alwaysValidSchema)(c,t)||(a.if(n._`${u} > ${r}`,(()=>e.subschema({keyword:l,schemaProp:r,dataProp:r},d))),e.ok(d))}))}t.validateTuple=i,t.default=o},56166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a=r(21085),o=r(57065),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,(0,s.alwaysValidSchema)(n,t)||(i?(0,o.validateAdditionalItems)(e,i):e.ok((0,a.validateArray)(e)))}};t.default=i},6939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7083),s={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:s}=e;if((0,n.alwaysValidSchema)(s,r))return void e.fail();const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=s},9259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:a,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&a.discriminator)return;const i=r,l=t.let("valid",!1),c=t.let("passing",null),d=t.name("_valid");e.setParams({passing:c}),t.block((function(){i.forEach(((r,a)=>{let i;(0,s.alwaysValidSchema)(o,r)?t.var(d,!0):i=e.subschema({keyword:"oneOf",schemaProp:a,compositeRule:!0},d),a>0&&t.if(n._`${d} && ${l}`).assign(l,!1).assign(c,n._`[${c}, ${a}]`).else(),t.if(d,(()=>{t.assign(l,!0),t.assign(c,a),i&&e.mergeEvaluated(i,n.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=a},78013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21085),s=r(93789),a=r(7083),o=r(7083),i={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:i,parentSchema:l,it:c}=e,{opts:d}=c,u=(0,n.allSchemaProperties)(r),h=u.filter((e=>(0,a.alwaysValidSchema)(c,r[e])));if(0===u.length||h.length===u.length&&(!c.opts.unevaluated||!0===c.props))return;const m=d.strictSchema&&!d.allowMatchingProperties&&l.properties,p=t.name("valid");!0===c.props||c.props instanceof s.Name||(c.props=(0,o.evaluatedPropsToName)(t,c.props));const{props:f}=c;function y(e){for(const t in m)new RegExp(e).test(t)&&(0,a.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(r){t.forIn("key",i,(a=>{t.if(s._`${(0,n.usePattern)(e,r)}.test(${a})`,(()=>{const n=h.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:a,dataPropType:o.Type.Str},p),c.opts.unevaluated&&!0!==f?t.assign(s._`${f}[${a}]`,!0):n||c.allErrors||t.if((0,s.not)(p),(()=>t.break()))}))}))}!function(){for(const e of u)m&&y(e),c.allErrors?g(e):(t.var(p,!0),g(e),t.if(p))}()}};t.default=i},47394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(67366),s={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")};t.default=s},55581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(69810),s=r(21085),a=r(7083),o=r(90396),i={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:i,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===i.additionalProperties&&o.default.code(new n.KeywordCxt(c,o.default,"additionalProperties"));const d=(0,s.allSchemaProperties)(r);for(const e of d)c.definedProperties.add(e);c.opts.unevaluated&&d.length&&!0!==c.props&&(c.props=a.mergeEvaluated.props(t,(0,a.toHash)(d),c.props));const u=d.filter((e=>!(0,a.alwaysValidSchema)(c,r[e])));if(0===u.length)return;const h=t.name("valid");for(const r of u)m(r)?p(r):(t.if((0,s.propertyInData)(t,l,r,c.opts.ownProperties)),p(r),c.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(h);function m(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==r[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=i},7705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:a,it:o}=e;if((0,s.alwaysValidSchema)(o,r))return;const i=t.name("valid");t.forIn("key",a,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},i),t.if((0,n.not)(i),(()=>{e.error(!0),o.allErrors||t.break()}))})),e.ok(i)}};t.default=a},70866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7083),s={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t.default=s},21085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(93789),s=r(7083),a=r(66735),o=r(7083);function i(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function l(e,t,r){return n._`${i(e)}.call(${t}, ${r})`}function c(e,t,r,s){const a=n._`${t}${(0,n.getProperty)(r)} === undefined`;return s?(0,n.or)(a,(0,n.not)(l(e,t,r))):a}function d(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:s,it:a}=e;r.if(c(r,s,t,a.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},s,a){return(0,n.or)(...s.map((s=>(0,n.and)(c(e,t,s,r.ownProperties),n._`${a} = ${s}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=i,t.isOwnProperty=l,t.propertyInData=function(e,t,r,s){const a=n._`${t}${(0,n.getProperty)(r)} !== undefined`;return s?n._`${a} && ${l(e,t,r)}`:a},t.noPropertyInData=c,t.allSchemaProperties=d,t.schemaProperties=function(e,t){return d(t).filter((r=>!(0,s.alwaysValidSchema)(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:o,errorPath:i},it:l},c,d,u){const h=u?n._`${e}, ${t}, ${s}${o}`:t,m=[[a.default.instancePath,(0,n.strConcat)(a.default.instancePath,i)],[a.default.parentData,l.parentData],[a.default.parentDataProperty,l.parentDataProperty],[a.default.rootData,a.default.rootData]];l.opts.dynamicRef&&m.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);const p=n._`${h}, ${r.object(...m)}`;return d!==n.nil?n._`${c}.call(${d}, ${p})`:n._`${c}(${p})`};const u=n._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){const s=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(r,s);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:n._`${"new RegExp"===a.code?u:(0,o.useFunc)(e,a)}(${r}, ${s})`})},t.validateArray=function(e){const{gen:t,data:r,keyword:a,it:o}=e,i=t.name("valid");if(o.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(i,!0),l((()=>t.break())),i;function l(o){const l=t.const("len",n._`${r}.length`);t.forRange("i",0,l,(r=>{e.subschema({keyword:a,dataProp:r,dataPropType:s.Type.Num},i),t.if((0,n.not)(i),o)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:a,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>(0,s.alwaysValidSchema)(o,e)))&&!o.opts.unevaluated)return;const i=t.let("valid",!1),l=t.name("_valid");t.block((()=>r.forEach(((r,s)=>{const o=e.subschema({keyword:a,schemaProp:s,compositeRule:!0},l);t.assign(i,n._`${i} || ${l}`),e.mergeValidEvaluated(o,l)||t.if((0,n.not)(i))})))),e.result(i,(()=>e.reset()),(()=>e.error(!0)))}},47103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},90344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(47103),s=r(29045),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,s.default];t.default=a},29045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(70303),s=r(21085),a=r(93789),o=r(66735),i=r(65219),l=r(7083),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:s}=e,{baseId:o,schemaEnv:l,validateName:c,opts:h,self:m}=s,{root:p}=l;if(("#"===r||"#/"===r)&&o===p.baseId)return function(){if(l===p)return u(e,c,l,l.$async);const r=t.scopeValue("root",{ref:p});return u(e,a._`${r}.validate`,p,p.$async)}();const f=i.resolveRef.call(m,p,o,r);if(void 0===f)throw new n.default(o,r);return f instanceof i.SchemaEnv?function(t){const r=d(e,t);u(e,r,t,t.$async)}(f):function(n){const s=t.scopeValue("schema",!0===h.code.source?{ref:n,code:(0,a.stringify)(n)}:{ref:n}),o=t.name("valid"),i=e.subschema({schema:n,dataTypes:[],schemaPath:a.nil,topSchemaRef:s,errSchemaPath:r},o);e.mergeEvaluated(i),e.ok(o)}(f)}};function d(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):a._`${r.scopeValue("wrapper",{ref:t})}.validate`}function u(e,t,r,n){const{gen:i,it:c}=e,{allErrors:d,schemaEnv:u,opts:h}=c,m=h.passContext?o.default.this:a.nil;function p(e){const t=a._`${e}.errors`;i.assign(o.default.vErrors,a._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`),i.assign(o.default.errors,a._`${o.default.vErrors}.length`)}function f(e){var t;if(!c.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(n&&!n.dynamicProps)void 0!==n.props&&(c.props=l.mergeEvaluated.props(i,n.props,c.props));else{const t=i.var("props",a._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(i,t,c.props,a.Name)}if(!0!==c.items)if(n&&!n.dynamicItems)void 0!==n.items&&(c.items=l.mergeEvaluated.items(i,n.items,c.items));else{const t=i.var("items",a._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(i,t,c.items,a.Name)}}n?function(){if(!u.$async)throw new Error("async schema referenced by sync schema");const r=i.let("valid");i.try((()=>{i.code(a._`await ${(0,s.callValidateCode)(e,t,m)}`),f(t),d||i.assign(r,!0)}),(e=>{i.if(a._`!(${e} instanceof ${c.ValidationError})`,(()=>i.throw(e))),p(e),d||i.assign(r,!1)})),e.ok(r)}():e.result((0,s.callValidateCode)(e,t,m),(()=>f(t)),(()=>p(t)))}t.getValidate=d,t.callRef=u,t.default=c},77013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(27420),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===s.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>n._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:a,parentSchema:o,it:i}=e,{oneOf:l}=o;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const c=a.propertyName;if("string"!=typeof c)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),u=t.const("tag",n._`${r}${(0,n.getProperty)(c)}`);function h(r){const s=t.name("valid"),a=e.subschema({keyword:"oneOf",schemaProp:r},s);return e.mergeEvaluated(a,n.Name),s}t.if(n._`typeof ${u} == "string"`,(()=>function(){const r=function(){var e;const t={},r=s(o);let n=!0;for(let t=0;t<l.length;t++){const o=l[t],i=null===(e=o.properties)||void 0===e?void 0:e[c];if("object"!=typeof i)throw new Error(`discriminator: oneOf schemas must have "properties/${c}"`);n=n&&(r||s(o)),a(i,t)}if(!n)throw new Error(`discriminator: "${c}" must be required`);return t;function s({required:e}){return Array.isArray(e)&&e.includes(c)}function a(e,t){if(e.const)i(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`);for(const r of e.enum)i(r,t)}}function i(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${c}" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(n._`${u} === ${e}`),t.assign(d,h(r[e]));t.else(),e.error(!1,{discrError:s.DiscrError.Mapping,tag:u,tagName:c}),t.endIf()}()),(()=>e.error(!1,{discrError:s.DiscrError.Tag,tag:u,tagName:c}))),e.ok(d)}};t.default=a},27420:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(r=t.DiscrError||(t.DiscrError={})).Tag="tag",r.Mapping="mapping"},4824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(90344),s=r(92348),a=r(52610),o=r(32884),i=r(73929),l=[n.default,s.default,(0,a.default)(),o.default,i.metadataVocabulary,i.contentVocabulary];t.default=l},40329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`must match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:r,data:s,$data:a,schema:o,schemaCode:i,it:l}=e,{opts:c,errSchemaPath:d,schemaEnv:u,self:h}=l;c.validateFormats&&(a?function(){const a=r.scopeValue("formats",{ref:h.formats,code:c.code.formats}),o=r.const("fDef",n._`${a}[${i}]`),l=r.let("fType"),d=r.let("format");r.if(n._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>r.assign(l,n._`${o}.type || "string"`).assign(d,n._`${o}.validate`)),(()=>r.assign(l,n._`"string"`).assign(d,o))),e.fail$data((0,n.or)(!1===c.strictSchema?n.nil:n._`${i} && !${d}`,function(){const e=u.$async?n._`(${o}.async ? await ${d}(${s}) : ${d}(${s}))`:n._`${d}(${s})`,r=n._`(typeof ${d} == "function" ? ${e} : ${d}.test(${s}))`;return n._`${d} && ${d} !== true && ${l} === ${t} && !${r}`}()))}():function(){const a=h.formats[o];if(!a)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${d}"`}h.logger.warn(e())}();if(!0===a)return;const[i,l,m]=function(e){const t=e instanceof RegExp?(0,n.regexpCode)(e):c.code.formats?n._`${c.code.formats}${(0,n.getProperty)(o)}`:void 0,s=r.scopeValue("formats",{key:o,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,s]:[e.type||"string",e.validate,n._`${s}.validate`]}(a);i===t&&e.pass(function(){if("object"==typeof a&&!(a instanceof RegExp)&&a.async){if(!u.$async)throw new Error("async format in sync schema");return n._`await ${m}(${s})`}return"function"==typeof l?n._`${m}(${s})`:n._`${m}.test(${s})`}())}())}};t.default=s},32884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[r(40329).default];t.default=n},73929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},3767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a=r(72482),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:o,schemaCode:i,schema:l}=e;o||l&&"object"==typeof l?e.fail$data(n._`!${(0,s.useFunc)(t,a.default)}(${r}, ${i})`):e.fail(n._`${l} !== ${r}`)}};t.default=o},64715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a=r(72482),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:o,schema:i,schemaCode:l,it:c}=e;if(!o&&0===i.length)throw new Error("enum must have non-empty array");const d=i.length>=c.opts.loopEnum,u=(0,s.useFunc)(t,a.default);let h;if(d||o)h=t.let("valid"),e.block$data(h,(function(){t.assign(h,!1),t.forOf("v",l,(e=>t.if(n._`${u}(${r}, ${e})`,(()=>t.assign(h,!0).break()))))}));else{if(!Array.isArray(i))throw new Error("ajv implementation error");const e=t.const("vSchema",l);h=(0,n.or)(...i.map(((t,s)=>function(e,t){const s=i[t];return"object"==typeof s&&null!==s?n._`${u}(${r}, ${e}[${t}])`:n._`${r} === ${s}`}(e,s))))}e.pass(h)}};t.default=o},92348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(80450),s=r(56711),a=r(83875),o=r(50302),i=r(38094),l=r(4267),c=r(99347),d=r(42785),u=r(3767),h=r(64715),m=[n.default,s.default,a.default,o.default,i.default,l.default,c.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,h.default];t.default=m},99347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:s}=e,a="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${a} ${s}`)}};t.default=s},83875:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=r(7083),a=r(82261),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o,it:i}=e,l="maxLength"===t?n.operators.GT:n.operators.LT,c=!1===i.opts.unicode?n._`${r}.length`:n._`${(0,s.useFunc)(e.gen,a.default)}(${r})`;e.fail$data(n._`${c} ${l} ${o}`)}};t.default=o},80450:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s=n.operators,a={maximum:{okStr:"<=",ok:s.LTE,fail:s.GT},minimum:{okStr:">=",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}},o={message:({keyword:e,schemaCode:t})=>n.str`must be ${a[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${a[e].okStr}, limit: ${t}}`},i={keyword:Object.keys(a),type:"number",schemaType:"number",$data:!0,error:o,code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data(n._`${r} ${a[t].fail} ${s} || isNaN(${r})`)}};t.default=i},38094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:s}=e,a="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${a} ${s}`)}};t.default=s},56711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(93789),s={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`must be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:s,it:a}=e,o=a.opts.multipleOfPrecision,i=t.let("res"),l=o?n._`Math.abs(Math.round(${i}) - ${i}) > 1e-${o}`:n._`${i} !== parseInt(${i})`;e.fail$data(n._`(${s} === 0 || (${i} = ${r}/${s}, ${l}))`)}};t.default=s},50302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21085),s=r(93789),a={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>s.str`must match pattern "${e}"`,params:({schemaCode:e})=>s._`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:a,schemaCode:o,it:i}=e,l=i.opts.unicodeRegExp?"u":"",c=r?s._`(new RegExp(${o}, ${l}))`:(0,n.usePattern)(e,a);e.fail$data(s._`!${c}.test(${t})`)}};t.default=a},4267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21085),s=r(93789),a=r(7083),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>s.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>s._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:o,data:i,$data:l,it:c}=e,{opts:d}=c;if(!l&&0===r.length)return;const u=r.length>=d.loopRequired;if(c.allErrors?function(){if(u||l)e.block$data(s.nil,h);else for(const t of r)(0,n.checkReportMissingProp)(e,t)}():function(){const a=t.let("missing");if(u||l){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,a){e.setParams({missingProperty:r}),t.forOf(r,o,(()=>{t.assign(a,(0,n.propertyInData)(t,i,r,d.ownProperties)),t.if((0,s.not)(a),(()=>{e.error(),t.break()}))}),s.nil)}(a,r))),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,a)),(0,n.reportMissingProp)(e,a),t.else()}(),d.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,a.checkStrictMode)(c,t,c.opts.strictRequired)}}function h(){t.forOf("prop",o,(r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,i,r,d.ownProperties),(()=>e.error()))}))}}};t.default=o},42785:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28840),s=r(93789),a=r(7083),o=r(72482),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>s.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>s._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:i,schema:l,parentSchema:c,schemaCode:d,it:u}=e;if(!i&&!l)return;const h=t.let("valid"),m=c.items?(0,n.getSchemaTypes)(c.items):[];function p(a,o){const i=t.name("item"),l=(0,n.checkDataTypes)(m,i,u.opts.strictNumbers,n.DataType.Wrong),c=t.const("indices",s._`{}`);t.for(s._`;${a}--;`,(()=>{t.let(i,s._`${r}[${a}]`),t.if(l,s._`continue`),m.length>1&&t.if(s._`typeof ${i} == "string"`,s._`${i} += "_"`),t.if(s._`typeof ${c}[${i}] == "number"`,(()=>{t.assign(o,s._`${c}[${i}]`),e.error(),t.assign(h,!1).break()})).code(s._`${c}[${i}] = ${a}`)}))}function f(n,i){const l=(0,a.useFunc)(t,o.default),c=t.name("outer");t.label(c).for(s._`;${n}--;`,(()=>t.for(s._`${i} = ${n}; ${i}--;`,(()=>t.if(s._`${l}(${r}[${n}], ${r}[${i}])`,(()=>{e.error(),t.assign(h,!1).break(c)}))))))}e.block$data(h,(function(){const n=t.let("i",s._`${r}.length`),a=t.let("j");e.setParams({i:n,j:a}),t.assign(h,!0),t.if(s._`${n} > 1`,(()=>(m.length>0&&!m.some((e=>"object"===e||"array"===e))?p:f)(n,a)))}),s._`${d} === false`),e.ok(h)}};t.default=i},67242:e=>{"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,s,a,o,i,l,c,d,u){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var h in n(a,o,i,l,c,d,u),a){var m=a[h];if(Array.isArray(m)){if(h in t.arrayKeywords)for(var p=0;p<m.length;p++)r(e,n,s,m[p],o+"/"+h+"/"+p,i,o,h,a,p)}else if(h in t.propsKeywords){if(m&&"object"==typeof m)for(var f in m)r(e,n,s,m[f],o+"/"+h+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),i,o,h,a,f)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,n,s,m,o+"/"+h,i,o,h,a)}s(a,o,i,l,c,d,u)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},9066:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=e=>{var t;return{columns:e.columns,name:(null==e?void 0:e.datasource_name)||(null==e?void 0:e.name)||"Untitled",dbId:(null==e||null==(t=e.database)?void 0:t.id)||(null==e?void 0:e.dbId),sql:(null==e?void 0:e.sql)||"",catalog:null==e?void 0:e.catalog,schema:null==e?void 0:e.schema}}},29022:(e,t,r)=>{"use strict";var n=r(85419),s=r(96552),a=r(82986),o=Math.pow(2,31)-1;function i(e,t){var r,n=1;if(0===e)return t;if(0===t)return e;for(;e%2==0&&t%2==0;)e/=2,t/=2,n*=2;for(;e%2==0;)e/=2;for(;t;){for(;t%2==0;)t/=2;e>t&&(r=t,t=e,e=r),t-=e}return n*e}function l(e,t){var r,n=0;if(0===e)return t;if(0===t)return e;for(;0==(1&e)&&0==(1&t);)e>>>=1,t>>>=1,n++;for(;0==(1&e);)e>>>=1;for(;t;){for(;0==(1&t);)t>>>=1;e>t&&(r=t,t=e,e=r),t-=e}return e<<n}e.exports=function(){var e,t,r,c,d,u,h,m=arguments.length;for(e=new Array(m),h=0;h<m;h++)e[h]=arguments[h];if(s(e)){if(2===m)return(d=e[0])<0&&(d=-d),(u=e[1])<0&&(u=-u),d<=o&&u<=o?l(d,u):i(d,u);r=e}else{if(!n(e[0]))throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+e[0]+"`.");if(m>1){if(r=e[0],t=e[1],!a(t))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else r=e[0]}if((c=r.length)<2)return null;if(t){for(d=new Array(c),h=0;h<c;h++)d[h]=t(r[h],h);r=d}if(m<3&&!s(r))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+r+"`.");for(h=0;h<c;h++)(d=r[h])<0&&(r[h]=-d);for(d=r[0],h=1;h<c;h++)d=(u=r[h])<=o&&d<=o?l(d,u):i(d,u);return d}},78867:(e,t,r)=>{"use strict";var n=r(29022),s=r(85419),a=r(96552),o=r(82986);e.exports=function(){var e,t,r,i,l,c,d,u=arguments.length;for(e=new Array(u),d=0;d<u;d++)e[d]=arguments[d];if(a(e)){if(2===u)return(l=e[0])<0&&(l=-l),(c=e[1])<0&&(c=-c),0===l||0===c?0:l/n(l,c)*c;r=e}else{if(!s(e[0]))throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+e[0]+"`.");if(u>1){if(r=e[0],t=e[1],!o(t))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else r=e[0]}if((i=r.length)<2)return null;if(t){for(l=new Array(i),d=0;d<i;d++)l[d]=t(r[d],d);r=l}if(u<3&&!a(r))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+r+"`.");for(d=0;d<i;d++)(l=r[d])<0&&(r[d]=-l);for(l=r[0],d=1;d<i;d++){if(c=r[d],0===l||0===c)return 0;l=l/n(l,c)*c}return l}},96734:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,r="millisecond",n="second",s="minute",a="hour",o="day",i="week",l="month",c="quarter",d="year",u="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},y=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},g={s:y,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),s=r%60;return(t<=0?"+":"-")+y(n,2,"0")+":"+y(s,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),s=t.clone().add(n,l),a=r-s<0,o=t.clone().add(n+(a?-1:1),l);return+(-(n+(r-s)/(a?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:i,d:o,D:u,h:a,m:s,s:n,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=f;var $="$isDayjsObject",w=function(e){return e instanceof _||!(!e||!e[$])},S=function e(t,r,n){var s;if(!t)return v;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(s=a),r&&(b[a]=r,s=a);var o=t.split("-");if(!s&&o.length>1)return e(o[0])}else{var i=t.name;b[i]=t,s=i}return!n&&s&&(v=s),s||!n&&v},x=function(e,t){if(w(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new _(r)},E=g;E.l=S,E.i=w,E.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function f(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[$]=!0}var y=f.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(m);if(n){var s=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return E},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(e,t){var r=x(e);return this.startOf(t)<=r&&r<=this.endOf(t)},y.isAfter=function(e,t){return x(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<x(e)},y.$g=function(e,t,r){return E.u(e)?this[t]:this.set(r,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var r=this,c=!!E.u(t)||t,h=E.p(e),m=function(e,t){var n=E.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return c?n:n.endOf(o)},p=function(e,t){return E.w(r.toDate()[e].apply(r.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},f=this.$W,y=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(h){case d:return c?m(1,0):m(31,11);case l:return c?m(1,y):m(0,y+1);case i:var b=this.$locale().weekStart||0,$=(f<b?f+7:f)-b;return m(c?g-$:g+(6-$),y);case o:case u:return p(v+"Hours",0);case a:return p(v+"Minutes",1);case s:return p(v+"Seconds",2);case n:return p(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var i,c=E.p(e),h="set"+(this.$u?"UTC":""),m=(i={},i[o]=h+"Date",i[u]=h+"Date",i[l]=h+"Month",i[d]=h+"FullYear",i[a]=h+"Hours",i[s]=h+"Minutes",i[n]=h+"Seconds",i[r]=h+"Milliseconds",i)[c],p=c===o?this.$D+(t-this.$W):t;if(c===l||c===d){var f=this.clone().set(u,1);f.$d[m](p),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[E.p(e)]()},y.add=function(r,c){var u,h=this;r=Number(r);var m=E.p(c),p=function(e){var t=x(h);return E.w(t.date(t.date()+Math.round(e*r)),h)};if(m===l)return this.set(l,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===o)return p(1);if(m===i)return p(7);var f=(u={},u[s]=e,u[a]=t,u[n]=1e3,u)[m]||1,y=this.$d.getTime()+r*f;return E.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",s=E.z(this),a=this.$H,o=this.$m,i=this.$M,l=r.weekdays,c=r.months,d=r.meridiem,u=function(e,r,s,a){return e&&(e[r]||e(t,n))||s[r].slice(0,a)},m=function(e){return E.s(a%12||12,e,"0")},f=d||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return i+1;case"MM":return E.s(i+1,2,"0");case"MMM":return u(r.monthsShort,i,c,3);case"MMMM":return u(c,i);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(r.weekdaysMin,t.$W,l,2);case"ddd":return u(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return E.s(a,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return f(a,o,!0);case"A":return f(a,o,!1);case"m":return String(o);case"mm":return E.s(o,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,u,h){var m,p=this,f=E.p(u),y=x(r),g=(y.utcOffset()-this.utcOffset())*e,v=this-y,b=function(){return E.m(p,y)};switch(f){case d:m=b()/12;break;case l:m=b();break;case c:m=b()/3;break;case i:m=(v-g)/6048e5;break;case o:m=(v-g)/864e5;break;case a:m=v/t;break;case s:m=v/e;break;case n:m=v/1e3;break;default:m=v}return h?m:E.a(m)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return b[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=S(e,t,!0);return n&&(r.$L=n),r},y.clone=function(){return E.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},f}(),k=_.prototype;return x.prototype=k,[["$ms",r],["$s",n],["$m",s],["$H",a],["$W",o],["$M",l],["$y",d],["$D",u]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,_,x),e.$i=!0),x},x.locale=S,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=b[v],x.Ls=b,x.p={},x}()},41816:function(e){e.exports=function(){"use strict";var e="month",t="quarter";return function(r,n){var s=n.prototype;s.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var a=s.add;s.add=function(r,n){return r=Number(r),this.$utils().p(n)===t?this.add(3*r,e):a.bind(this)(r,n)};var o=s.startOf;s.startOf=function(r,n){var s=this.$utils(),a=!!s.u(n)||n;if(s.p(r)===t){var i=this.quarter()-1;return a?this.month(3*i).startOf(e).startOf("day"):this.month(3*i+2).endOf(e).endOf("day")}return o.bind(this)(r,n)}}}()},72963:(e,t,r)=>{"use strict";var n=r(24994);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,s.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var s=n(r(50598));e.exports=t.default},50598:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},90788:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,r){e.classList?e.classList.remove(r):"string"==typeof e.className?e.className=t(e.className,r):e.setAttribute("class",t(e.className&&e.className.baseVal||"",r))}},32017:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(s=n;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=n;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;0!=s--;){var o=a[s];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},90370:(e,t,r)=>{var n=r(2404),s=r(33031),a=r(63375),o=r(9063),i=r(84684),l=r(80191),c=r(11331),d=r(53812),u=e=>Array.isArray(e)?e:[e],h=e=>void 0===e,m=e=>c(e)||Array.isArray(e)?Object.keys(e):[],p=(e,t)=>e.hasOwnProperty(t),f=e=>s(a(e)),y=e=>h(e)||Array.isArray(e)&&0===e.length,g=(e,t)=>h(e)&&0===t||h(t)&&0===e||n(e,t),v=e=>h(e)||n(e,{})||!0===e,b=e=>h(e)||n(e,{}),$=e=>h(e)||c(e)||!0===e||!1===e;function w(e,t){return!(!y(e)||!y(t))||n(f(e),f(t))}function S(e,t,r,s){var o=a(m(e).concat(m(t)));return!(!b(e)||!b(t))||(!b(e)||!m(t).length)&&(!b(t)||!m(e).length)&&o.every((function(r){var a=e[r],o=t[r];return Array.isArray(a)&&Array.isArray(o)?n(f(e),f(t)):!(Array.isArray(a)&&!Array.isArray(o))&&!(Array.isArray(o)&&!Array.isArray(a))&&((e,t,r,n)=>t&&p(t,r)&&e&&p(e,r)&&n(e[r],t[r]))(e,t,r,s)}))}function x(e,t,r,n){var s=o(e,n),a=o(t,n);return l(s,a,n).length===Math.max(s.length,a.length)}var E={title:n,uniqueItems:(e,t)=>h(e)&&!1===t||h(t)&&!1===e||n(e,t),minLength:g,minItems:g,minProperties:g,required:w,enum:w,type:function(e,t){return e=u(e),t=u(t),n(f(e),f(t))},items:function(e,t,r,s){return c(e)&&c(t)?s(e,t):Array.isArray(e)&&Array.isArray(t)?S(e,t,0,s):n(e,t)},anyOf:x,allOf:x,oneOf:x,properties:S,patternProperties:S,dependencies:S},_=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],k=["additionalProperties","additionalItems","contains","propertyNames","not"];e.exports=function e(t,r,s){if(s=i(s,{ignore:[]}),v(t)&&v(r))return!0;if(!$(t)||!$(r))throw new Error("Either of the values are not a JSON schema.");if(t===r)return!0;if(d(t)&&d(r))return t===r;if(void 0===t&&!1===r||void 0===r&&!1===t)return!1;if(h(t)&&!h(r)||!h(t)&&h(r))return!1;var o=a(Object.keys(t).concat(Object.keys(r)));if(s.ignore.length&&(o=o.filter((e=>-1===s.ignore.indexOf(e)))),!o.length)return!0;function l(t,r){return e(t,r,s)}return o.every((function(a){var o=t[a],i=r[a];if(-1!==k.indexOf(a))return e(o,i,s);var c=E[a];if(c||(c=n),n(o,i))return!0;if(-1===_.indexOf(a)&&(!p(t,a)&&p(r,a)||p(t,a)&&!p(r,a)))return o===i;var u=c(o,i,a,l);if(!d(u))throw new Error("Comparer must return true or false");return u}))}},5109:(e,t,r)=>{const n=r(35970),s=r(80795),a=r(11331),o=r(63375),i=r(9063),l=r(91648),c=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d=e=>a(e)||Array.isArray(e)?Object.keys(e):[],u=e=>!d(e).length&&!1!==e&&!0!==e;e.exports={allUniqueKeys:e=>o(s(e.map(d))),deleteUndefinedProps:function(e){for(const t in e)c(e,t)&&u(e[t])&&delete e[t];return e},getValues:(e,t)=>e.map((e=>e&&e[t])),has:c,isEmptySchema:u,isSchema:e=>a(e)||!0===e||!1===e,keys:d,notUndefined:e=>void 0!==e,uniqWith:i,withoutArr:(e,...t)=>l.apply(null,[e].concat(n(t)))}},11051:(e,t,r)=>{const n=r(90370),s=r(39754),{allUniqueKeys:a,deleteUndefinedProps:o,has:i,isSchema:l,notUndefined:c,uniqWith:d}=r(5109);e.exports={keywords:["items","additionalItems"],resolver(e,t,r){const u=e.map((e=>e.items)),h=u.filter(c),m={};let p;var f;return h.every(l)?m.items=r.items(u):m.items=function(e,t,r){return a(r).reduce((function(r,s){const a=function(e,t){return e.map((function(e){if(e){if(!Array.isArray(e.items))return e.items;{const r=e.items[t];if(l(r))return r;if(i(e,"additionalItems"))return e.additionalItems}}}))}(e,s),o=d(a.filter(c),n);return r[s]=t(o,s),r}),[])}(e,r.items,u),h.every(Array.isArray)?p=e.map((e=>e.additionalItems)):h.some(Array.isArray)&&(p=e.map((function(e){if(e)return Array.isArray(e.items)?e.additionalItems:e.items}))),p&&(m.additionalItems=r.additionalItems(p)),!1===m.additionalItems&&Array.isArray(m.items)&&(f=m.items,s(f,(function(e,t){!1===e&&f.splice(t,1)}))),o(m)}}},7894:(e,t,r)=>{const n=r(90370),s=r(39754),{allUniqueKeys:a,deleteUndefinedProps:o,getValues:i,keys:l,notUndefined:c,uniqWith:d,withoutArr:u}=r(5109);function h(e,t){return a(e).reduce((function(r,s){const a=i(e,s),o=d(a.filter(c),n);return r[s]=t(o,s),r}),{})}e.exports={keywords:["properties","patternProperties","additionalProperties"],resolver(e,t,r,n){n.ignoreAdditionalProperties||(e.forEach((function(t){const n=e.filter((e=>e!==t)),s=l(t.properties),a=l(t.patternProperties).map((e=>new RegExp(e)));n.forEach((function(e){const n=l(e.properties),o=n.filter((e=>a.some((t=>t.test(e)))));u(n,s,o).forEach((function(n){e.properties[n]=r.properties([e.properties[n],t.additionalProperties],n)}))}))})),e.forEach((function(t){const r=e.filter((e=>e!==t)),n=l(t.patternProperties);!1===t.additionalProperties&&r.forEach((function(e){const t=l(e.patternProperties);u(t,n).forEach((t=>delete e.patternProperties[t]))}))})));const a={additionalProperties:r.additionalProperties(e.map((e=>e.additionalProperties))),patternProperties:h(e.map((e=>e.patternProperties)),r.patternProperties),properties:h(e.map((e=>e.properties)),r.properties)};var i;return!1===a.additionalProperties&&s(i=a.properties,(function(e,t){!1===e&&delete i[t]})),o(a)}}},33978:(e,t,r)=>{const n=r(88055),s=r(90370),a=r(78867),o=r(51973),i=r(35970),l=r(80795),c=r(5287),d=r(80191),u=r(2404),h=r(11331),m=r(12358),p=r(33031),f=r(63375),y=r(9063),g=r(7894),v=r(11051),b=(e,t)=>-1!==e.indexOf(t),$=e=>h(e)||!0===e||!1===e,w=e=>!1===e,S=e=>!0===e,x=(e,t,r)=>r(e),E=e=>p(f(l(e))),_=e=>void 0!==e,k=e=>f(l(e.map(O))),C=e=>e[0],P=e=>Math.max.apply(Math,e),A=e=>Math.min.apply(Math,e);function N(e){let{allOf:t=[],...r}=e;return r=h(e)?r:e,[r,...t.map(N)]}function T(e,t){return e.map((e=>e&&e[t]))}function O(e){return h(e)||Array.isArray(e)?Object.keys(e):[]}function I(e,t){if(t=t||[],!e.length)return t;const r=e.slice(0).shift(),n=e.slice(1);return t.length?I(n,i(t.map((e=>r.map((t=>[t].concat(e))))))):I(n,r.map((e=>e)))}function j(e,t){let r;try{r=e.map((function(e){return JSON.stringify(e,null,2)})).join("\n")}catch(t){r=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+'". They are probably incompatible. Values: \n'+r)}function D(e,t,r,n,a,o){if(e.length){const i=a.complexResolvers[t];if(!i||!i.resolver)throw new Error("No resolver found for "+t);const l=r.map((t=>e.reduce(((e,r)=>(void 0!==t[r]&&(e[r]=t[r]),e)),{}))),c=y(l,s),d=i.keywords.reduce(((e,t)=>({...e,[t]:(e,r=[])=>n(e,null,o.concat(t,r))})),{}),u=i.resolver(c,o.concat(t),d,a);return h(u)||j(c,o.concat(t)),u}}function R(e){return{required:e}}const M=["properties","patternProperties","definitions","dependencies"],F=["anyOf","oneOf"],q=["additionalProperties","additionalItems","contains","propertyNames","not","items"],U={type(e){if(e.some(Array.isArray)){const t=e.map((function(e){return Array.isArray(e)?e:[e]})),r=c.apply(null,t);if(1===r.length)return r[0];if(r.length>1)return f(r)}},dependencies:(e,t,r)=>k(e).reduce((function(t,n){const a=T(e,n);let o=y(a.filter(_),u);const i=o.filter(Array.isArray);if(i.length){if(i.length===o.length)t[n]=E(o);else{const e=o.filter($),s=i.map(R);t[n]=r(e.concat(s),n)}return t}return o=y(o,s),t[n]=r(o,n),t}),{}),oneOf(e,t,r){const a=function(e,t){return e.map((function(e,r){try{return t(e,r)}catch(e){return}})).filter(_)}(I(n(e)),r),o=y(a,s);if(o.length)return o},not:e=>({anyOf:e}),pattern:e=>e.map((e=>"(?="+e+")")).join(""),multipleOf(e){let t=e.slice(0),r=1;for(;t.some((e=>!Number.isInteger(e)));)t=t.map((e=>10*e)),r*=10;return a(t)/r},enum(e){const t=d.apply(null,e.concat(u));if(t.length)return p(t)}};U.$id=C,U.$ref=C,U.$schema=C,U.additionalItems=x,U.additionalProperties=x,U.anyOf=U.oneOf,U.contains=x,U.default=C,U.definitions=U.dependencies,U.description=C,U.examples=e=>y(i(e),u),U.exclusiveMaximum=A,U.exclusiveMinimum=P,U.items=v,U.maximum=A,U.maxItems=A,U.maxLength=A,U.maxProperties=A,U.minimum=P,U.minItems=P,U.minLength=P,U.minProperties=P,U.properties=g,U.propertyNames=x,U.required=e=>E(e),U.title=C,U.uniqueItems=e=>e.some(S);const L={properties:g,items:v};function Y(e,t,r){r=r||[],t=o(t,{ignoreAdditionalProperties:!1,resolvers:U,complexResolvers:L,deep:!0});const a=Object.entries(t.complexResolvers),i=function e(o,i,l){o=n(o.filter(_)),l=l||[];const c=h(i)?i:{};if(!o.length)return;if(o.some(w))return!1;if(o.every(S))return!0;o=o.filter(h);const d=k(o);if(t.deep&&b(d,"allOf"))return Y({allOf:o},t,r);const u=a.map((([e,t])=>d.filter((e=>t.keywords.includes(e)))));return u.forEach((e=>m(d,e))),d.forEach((function(r){const n=T(o,r),a=y(n.filter(_),function(e){return function(t,r){return s({[e]:t},{[e]:r})}}(r));if(1===a.length&&b(F,r))c[r]=a[0].map((t=>e([t],t)));else if(1!==a.length||b(M,r)||b(q,r)){const n=t.resolvers[r]||t.resolvers.defaultResolver;if(!n)throw new Error("No resolver found for key "+r+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const s=(t,n=[])=>e(t,null,l.concat(r,n));c[r]=n(a,l.concat(r),s,t),void 0===c[r]?j(a,l.concat(r)):void 0===c[r]&&delete c[r]}else c[r]=a[0]})),a.reduce(((r,[n,s],a)=>({...r,...D(u[a],n,o,e,t,l)})),c)}(l(N(e)));return i}Y.options={resolvers:U},e.exports=Y},56239:(e,t)=>{var r=/~/,n=/~[01]/g;function s(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function a(e){return r.test(e)?e.replace(n,s):e}function o(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e)){for(const t of e)if("string"!=typeof t&&"number"!=typeof t)throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function i(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var r=(t=o(t)).length;if(1===r)return e;for(var n=1;n<r;){if(e=e[a(t[n++])],r===n)return e;if("object"!=typeof e||null===e)return}}function l(e,t,r){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=o(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,r){for(var n,s,o=1,i=t.length;o<i;){if("constructor"===t[o]||"prototype"===t[o]||"__proto__"===t[o])return e;if(n=a(t[o++]),s=i>o,void 0===e[n]&&(Array.isArray(e)&&"-"===n&&(n=e.length),s&&(""!==t[o]&&t[o]<1/0||"-"===t[o]?e[n]=[]:e[n]={})),!s)break;e=e[n]}var l=e[n];return void 0===r?delete e[n]:e[n]=r,l}(e,t,r)}t.get=i,t.set=l,t.compile=function(e){var t=o(e);return{get:function(e){return i(e,t)},set:function(e,r){return l(e,t,r)}}}},83915:(e,t,r)=>{var n=r(38859),s=r(15325),a=r(29905),o=r(34932),i=r(27301),l=r(19219);e.exports=function(e,t,r,c){var d=-1,u=s,h=!0,m=e.length,p=[],f=t.length;if(!m)return p;r&&(t=o(t,i(r))),c?(u=a,h=!1):t.length>=200&&(u=l,h=!1,t=new n(t));e:for(;++d<m;){var y=e[d],g=null==r?y:r(y);if(y=c||0!==y?y:0,h&&g==g){for(var v=f;v--;)if(t[v]===g)continue e;p.push(y)}else u(t,g,c)||p.push(y)}return p}},98045:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},12027:e=>{e.exports=function(e,t,r,n){for(var s=r-1,a=e.length;++s<a;)if(n(e[s],t))return s;return-1}},21988:(e,t,r)=>{var n=r(34932),s=r(96131),a=r(12027),o=r(27301),i=r(23007),l=Array.prototype.splice;e.exports=function(e,t,r,c){var d=c?a:s,u=-1,h=t.length,m=e;for(e===t&&(t=i(t)),r&&(m=n(e,o(r)));++u<h;)for(var p=0,f=t[u],y=r?r(f):f;(p=d(m,y,p,c))>-1;)m!==e&&l.call(m,p,1),l.call(e,p,1);return e}},85558:e=>{e.exports=function(e,t,r,n,s){return s(e,(function(e,s,a){r=n?(n=!1,e):t(r,e,s,a)})),r}},52606:(e,t,r)=>{var n=r(85250),s=r(23805);e.exports=function e(t,r,a,o,i,l){return s(t)&&s(r)&&(l.set(r,t),n(t,r,void 0,e,l),l.delete(r)),t}},84684:(e,t,r)=>{var n=r(69302),s=r(75288),a=r(36800),o=r(37241),i=Object.prototype,l=i.hasOwnProperty,c=n((function(e,t){e=Object(e);var r=-1,n=t.length,c=n>2?t[2]:void 0;for(c&&a(t[0],t[1],c)&&(n=1);++r<n;)for(var d=t[r],u=o(d),h=-1,m=u.length;++h<m;){var p=u[h],f=e[p];(void 0===f||s(f,i[p])&&!l.call(e,p))&&(e[p]=d[p])}return e}));e.exports=c},51973:(e,t,r)=>{var n=r(91033),s=r(69302),a=r(52606),o=r(6924),i=s((function(e){return e.push(void 0,a),n(o,void 0,e)}));e.exports=i},80795:(e,t,r)=>{var n=r(83120);e.exports=function(e){return null!=e&&e.length?n(e,1/0):[]}},61448:(e,t,r)=>{var n=r(98045),s=r(49326);e.exports=function(e,t){return null!=e&&s(e,t,n)}},80191:(e,t,r)=>{var n=r(34932),s=r(27185),a=r(69302),o=r(80741),i=r(68090),l=a((function(e){var t=i(e),r=n(e,o);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?s(r,void 0,t):[]}));e.exports=l},12358:(e,t,r)=>{var n=r(21988);e.exports=function(e,t){return e&&e.length&&t&&t.length?n(e,t):e}},40860:(e,t,r)=>{var n=r(40882),s=r(80909),a=r(15389),o=r(85558),i=r(56449);e.exports=function(e,t,r){var l=i(e)?n:o,c=arguments.length<3;return l(e,a(t,4),r,c,s)}},63560:(e,t,r)=>{var n=r(73170);e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},6638:(e,t,r)=>{var n=r(78096),s=r(24066),a=r(61489),o=4294967295,i=Math.min;e.exports=function(e,t){if((e=a(e))<1||e>9007199254740991)return[];var r=o,l=i(e,o);t=s(t),e-=o;for(var c=n(l,t);++r<e;)t(r);return c}},80299:(e,t,r)=>{var n=r(83120),s=r(69302),a=r(55765),o=r(83693),i=s((function(e){return a(n(e,1,o,!0))}));e.exports=i},73357:(e,t,r)=>{var n=r(19931);e.exports=function(e,t){return null==e||n(e,t)}},91648:(e,t,r)=>{var n=r(83915),s=r(69302),a=r(83693),o=s((function(e,t){return a(e)?n(e,t):[]}));e.exports=o},6411:(e,t,r)=>{var n;!function(s,a,o){if(s){for(var i,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)l[111+h]="f"+h;for(h=0;h<=9;++h)l[h+96]=h.toString();b.prototype.bind=function(e,t,r){var n=this;return e=e instanceof Array?e:[e],n._bindMultiple.call(n,e,t,r),n},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){var r=this;return r._directMap[e+":"+t]&&r._directMap[e+":"+t]({},e),r},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(v(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);i=null},b.init=function(){var e=b(a);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),s.Mousetrap=b,e.exports&&(e.exports=b),void 0===(n=function(){return b}.call(t,r,t,e))||(e.exports=n)}function m(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function y(e,t,r){return r||(r=function(){if(!i)for(var e in i={},l)e>95&&e<112||l.hasOwnProperty(e)&&(i[l[e]]=e);return i}()[e]?"keydown":"keypress"),"keypress"==r&&t.length&&(r="keydown"),r}function g(e,t){var r,n,s,a=[];for(r=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),s=0;s<r.length;++s)n=r[s],u[n]&&(n=u[n]),t&&"keypress"!=t&&d[n]&&(n=d[n],a.push("shift")),f(n)&&a.push(n);return{key:n,modifiers:a,action:t=y(n,a,t)}}function v(e,t){return null!==e&&e!==a&&(e===t||v(e.parentNode,t))}function b(e){var t=this;if(e=e||a,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var r,n={},s=!1,o=!1,i=!1;function l(e){e=e||{};var t,r=!1;for(t in n)e[t]?r=!0:n[t]=0;r||(i=!1)}function c(e,r,s,a,o,i){var l,c,d,u,h=[],m=s.type;if(!t._callbacks[e])return[];for("keyup"==m&&f(e)&&(r=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(a||!c.seq||n[c.seq]==c.level)&&m==c.action&&("keypress"==m&&!s.metaKey&&!s.ctrlKey||(d=r,u=c.modifiers,d.sort().join(",")===u.sort().join(",")))){var p=!a&&c.combo==o,y=a&&c.seq==a&&c.level==i;(p||y)&&t._callbacks[e].splice(l,1),h.push(c)}return h}function d(e,r,n,s){t.stopCallback(r,r.target||r.srcElement,n,s)||!1===e(r,n)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(r),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(r))}function u(e){"number"!=typeof e.which&&(e.which=e.keyCode);var r=p(e);r&&("keyup"!=e.type||s!==r?t.handleKey(r,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):s=!1)}function h(e,a,o,u,m){t._directMap[e+":"+o]=a;var f,y=(e=e.replace(/\s+/g," ")).split(" ");y.length>1?function(e,t,a,o){function c(t){return function(){i=t,++n[e],clearTimeout(r),r=setTimeout(l,1e3)}}function u(t){d(a,t,e),"keyup"!==o&&(s=p(t)),setTimeout(l,10)}n[e]=0;for(var m=0;m<t.length;++m){var f=m+1===t.length?u:c(o||g(t[m+1]).action);h(t[m],f,o,e,m)}}(e,y,a,o):(f=g(e,o),t._callbacks[f.key]=t._callbacks[f.key]||[],c(f.key,f.modifiers,{type:f.action},u,e,m),t._callbacks[f.key][u?"unshift":"push"]({callback:a,modifiers:f.modifiers,action:f.action,seq:u,level:m,combo:e}))}t._handleKey=function(e,t,r){var n,s=c(e,t,r),a={},u=0,h=!1;for(n=0;n<s.length;++n)s[n].seq&&(u=Math.max(u,s[n].level));for(n=0;n<s.length;++n)if(s[n].seq){if(s[n].level!=u)continue;h=!0,a[s[n].seq]=1,d(s[n].callback,r,s[n].combo,s[n].seq)}else h||d(s[n].callback,r,s[n].combo);var m="keypress"==r.type&&o;r.type!=i||f(e)||m||l(a),o=h&&"keydown"==r.type},t._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)h(e[n],t,r)},m(e,"keypress",u),m(e,"keydown",u),m(e,"keyup",u)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},71345:(e,t,r)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function s(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function a(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,o=null,i=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==r||null!==o||null!==i){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=s),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;d.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:()=>o}),n.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},28514:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(5556));var n=i(r(72963)),s=i(r(90788)),a=i(r(96540)),o=i(r(50495));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}r(554);var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))},u=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,r){var n=t.getClassNames(r?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,n),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.getClassNames(r?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.getClassNames("enter").doneClassName;t.removeClasses(e,r?"appear":"enter"),c(e,n),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var r=t.props.classNames,n="string"!=typeof r?r[e]:r+"-"+e;return{className:n,activeClassName:"string"!=typeof r?r[e+"Active"]:n+"-active",doneClassName:"string"!=typeof r?r[e+"Done"]:n+"-done"}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=n.prototype;return s.removeClasses=function(e,t){var r=this.getClassNames(t),n=r.className,s=r.activeClassName,a=r.doneClassName;n&&d(e,n),s&&d(e,s),a&&d(e,a)},s.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},s.render=function(){var e=l({},this.props);return delete e.classNames,a.default.createElement(o.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(a.default.Component);u.propTypes={};var h=u;t.default=h,e.exports=t.default},1369:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0,o(r(5556));var n=o(r(96540)),s=r(28290),a=o(r(2312));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=o.prototype;return i.handleLifecycle=function(e,t,r){var a,o=this.props.children,i=n.default.Children.toArray(o)[t];i.props[e]&&(a=i.props)[e].apply(a,r),this.props[e]&&this.props[e]((0,s.findDOMNode)(this))},i.render=function(){var e=this.props,t=e.children,r=e.in,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,["children","in"]),o=n.default.Children.toArray(t),i=o[0],l=o[1];return delete s.onEnter,delete s.onEntering,delete s.onEntered,delete s.onExit,delete s.onExiting,delete s.onExited,n.default.createElement(a.default,s,r?n.default.cloneElement(i,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(n.default.Component);i.propTypes={};var l=i;t.default=l,e.exports=t.default},50495:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(5556)),s=i(r(96540)),a=i(r(28290)),o=r(71345);function i(e){return e&&e.__esModule?e:{default:e}}r(554);var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var h="exiting";t.EXITING=h;var m=function(e){var t,r;function n(t,r){var n;n=e.call(this,t,r)||this;var s,a=r.transitionGroup,o=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(s=c,n.appearStatus=d):s=u:s=t.unmountOnExit||t.mountOnEnter?l:c,n.state={status:s},n.nextCallback=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==d&&r!==u&&(t=d):r!==d&&r!==u||(t=h)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=n.appear),{exit:e,enter:t,appear:r}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=a.default.findDOMNode(this);t===d?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},o.performEnter=function(e,t){var r=this,n=this.props.enter,s=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,a=this.getTimeouts();t||n?(this.props.onEnter(e,s),this.safeSetState({status:d},(function(){r.props.onEntering(e,s),r.onTransitionEnd(e,a.enter,(function(){r.safeSetState({status:u},(function(){r.props.onEntered(e,s)}))}))}))):this.safeSetState({status:u},(function(){r.props.onEntered(e)}))},o.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},o.onTransitionEnd=function(e,t,r){this.setNextCallback(r),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var a=s.default.Children.only(r);return s.default.cloneElement(a,n)},n}(s.default.Component);function p(){}m.contextTypes={transitionGroup:n.object},m.childContextTypes={transitionGroup:function(){}},m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;var f=(0,o.polyfill)(m);t.default=f},2312:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(5556)),s=i(r(96540)),a=r(71345),o=r(52958);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,r;function n(t,r){var n,s=(n=e.call(this,t,r)||this).handleExited.bind(c(c(n)));return n.state={handleExited:s,firstRender:!0},n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},a.componentDidMount=function(){this.appeared=!0,this.mounted=!0},a.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,n):(0,o.getNextChildMapping)(e,r,n),firstRender:!1}},a.handleExited=function(e,t){var r=(0,o.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=l({},t.children);return delete r[e.key],{children:r}})))},a.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,["component","childFactory"]),a=d(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?a:s.default.createElement(t,n,a)},n}(s.default.Component);u.childContextTypes={transitionGroup:n.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,a.polyfill)(u);t.default=h,e.exports=t.default},49790:(e,t,r)=>{"use strict";var n=i(r(28514)),s=i(r(1369)),a=i(r(2312)),o=i(r(50495));function i(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:a.default,ReplaceTransition:s.default,CSSTransition:n.default}},52958:(e,t,r)=>{"use strict";t.__esModule=!0,t.getChildMapping=s,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return s(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:o(r,"appear",e),enter:o(r,"enter",e),exit:o(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var i=s(e.children),l=a(t,i);return Object.keys(l).forEach((function(s){var a=l[s];if((0,n.isValidElement)(a)){var c=s in t,d=s in i,u=t[s],h=(0,n.isValidElement)(u)&&!u.props.in;!d||c&&!h?d||!c||h?d&&c&&(0,n.isValidElement)(u)&&(l[s]=(0,n.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:o(a,"exit",e),enter:o(a,"enter",e)})):l[s]=(0,n.cloneElement)(a,{in:!1}):l[s]=(0,n.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:o(a,"exit",e),enter:o(a,"enter",e)})}})),l};var n=r(96540);function s(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function a(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,s=Object.create(null),a=[];for(var o in e)o in t?a.length&&(s[o]=a,a=[]):a.push(o);var i={};for(var l in t){if(s[l])for(n=0;n<s[l].length;n++){var c=s[l][n];i[s[l][n]]=r(c)}i[l]=r(l)}for(n=0;n<a.length;n++)i[a[n]]=r(a[n]);return i}function o(e,t,r){return null!=r[t]?r[t]:e.props[t]}},554:(e,t,r)=>{"use strict";var n;t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,(n=r(5556))&&n.__esModule,t.timeoutsShape=null,t.classNamesShape=null},66840:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(79305),s=r(55856),a=r(76977);function o(e,t){const{texts:r,className:o,style:i,container:l}=e,c=new Map;let d,u;c.set("",{height:0,width:0});const h=r.map((e=>{if(c.has(e))return c.get(e);d||(u=s.z.createInContainer(l),d=s.k.createInContainer(u)),(0,a.A)(d,{className:o,style:i,text:e});const r=(0,n.A)(d,t);return c.set(e,r),r}));return u&&d&&setTimeout((()=>{s.k.removeFromContainer(u),s.z.removeFromContainer(l)}),500),h}},55856:(e,t,r)=>{"use strict";r.d(t,{z:()=>a,k:()=>o});class n{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const s="http://www.w3.org/2000/svg",a=new n((function(){const e=document.createElementNS(s,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),o=new n((function(){return document.createElementNS(s,"text")}))},79305:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});const n={height:20,width:100};function s(e,t=n){const{width:r,height:s}=e.getBBox?e.getBBox():t;return{height:Math.ceil(s),width:Math.ceil(r)}}},76977:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});const n=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function s(e,{className:t,style:r={},text:s}={}){const a=e;return a.textContent!==s&&(a.textContent=void 0===s?null:s),a.getAttribute("class")!==t&&a.setAttribute("class",null!=t?t:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),n.filter((e=>void 0!==r[e]&&null!==r[e])).forEach((e=>{a.style[e]=`${r[e]}`})),a}},4454:(e,t,r)=>{"use strict";r.d(t,{D:()=>T});var n=r(85015),s=r.n(n),a=r(62193),o=r.n(a),i=r(96540),l=r(78697),c=r(15595),d=r(90868),u=r(85861),h=r(46920),m=r(96453),p=r(35742),f=r(95579),y=r(61225),g=r(95093),v=r.n(g),b=r(58561),$=r.n(b),w=r(74680),S=r(95272),x=r(39829),E=r(85183),_=r(60237),k=r(27023),C=r(2445);const P=m.I4.div`
  .sdm-body {
    margin: 0 8px;
  }
  .sdm-input {
    margin-left: 45px;
    width: 401px;
  }
  .sdm-autocomplete {
    width: 401px;
    align-self: center;
  }
  .sdm-radio {
    display: block;
    height: 30px;
    margin: 10px 0px;
    line-height: 30px;
  }
  .sdm-overwrite-msg {
    margin: 7px;
  }
  .sdm-overwrite-container {
    flex: 1 1 auto;
    display: flex;
  }
`,A=async(e,t,r,n,s,a)=>{const o=`api/v1/dataset/${t}?override_columns=${a}`,i=JSON.stringify({sql:r,columns:n,owners:s,database_id:e});return(await p.A.put({endpoint:o,headers:{"Content-Type":"application/json"},body:i})).json.result},N=(0,f.t)("Untitled Dataset"),T=({visible:e,onHide:t,buttonTextOnSave:r,buttonTextOnOverwrite:n,modalDescription:a,datasource:m,openWindow:g=!0,formData:b={}})=>{const T=(0,y.d4)((e=>{var t,r;return(null==(t=e.common)||null==(r=t.conf)?void 0:r.DEFAULT_VIZ_TYPE)||"table"})),O=()=>`${(null==m?void 0:m.name)||N} ${v()().format("L HH:mm:ss")}`,[I,j]=(0,i.useState)(O()),[D,R]=(0,i.useState)(x.lr.SaveNew),[M,F]=(0,i.useState)(!1),[q,U]=(0,i.useState)({}),[L,Y]=(0,i.useState)(void 0),[V,z]=(0,i.useState)(!1),W=(0,y.d4)((e=>e.user)),B=(0,y.wA)(),K=e=>{g?window.open(e,"_blank","noreferrer"):window.location.href=e},H={...x.V0,...b||{}},Q=(0,i.useCallback)((async(e="")=>{const{userId:t}=W,r=$().encode({filters:[{col:"table_name",opr:"ct",value:e},{col:"owners",opr:"rel_m_m",value:t}],order_column:"changed_on_delta_humanized",order_direction:"desc"});return p.A.get({endpoint:`/api/v1/dataset/?q=${r}`}).then((e=>({data:e.json.result.map((e=>({value:e.table_name,label:e.table_name,datasetid:e.id,owners:e.owners}))),totalCount:e.json.count})))}),[W]),G=D===x.lr.SaveNew&&0===I.length||D===x.lr.OverwriteDataset&&o()(L);return(0,C.Y)(u.A,{show:e,title:(0,f.t)("Save or Overwrite Dataset"),onHide:t,footer:(0,C.FD)(C.FK,{children:[D===x.lr.SaveNew&&(0,C.Y)(h.A,{disabled:G,buttonStyle:"primary",onClick:()=>{var e,r;z(!0);const n=null!=(e=null==m?void 0:m.columns)?e:[];let a;if(s()(null==m?void 0:m.templateParams)){const e=JSON.parse(m.templateParams);e._filters&&(delete e._filters,a=JSON.stringify(e))}B((0,w.createDatasource)({sql:m.sql,dbId:m.dbId||(null==m||null==(r=m.database)?void 0:r.id),catalog:null==m?void 0:m.catalog,schema:null==m?void 0:m.schema,templateParams:a,datasourceName:I})).then((e=>(0,_.T3)(e.id,"table",{...H,datasource:`${e.id}__table`,..."table"===T&&{all_columns:n.map((e=>e.column_name))}}))).then((e=>{z(!1);const r=(0,E.eX)(null,{[k.vX.formDataKey.name]:e});K(r),j(O()),t()})).catch((()=>{z(!1),(0,S.iB)((0,f.t)("An error occurred saving dataset"))}))},loading:V,children:r}),D===x.lr.OverwriteDataset&&(0,C.FD)(C.FK,{children:[M&&(0,C.Y)(h.A,{onClick:()=>{F(!1),U({})},children:(0,f.t)("Back")}),(0,C.Y)(h.A,{className:"md",buttonStyle:"primary",onClick:async()=>{var e,r,n;if(!M)return void F(!0);z(!0);const[,s]=await Promise.all([A(null==m?void 0:m.dbId,null==q?void 0:q.datasetid,null==m?void 0:m.sql,null==m||null==(e=m.columns)?void 0:e.map((e=>({column_name:e.column_name,type:e.type,is_dttm:e.is_dttm}))),null==q||null==(r=q.owners)?void 0:r.map((e=>e.id)),!0),(0,_.T3)(q.datasetid,"table",{...H,datasource:`${q.datasetid}__table`,..."table"===T&&{all_columns:null==m||null==(n=m.columns)?void 0:n.map((e=>e.column_name))}})]);z(!1);const a=(0,E.eX)(null,{[k.vX.formDataKey.name]:s});K(a),F(!1),j(O()),t()},disabled:G,loading:V,children:n})]})]}),children:(0,C.FD)(P,{children:[!M&&(0,C.FD)("div",{className:"sdm-body",children:[a&&(0,C.Y)("div",{className:"sdm-prompt",children:a}),(0,C.FD)(l.s.Group,{onChange:e=>{R(Number(e.target.value))},value:D,children:[(0,C.FD)(l.s,{className:"sdm-radio",value:1,children:[(0,f.t)("Save as new"),(0,C.Y)(d.pd,{className:"sdm-input",value:I,onChange:e=>{j(e.target.value)},disabled:1!==D})]}),(0,C.FD)("div",{className:"sdm-overwrite-container",children:[(0,C.Y)(l.s,{className:"sdm-radio",value:2,children:(0,f.t)("Overwrite existing")}),(0,C.Y)("div",{className:"sdm-autocomplete",children:(0,C.Y)(c.DW,{allowClear:!0,showSearch:!0,placeholder:(0,f.t)("Select or type dataset name"),ariaLabel:(0,f.t)("Existing dataset"),onChange:(e,t)=>{U(t),Y(e)},options:e=>Q(e),value:L,filterOption:(e,t)=>t.value.toLowerCase().includes(e.toLowerCase()),disabled:2!==D,getPopupContainer:()=>document.body})})]})]})]}),M&&(0,C.Y)("div",{className:"sdm-overwrite-msg",children:(0,f.t)("Are you sure you want to overwrite this dataset?")})]})})}},28274:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(67553);const s=["AND","AS","ASC","AVG","BY","CASE","COUNT","CREATE","CROSS","DATABASE","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","END","FOREIGN","FROM","GRANT","GROUP","HAVING","IF","INNER","INSERT","JOIN","KEY","LEFT","LIMIT","MAX","MIN","NATURAL","NOT","NULL","OFFSET","ON","OR","ORDER","OUTER","PRIMARY","REFERENCES","RIGHT","SELECT","SUM","TABLE","THEN","TYPE","UNION","UPDATE","WHEN","WHERE"].concat(["BIGINT","BINARY","BIT","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","MONEY","NUMBER","NUMERIC","REAL","SET","TEXT","TIMESTAMP","VARCHAR"]).map((e=>({meta:"sql",name:e,score:n.lI,value:e})))},91162:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(99929),s=r(2445);const a=({padded:e,...t})=>(0,s.Y)(n.A,{...t,css:t=>({".antd5-card-body":{padding:e?4*t.gridUnit:t.gridUnit}})})},93103:(e,t,r)=>{"use strict";r.d(t,{R2:()=>m,ms:()=>h});var n=r(96540),s=r(15595),a=r(96453),o=r(12249),i=r(2445);const l=a.I4.div`
  width: ${({theme:e})=>.75*e.gridUnit}px;
  height: ${({theme:e})=>.75*e.gridUnit}px;
  border-radius: 50%;
  background-color: ${({theme:e})=>e.colors.grayscale.light1};

  font-weight: ${({theme:e})=>e.typography.weights.normal};
  display: inline-flex;
  position: relative;

  &:hover {
    background-color: ${({theme:e})=>e.colors.primary.base};

    &::before,
    &::after {
      background-color: ${({theme:e})=>e.colors.primary.base};
    }
  }

  &::before,
  &::after {
    position: absolute;
    content: ' ';
    width: ${({theme:e})=>.75*e.gridUnit}px;
    height: ${({theme:e})=>.75*e.gridUnit}px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.grayscale.light1};
  }

  &::before {
    top: ${({theme:e})=>e.gridUnit}px;
  }

  &::after {
    bottom: ${({theme:e})=>e.gridUnit}px;
  }
`,c=a.I4.div`
  display: flex;
  align-items: center;
  padding: ${({theme:e})=>2*e.gridUnit}px;
  padding-left: ${({theme:e})=>e.gridUnit}px;
`;var d;!function(e){e.Vertical="vertical",e.Horizontal="horizontal"}(d||(d={}));const u=(e=d.Vertical)=>e===d.Horizontal?(0,i.Y)(o.A.MoreHoriz,{iconSize:"xl"}):(0,i.Y)(l,{}),h=({overlay:e,iconOrientation:t=d.Vertical,...r})=>(0,i.Y)(s.rM,{overlay:e,...r,children:(0,i.Y)(c,{children:u(t)})}),m=e=>{const{children:t,onBlur:r,onKeyDown:a,...o}=e,l=(0,n.cloneElement)(t,{onBlur:r,onKeyDown:a});return(0,i.Y)(s.rM,{overlayStyle:e.overlayStyle,...o,children:l})}},99551:(e,t,r)=>{"use strict";r.d(t,{g:()=>c});var n=r(20249),s=r.n(n),a=r(15595),o=r(96453),i=r(2445);const l=o.I4.div`
  .ant-btn-group {
    button.ant-btn {
      background-color: ${({theme:e})=>e.colors.primary.dark1};
      border-color: transparent;
      color: ${({theme:e})=>e.colors.grayscale.light5};
      font-size: 12px;
      line-height: 13px;
      outline: none;
      &:first-of-type {
        border-radius: ${({theme:e})=>`${e.gridUnit}px 0 0 ${e.gridUnit}px`};
        margin: 0;
      }

      &:disabled {
        background-color: ${({theme:e})=>e.colors.grayscale.light2};
        color: ${({theme:e})=>e.colors.grayscale.base};
      }
      &:nth-of-type(2) {
        margin: 0;
        border-radius: ${({theme:e})=>`0 ${e.gridUnit}px ${e.gridUnit}px 0`};
        width: ${({theme:e})=>9*e.gridUnit}px;
        &:before,
        &:hover:before {
          border-left: 1px solid ${({theme:e})=>e.colors.grayscale.light5};
          content: '';
          display: block;
          height: ${({theme:e})=>8*e.gridUnit}px;
          margin: 0;
          position: absolute;
          width: ${({theme:e})=>.25*e.gridUnit}px;
        }

        &:disabled:before {
          border-left: 1px solid ${({theme:e})=>e.colors.grayscale.base};
        }
      }
    }
  }
`,c=({overlay:e,tooltip:t,placement:r,...n})=>{const o=(t={})=>(0,i.Y)(l,{children:(0,i.Y)(a.rM.Button,{overlay:e,...n,...t})});return t?o({buttonsRender:([e,n])=>[(0,i.Y)(a.$B,{placement:r,id:`${s()(t)}-tooltip`,title:t,children:e}),n]}):o()}},41621:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(33149),s=r(96453),a=r(96540),o=r(62221),i=r(2445);const l=s.I4.div`
  position: absolute;
  height: 100%;

  :hover .sidebar-resizer::after {
    background-color: ${({theme:e})=>e.colors.primary.base};
  }

  .sidebar-resizer {
    // @z-index-above-sticky-header (100) + 1 = 101
    z-index: 101;
  }

  .sidebar-resizer::after {
    display: block;
    content: '';
    width: 1px;
    height: 100%;
    margin: 0 auto;
  }
`,c=({id:e,initialWidth:t,minWidth:r,maxWidth:s,enable:c,children:d})=>{const[u,h]=function(e,t){const r=(0,a.useRef)(),[n,s]=(0,a.useState)(t);return(0,a.useEffect)((()=>{var t;r.current=null!=(t=r.current)?t:(0,o.Gq)(o.Hh.CommonResizableSidebarWidths,{}),r.current[e]&&s(r.current[e])}),[e]),[n,function(t){s(t),(0,o.SO)(o.Hh.CommonResizableSidebarWidths,{...r.current,[e]:t})}]}(e,t);return(0,i.FD)(i.FK,{children:[(0,i.Y)(l,{children:(0,i.Y)(n.c,{enable:{right:c},handleClasses:{right:"sidebar-resizer"},size:{width:u,height:"100%"},minWidth:r,maxWidth:s,onResizeStop:(e,t,r,n)=>h(u+n.width)})}),d(u)]})}},54016:(e,t,r)=>{"use strict";r.d(t,{A:()=>v,V:()=>n});var n,s=r(2404),a=r.n(s),o=r(96540),i=r(96453),l=r(95579),c=r(38914),d=r(15595),u=r(47251),h=r(73204),m=r(2445);!function(e){e.Default="Default",e.Small="Small"}(n||(n={}));const p=i.I4.div`
  margin: ${({theme:e})=>40*e.gridUnit}px 0;
`,f=i.I4.div`
  ${({scrollTable:e,theme:t})=>e&&`\n    flex: 1 1 auto;\n    margin-bottom: ${4*t.gridUnit}px;\n    overflow: auto;\n  `}

  .table-row {
    ${({theme:e,small:t})=>!t&&`height: ${11*e.gridUnit-1}px;`}

    .table-cell {
      ${({theme:e,small:t})=>t&&`\n        padding-top: ${e.gridUnit+1}px;\n        padding-bottom: ${e.gridUnit+1}px;\n        line-height: 1.45;\n      `}
    }
  }

  th[role='columnheader'] {
    z-index: 1;
    border-bottom: ${({theme:e})=>`${e.gridUnit-2}px solid ${e.colors.grayscale.light2}`};
    ${({small:e})=>e&&"padding-bottom: 0;"}
  }
`,y=i.I4.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: ${({theme:e})=>e.colors.grayscale.light5};

  ${({isPaginationSticky:e})=>e&&"\n        position: sticky;\n        bottom: 0;\n        left: 0;\n    "};

  .row-count-container {
    margin-top: ${({theme:e})=>2*e.gridUnit}px;
    color: ${({theme:e})=>e.colors.grayscale.base};
  }
`,g=({columns:e,data:t,pageSize:r,totalCount:s=t.length,initialPageIndex:i,initialSortBy:g=[],loading:v=!1,withPagination:b=!0,emptyWrapperType:$=n.Default,noDataText:w,showRowCount:S=!0,serverPagination:x=!1,columnsForWrapText:E,onServerPagination:_=(()=>{}),scrollTopOnPagination:k=!1,...C})=>{const P={pageSize:null!=r?r:10,pageIndex:null!=i?i:0,sortBy:g},{getTableProps:A,getTableBodyProps:N,headerGroups:T,page:O,rows:I,prepareRow:j,pageCount:D,gotoPage:R,state:{pageIndex:M,pageSize:F,sortBy:q}}=(0,c.useTable)({columns:e,data:t,initialState:P,manualPagination:x,manualSortBy:x,pageCount:Math.ceil(s/P.pageSize)},c.useFilters,c.useSortBy,c.usePagination),U=b?O:I;let L;switch($){case n.Small:L=({children:e})=>(0,m.Y)(m.FK,{children:e});break;case n.Default:default:L=({children:e})=>(0,m.Y)(p,{children:e})}const Y=!v&&0===U.length,V=D>1&&b,z=(0,o.useRef)(null);return(0,o.useEffect)((()=>{x&&M!==P.pageIndex&&_({pageIndex:M})}),[M]),(0,o.useEffect)((()=>{x&&!a()(q,P.sortBy)&&_({pageIndex:0,sortBy:q})}),[q]),(0,m.FD)(m.FK,{children:[(0,m.FD)(f,{...C,ref:z,children:[(0,m.Y)(h.A,{getTableProps:A,getTableBodyProps:N,prepareRow:j,headerGroups:T,rows:U,columns:e,loading:v,columnsForWrapText:E}),Y&&(0,m.Y)(L,{children:w?(0,m.Y)(d.Sv,{image:d.Sv.PRESENTED_IMAGE_SIMPLE,description:w}):(0,m.Y)(d.Sv,{image:d.Sv.PRESENTED_IMAGE_SIMPLE})})]}),V&&(0,m.FD)(y,{className:"pagination-container",isPaginationSticky:C.isPaginationSticky,children:[(0,m.Y)(u.A,{totalPages:D||0,currentPage:D?M+1:0,onChange:e=>(e=>{var t;k&&(null==z||null==(t=z.current)||t.scroll(0,0)),R(e)})(e-1),hideFirstAndLastPageLinks:!0}),S&&(0,m.Y)("div",{className:"row-count-container",children:!v&&(0,l.t)("%s-%s of %s",F*M+(O.length&&1),F*M+O.length,s)})]})]})},v=(0,o.memo)(g)},50217:(e,t,r)=>{"use strict";r.d(t,{A:()=>n.A,V:()=>n.V});var n=r(54016)},64527:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(96540),s=r(96453),a=r(2738),o=r(49501),i=r(2445);const l=(0,s.I4)(a.A)`
  text-align: left;
  font-family: ${({theme:e})=>e.typography.families.monospace};
`;function c({endTime:e,isRunning:t,startTime:r,status:s="success"}){const[a,c]=(0,n.useState)("00:00:00.00"),d=(0,n.useRef)();return(0,n.useEffect)((()=>{const n=()=>{d.current&&(clearInterval(d.current),d.current=void 0)};return t&&(d.current=setInterval((()=>{if(r){const s=e||(0,o.tB)();r<s&&c((0,o.RW)(r,s)),t||n()}}),30)),n}),[e,t,r]),(0,i.Y)(l,{type:s,role:"timer",children:a})}},78704:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(17437),s=r(96453),a=r(16784),o=r(12249),i=r(19129),l=r(2445);const c=function({warningMarkdown:e,size:t,marginRight:r}){const c=(0,s.DP)();return(0,l.Y)(i.m,{id:"warning-tooltip",title:(0,l.Y)(a.A,{source:e}),children:(0,l.Y)(o.A.AlertSolid,{iconColor:c.colors.alert.base,iconSize:t,css:(0,n.AH)({marginRight:null!=r?r:2*c.gridUnit},"","")})})}},60237:(e,t,r)=>{"use strict";r.d(t,{T3:()=>d,cL:()=>u,kV:()=>i});var n=r(90179),s=r.n(n),a=r(35742);const o=["url_params"],i=e=>s()(e,o),l=(e,t)=>{let r="api/v1/explore/form_data";return e&&(r=r.concat(`/${e}`)),t&&(r=r.concat(`?tab_id=${t}`)),r},c=(e,t,r,n)=>{const s={datasource_id:e,datasource_type:t,form_data:JSON.stringify(i(r))};return n&&(s.chart_id=n),s},d=(e,t,r,n,s)=>a.A.post({endpoint:l(void 0,s),jsonPayload:c(e,t,r,n)}).then((e=>e.json.key)),u=(e,t,r,n,s,o)=>a.A.put({endpoint:l(r,o),jsonPayload:c(e,t,n,s)}).then((e=>e.json.message))},42305:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Hh});var n=r(96540),s=r(61225),a=r(17437),o=r(27366),i=r(43031);const l=i.F.injectEndpoints({endpoints:e=>({sqlLabInitialState:e.query({providesTags:["SqlLabInitialState"],query:()=>({endpoint:"/api/v1/sqllab/",headers:{"Content-Type":"application/json"},transformResponse:({json:e})=>e.result})})})}),{useSqlLabInitialStateQuery:c}=l;var d=r(74680),u=r(95272),h=r(2445);const m=()=>(0,h.Y)(a.mL,{styles:e=>a.AH`
      body {
        min-height: max(
          100vh,
          ${125*e.gridUnit}px
        ); // Set a min height so the gutter is always visible when resizing
        overflow: hidden;
      }
    `});var p=r(7350),f=r.n(p),y=r(61574),g=r(6411),v=r.n(g),b=r(96453),$=r(95579),w=r(67553),S=r(7735),x=r(35700),E=r(44383),_=r.n(E),k=r(48327),C=r(84193),P=r.n(C),A=r(19129),N=r(15151),T=r(87196),O=r(38708);const I=(0,n.createContext)({}),{Provider:j}=I,D={},R=({children:e})=>{const t=(0,y.zy)();return(0,h.Y)(j,{value:t.state||D,children:e})};var M=r(62193),F=r.n(M),q=r(53812),U=r.n(q),L=r(38221),Y=r.n(L),V=r(86963),z=r(49790),W=r(114),B=r(72391),K=r(85861),H=r(46920),Q=r(64527),G=r(41621),J=r(15595),X=r(90868),Z=r(6749),ee=r(12249),te=r(62221),re=r(25946);function ne(e){const t=(0,s.wA)();return(0,n.useCallback)(((r,n)=>t((0,S.logEvent)(r,{payload:{...e,...n}}))),[e,t])}var se=r(66537),ae=r(69945),oe=r(18301),ie=r(24976),le=r(27023);function ce(e,t){return(0,s.d4)((({sqlLab:{unsavedQueryEditor:r,queryEditors:n}})=>_()({...n.find((({id:t})=>t===e)),...e===(null==r?void 0:r.id)&&r},["id"].concat(t))),s.bN)}const de=(0,b.I4)(ie._p)`
  &.ace_editor {
    border: 1px solid ${({theme:e})=>e.colors.grayscale.light2};
  }
`;var ue={name:"6n1ert",styles:"width:inherit"};const he=({queryEditorId:e,language:t,onChange:r=(()=>{})})=>{const[s,a]=(0,n.useState)({}),[o,i]=(0,n.useState)(!0),{templateParams:l}=ce(e,["templateParams"]),c=null!=l?l:"{}";(0,n.useEffect)((()=>{try{a(JSON.parse(c)),i(!0)}catch{a({}),i(!1)}}),[c]);const d=(0,h.FD)("div",{children:[(0,h.FD)("p",{children:[(0,$.t)("Assign a set of parameters as"),(0,h.Y)("code",{children:"JSON"}),(0,$.t)("below (example:"),(0,h.Y)("code",{children:'{"my_table": "foo"}'}),(0,$.t)("), and they become available in your SQL (example:"),(0,h.FD)("code",{children:["SELECT * FROM ","{{ my_table }}"," "]}),") ",(0,$.t)("by using")," ",(0,h.Y)("a",{href:"https://superset.apache.org/sqllab.html#templating-with-jinja",target:"_blank",rel:"noopener noreferrer",children:(0,$.t)("Jinja templating")})," ",(0,$.t)("syntax.")]}),(0,h.Y)(de,{mode:t,minLines:25,maxLines:50,onChange:Y()(r,le.jW),width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,value:c})]}),u=s?Object.keys(s).length:0;return(0,h.Y)(oe.A,{modalTitle:(0,$.t)("Template parameters"),triggerNode:(0,h.Y)(A.m,{id:"parameters-tooltip",placement:"top",title:(0,$.t)("Edit template parameters"),trigger:["hover"],children:(0,h.FD)("div",{role:"button",css:ue,children:[(0,$.t)("Parameters "),(0,h.Y)(ae.A,{count:u}),!o&&(0,h.Y)(se.W,{icon:"exclamation-triangle",bsStyle:"danger",tooltip:(0,$.t)("Invalid JSON"),label:"invalid-json"})]})}),modalBody:d})};var me=r(43561),pe=r(2738),fe=r(90179),ye=r.n(fe),ge=r(47695),ve=r(95093),be=r.n(ve),$e=r(91162),we=r(58168),Se=r(40377),xe=r(59114),Ee=function(e,t){return n.createElement(xe.A,(0,we.A)({},e,{ref:t,icon:Se.A}))};const _e=n.forwardRef(Ee);var ke=r(77906),Ce=r(7653),Pe=function(e,t){return n.createElement(xe.A,(0,we.A)({},e,{ref:t,icon:Ce.A}))};const Ae=n.forwardRef(Pe);var Ne=r(55886),Te=r(46942),Oe=r.n(Te),Ie=r(42234),je=r(22553),De=r(89379),Re=r(80045),Me={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Fe=r(82284),qe=r(5544),Ue=r(20998),Le=0,Ye=(0,Ue.A)();var Ve=function(e){var t=e.bg,r=e.children;return n.createElement("div",{style:{width:"100%",height:"100%",background:t}},r)};function ze(e,t){return Object.keys(e).map((function(r){var n=parseFloat(r),s="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(s)}))}const We=n.forwardRef((function(e,t){var r=e.prefixCls,s=e.color,a=e.gradientId,o=e.radius,i=e.style,l=e.ptg,c=e.strokeLinecap,d=e.strokeWidth,u=e.size,h=e.gapDegree,m=s&&"object"===(0,Fe.A)(s),p=m?"#FFF":void 0,f=u/2,y=n.createElement("circle",{className:"".concat(r,"-circle-path"),r:o,cx:f,cy:f,stroke:p,strokeLinecap:c,strokeWidth:d,opacity:0===l?0:1,style:i,ref:t});if(!m)return y;var g="".concat(a,"-conic"),v=h?"".concat(180+h/2,"deg"):"0deg",b=ze(s,(360-h)/360),$=ze(s,1),w="conic-gradient(from ".concat(v,", ").concat(b.join(", "),")"),S="linear-gradient(to ".concat(h?"bottom":"top",", ").concat($.join(", "),")");return n.createElement(n.Fragment,null,n.createElement("mask",{id:g},y),n.createElement("foreignObject",{x:0,y:0,width:u,height:u,mask:"url(#".concat(g,")")},n.createElement(Ve,{bg:S},n.createElement(Ve,{bg:w}))))}));var Be=function(e,t,r,n,s,a,o,i,l,c){var d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=r/100*360*((360-a)/360),h=0===a?0:{bottom:0,top:180,left:90,right:-90}[o],m=(100-n)/100*t;return"round"===l&&100!==n&&(m+=c/2)>=t&&(m=t-.01),{stroke:"string"==typeof i?i:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:m+d,transform:"rotate(".concat(s+u+h,"deg)"),transformOrigin:"".concat(50,"px ").concat(50,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Ke=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function He(e){var t=null!=e?e:[];return Array.isArray(t)?t:[t]}const Qe=function(e){var t,r,s,a,o,i=(0,De.A)((0,De.A)({},Me),e),l=i.id,c=i.prefixCls,d=i.steps,u=i.strokeWidth,h=i.trailWidth,m=i.gapDegree,p=void 0===m?0:m,f=i.gapPosition,y=i.trailColor,g=i.strokeLinecap,v=i.style,b=i.className,$=i.strokeColor,w=i.percent,S=(0,Re.A)(i,Ke),x=function(e){var t=n.useState(),r=(0,qe.A)(t,2),s=r[0],a=r[1];return n.useEffect((function(){var e;a("rc_progress_".concat((Ye?(e=Le,Le+=1):e="TEST_OR_SSR",e)))}),[]),e||s}(l),E="".concat(x,"-gradient"),_=50-u/2,k=2*Math.PI*_,C=p>0?90+p/2:-90,P=k*((360-p)/360),A="object"===(0,Fe.A)(d)?d:{count:d,gap:2},N=A.count,T=A.gap,O=He(w),I=He($),j=I.find((function(e){return e&&"object"===(0,Fe.A)(e)})),D=j&&"object"===(0,Fe.A)(j)?"butt":g,R=Be(k,P,0,100,C,p,f,y,D,u),M=(a=(0,n.useRef)([]),o=(0,n.useRef)(null),(0,n.useEffect)((function(){var e=Date.now(),t=!1;a.current.forEach((function(r){if(r){t=!0;var n=r.style;n.transitionDuration=".3s, .3s, .3s, .06s",o.current&&e-o.current<100&&(n.transitionDuration="0s, 0s")}})),t&&(o.current=Date.now())})),a.current);return n.createElement("svg",(0,we.A)({className:Oe()("".concat(c,"-circle"),b),viewBox:"0 0 ".concat(100," ").concat(100),style:v,id:l,role:"presentation"},S),!N&&n.createElement("circle",{className:"".concat(c,"-circle-trail"),r:_,cx:50,cy:50,stroke:y,strokeLinecap:D,strokeWidth:h||u,style:R}),N?(t=Math.round(N*(O[0]/100)),r=100/N,s=0,new Array(N).fill(null).map((function(e,a){var o=a<=t-1?I[0]:y,i=o&&"object"===(0,Fe.A)(o)?"url(#".concat(E,")"):void 0,l=Be(k,P,s,r,C,p,f,o,"butt",u,T);return s+=100*(P-l.strokeDashoffset+T)/P,n.createElement("circle",{key:a,className:"".concat(c,"-circle-path"),r:_,cx:50,cy:50,stroke:i,strokeWidth:u,opacity:1,style:l,ref:function(e){M[a]=e}})}))):function(){var e=0;return O.map((function(t,r){var s=I[r]||I[I.length-1],a=Be(k,P,e,t,C,p,f,s,D,u);return e+=t,n.createElement(We,{key:r,color:s,ptg:t,radius:_,prefixCls:c,gradientId:E,style:a,strokeLinecap:D,strokeWidth:u,gapDegree:p,ref:function(e){M[r]=e},size:100})})).reverse()}())};var Ge=r(27707),Je=r(20439);function Xe(e){return!e||e<0?0:e>100?100:e}function Ze(e){let{success:t,successPercent:r}=e,n=r;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const et=(e,t,r)=>{var n,s,a,o;let i=-1,l=-1;if("step"===t){const t=r.steps,n=r.strokeWidth;"string"==typeof e||void 0===e?(i="small"===e?2:14,l=null!=n?n:8):"number"==typeof e?[i,l]=[e,e]:[i=14,l=8]=Array.isArray(e)?e:[e.width,e.height],i*=t}else if("line"===t){const t=null==r?void 0:r.strokeWidth;"string"==typeof e||void 0===e?l=t||("small"===e?6:8):"number"==typeof e?[i,l]=[e,e]:[i=-1,l=8]=Array.isArray(e)?e:[e.width,e.height]}else"circle"!==t&&"dashboard"!==t||("string"==typeof e||void 0===e?[i,l]="small"===e?[60,60]:[120,120]:"number"==typeof e?[i,l]=[e,e]:Array.isArray(e)&&(i=null!==(s=null!==(n=e[0])&&void 0!==n?n:e[1])&&void 0!==s?s:120,l=null!==(o=null!==(a=e[0])&&void 0!==a?a:e[1])&&void 0!==o?o:120));return[i,l]},tt=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:s="round",gapPosition:a,gapDegree:o,width:i=120,type:l,children:c,success:d,size:u=i,steps:h}=e,[m,p]=et(u,"circle");let{strokeWidth:f}=e;void 0===f&&(f=Math.max((e=>3/e*100)(m),6));const y={width:m,height:p,fontSize:.15*m+6},g=n.useMemo((()=>o||0===o?o:"dashboard"===l?75:void 0),[o,l]),v=(e=>{let{percent:t,success:r,successPercent:n}=e;const s=Xe(Ze({success:r,successPercent:n}));return[s,Xe(Xe(t)-s)]})(e),b=a||"dashboard"===l&&"bottom"||void 0,$="[object Object]"===Object.prototype.toString.call(e.strokeColor),w=(e=>{let{success:t={},strokeColor:r}=e;const{strokeColor:n}=t;return[n||Je.uy.green,r||null]})({success:d,strokeColor:e.strokeColor}),S=Oe()(`${t}-inner`,{[`${t}-circle-gradient`]:$}),x=n.createElement(Qe,{steps:h,percent:h?v[1]:v,strokeWidth:f,trailWidth:f,strokeColor:h?w[1]:w,strokeLinecap:s,trailColor:r,prefixCls:t,gapDegree:g,gapPosition:b}),E=m<=20,_=n.createElement("div",{className:S,style:y},x,!E&&c);return E?n.createElement(Ge.A,{title:c},_):_};var rt=r(87785),nt=r(1051),st=r(55302),at=r(18750);const ot="--progress-line-stroke-color",it="--progress-percent",lt=e=>{const t=e?"100%":"-100%";return new rt.Mo(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},ct=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},(0,nt.dF)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${ot})`]},height:"100%",width:`calc(1 / var(${it}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,rt.zA)(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:lt(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:lt(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},dt=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},ut=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},ht=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},mt=(0,st.OF)("Progress",(e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=(0,at.h1)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[ct(r),dt(r),ut(r),ht(r)]}),(e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:e.fontSize/e.fontSizeSM+"em"})));const pt=(e,t)=>{const{from:r=Je.uy.blue,to:n=Je.uy.blue,direction:s=("rtl"===t?"to left":"to right")}=e,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(e,["from","to","direction"]);if(0!==Object.keys(a).length){const e=(e=>{let t=[];return Object.keys(e).forEach((r=>{const n=parseFloat(r.replace(/%/g,""));isNaN(n)||t.push({key:n,value:e[r]})})),t=t.sort(((e,t)=>e.key-t.key)),t.map((e=>{let{key:t,value:r}=e;return`${r} ${t}%`})).join(", ")})(a),t=`linear-gradient(${s}, ${e})`;return{background:t,[ot]:t}}const o=`linear-gradient(${s}, ${r}, ${n})`;return{background:o,[ot]:o}},ft=e=>{const{prefixCls:t,direction:r,percent:s,size:a,strokeWidth:o,strokeColor:i,strokeLinecap:l="round",children:c,trailColor:d=null,percentPosition:u,success:h}=e,{align:m,type:p}=u,f=i&&"string"!=typeof i?pt(i,r):{[ot]:i,background:i},y="square"===l||"butt"===l?0:void 0,g=null!=a?a:[-1,o||("small"===a?6:8)],[v,b]=et(g,"line",{strokeWidth:o}),$={backgroundColor:d||void 0,borderRadius:y},w=Object.assign(Object.assign({width:`${Xe(s)}%`,height:b,borderRadius:y},f),{[it]:Xe(s)/100}),S=Ze(e),x={width:`${Xe(S)}%`,height:b,borderRadius:y,backgroundColor:null==h?void 0:h.strokeColor},E={width:v<0?"100%":v},_=n.createElement("div",{className:`${t}-inner`,style:$},n.createElement("div",{className:Oe()(`${t}-bg`,`${t}-bg-${p}`),style:w},"inner"===p&&c),void 0!==S&&n.createElement("div",{className:`${t}-success-bg`,style:x})),k="outer"===p&&"start"===m,C="outer"===p&&"end"===m;return"outer"===p&&"center"===m?n.createElement("div",{className:`${t}-layout-bottom`},_,c):n.createElement("div",{className:`${t}-outer`,style:E},k&&c,_,C&&c)},yt=e=>{const{size:t,steps:r,percent:s=0,strokeWidth:a=8,strokeColor:o,trailColor:i=null,prefixCls:l,children:c}=e,d=Math.round(r*(s/100)),u=null!=t?t:["small"===t?2:14,a],[h,m]=et(u,"step",{steps:r,strokeWidth:a}),p=h/r,f=new Array(r);for(let e=0;e<r;e++){const t=Array.isArray(o)?o[e]:o;f[e]=n.createElement("div",{key:e,className:Oe()(`${l}-steps-item`,{[`${l}-steps-item-active`]:e<=d-1}),style:{backgroundColor:e<=d-1?t:i,width:p,height:m}})}return n.createElement("div",{className:`${l}-steps-outer`},f,c)};var gt=r(24978);const vt=["normal","exception","active","success"],bt=n.forwardRef(((e,t)=>{const{prefixCls:r,className:s,rootClassName:a,steps:o,strokeColor:i,percent:l=0,size:c="default",showInfo:d=!0,type:u="line",status:h,format:m,style:p,percentPosition:f={}}=e,y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:g="end",type:v="outer"}=f,b=Array.isArray(i)?i[0]:i,$="string"==typeof i||Array.isArray(i)?i:void 0,w=n.useMemo((()=>{if(b){const e="string"==typeof b?b:Object.values(b)[0];return new gt.q(e).isLight()}return!1}),[i]),S=n.useMemo((()=>{var t,r;const n=Ze(e);return parseInt(void 0!==n?null===(t=null!=n?n:0)||void 0===t?void 0:t.toString():null===(r=null!=l?l:0)||void 0===r?void 0:r.toString(),10)}),[l,e.success,e.successPercent]),x=n.useMemo((()=>!vt.includes(h)&&S>=100?"success":h||"normal"),[h,S]),{getPrefixCls:E,direction:_,progress:k}=n.useContext(je.QO),C=E("progress",r),[P,A,N]=mt(C),T="line"===u,O=T&&!o,I=n.useMemo((()=>{if(!d)return null;const t=Ze(e);let r;const s=T&&w&&"inner"===v;return"inner"===v||m||"exception"!==x&&"success"!==x?r=(m||(e=>`${e}%`))(Xe(l),Xe(t)):"exception"===x?r=T?n.createElement(Ae,null):n.createElement(Ne.A,null):"success"===x&&(r=T?n.createElement(_e,null):n.createElement(ke.A,null)),n.createElement("span",{className:Oe()(`${C}-text`,{[`${C}-text-bright`]:s,[`${C}-text-${g}`]:O,[`${C}-text-${v}`]:O}),title:"string"==typeof r?r:void 0},r)}),[d,l,S,x,u,C,m]);let j;"line"===u?j=o?n.createElement(yt,Object.assign({},e,{strokeColor:$,prefixCls:C,steps:"object"==typeof o?o.count:o}),I):n.createElement(ft,Object.assign({},e,{strokeColor:b,prefixCls:C,direction:_,percentPosition:{align:g,type:v}}),I):"circle"!==u&&"dashboard"!==u||(j=n.createElement(tt,Object.assign({},e,{strokeColor:b,prefixCls:C,progressStatus:x}),I));const D=Oe()(C,`${C}-status-${x}`,{[`${C}-${"dashboard"===u?"circle":u}`]:"line"!==u,[`${C}-inline-circle`]:"circle"===u&&et(c,"circle")[0]<=20,[`${C}-line`]:O,[`${C}-line-align-${g}`]:O,[`${C}-line-position-${v}`]:O,[`${C}-steps`]:o,[`${C}-show-info`]:d,[`${C}-${c}`]:"string"==typeof c,[`${C}-rtl`]:"rtl"===_},null==k?void 0:k.className,s,a,A,N);return P(n.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},null==k?void 0:k.style),p),className:D,role:"progressbar","aria-valuenow":S},(0,Ie.A)(y,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),j))})),$t=bt,wt=(0,b.I4)((({striped:e,...t})=>(0,h.Y)($t,{...t})))`
  position: static;
  .antd5-progress-inner {
    position: static;
  }
  .antd5-progress-bg {
    position: static;
    ${({striped:e})=>e&&"\n        background-image: linear-gradient(45deg,\n            rgba(255, 255, 255, 0.15) 25%,\n            transparent 25%, transparent 50%,\n            rgba(255, 255, 255, 0.15) 50%,\n            rgba(255, 255, 255, 0.15) 75%,\n            transparent 75%, transparent) !important;\n        background-size: 1rem 1rem !important;\n        "};
  }
`;var St=r(50217),xt=r(49501),Et={name:"1u8vhvl",styles:"& :nth-of-type(1):not(:nth-last-of-type(1)){border-top-right-radius:0;border-bottom-right-radius:0;border-right:0;margin-left:0;}& :not(:nth-of-type(1)):not(:nth-last-of-type(1)){border-radius:0;border-right:0;margin-left:0;}& :nth-last-of-type(1):not(:nth-of-type(1)){border-top-left-radius:0;border-bottom-left-radius:0;margin-left:0;}"};function _t(e){const{className:t,children:r}=e;return(0,h.Y)("div",{role:"group",className:t,css:Et,children:r})}var kt=r(83505),Ct=r(32142),Pt=r(69108),At=r(79427),Nt=r(4454),Tt=r(39829),Ot=r(85183),It=r(60237),jt=r(17444),Dt=r(21013),Rt=r.n(Dt),Mt=r(66840),Ft=r(84248);const qt="NULL";var Ut=r(31070),Lt=r(15311),Yt=r(19966);function Vt(e){return"string"==typeof e&&/^"-?\d+"$/.test(e)?e.substring(1,e.length-1):e}function zt(e){return(0,h.Y)(h.FK,{children:Vt(e)})}const Wt=({modalTitle:e,jsonObject:t,jsonValue:r})=>{const n=(0,Lt.B)();return(0,h.Y)(oe.A,{modalBody:(0,h.Y)(Ut.d,{data:t,theme:n,valueRenderer:zt}),modalFooter:(0,h.Y)(H.A,{children:(0,h.Y)(Yt.A,{shouldShowText:!1,text:r})}),modalTitle:e,triggerNode:(0,h.Y)(h.FK,{children:r})})};var Bt=r(58642);var Kt=r(51003);const Ht=Rt()({storeAsString:!0,constructorAction:"preserve"}),Qt=/^(NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity))$/,Gt=b.I4.div`
  ${({theme:e})=>`\n    height: 100%;\n    overflow: hidden;\n\n    .ant-table-cell {\n      font-weight: ${e.typography.weights.bold};\n      background-color: ${e.colors.grayscale.light5};\n    }\n\n    .ant-table-cell,\n    .virtual-table-cell {\n      min-width: 0px;\n      align-self: center;\n      font-size: ${e.typography.sizes.s}px;\n    }\n\n    .even-row {\n      background: ${e.colors.grayscale.light4};\n    }\n\n    .odd-row {\n      background: ${e.colors.grayscale.light5};\n    }\n\n    .cell-text-for-measuring {\n      font-family: ${e.typography.families.sansSerif};\n      font-size: ${e.typography.sizes.s}px;\n    }\n  `}
`,Jt=({orderedColumnKeys:e,data:t,height:r,filterText:s="",expandedColumns:a=[],allowHTML:o=!0})=>{const[i,l]=(0,n.useState)(!1),[c]=(0,n.useState)((()=>(e=>e.map((e=>{const t={};return Object.entries(e).forEach((([e,r])=>{["string","number"].indexOf(typeof r)>=0?t[e]=r:t[e]=null===r?null:Ht.stringify(r)})),t})))(t))),d=function({columnKeys:e,expandedColumns:t}){const r=(0,n.useMemo)((()=>e.reduce(((e,r)=>({...e,[r]:null==t?void 0:t.some((e=>e.startsWith(`${r}.`)))})),{})),[t,e]);return(0,n.useCallback)((({cellData:e,columnKey:t})=>{if(null===e)return qt;const n=String(e),s=n.substring(0,1);let a;return a="["===s?"[…]":"{"===s?"{…}":"",r[t]?a:n}),[r])}({columnKeys:e,expandedColumns:a}),[u]=(0,n.useState)((()=>(()=>{const t={},r=[].concat(...e.map((e=>{const t=c.map((t=>d({cellData:t[e],columnKey:e})));return t.push(e),t}))),n=(0,Mt.A)({className:"cell-text-for-measuring",texts:r}).map((e=>e.width));return e.forEach(((e,r)=>{t[e]=n.slice(r*(c.length+1),(r+1)*(c.length+1)).reduce(((e,t)=>Math.max(e,t)))+50})),t})())),m=(0,n.useRef)(e.map((e=>u[e])).reduce(((e,t)=>e+t))),p=(0,n.useRef)(null);(0,n.useEffect)((()=>{(()=>{var e,t;const r=null!=(e=null==(t=p.current)?void 0:t.clientWidth)?e:0;m.current<r&&(m.current=r),l(!0)})()}),[]);const f=e=>"string"==typeof e&&Qt.test(e)?parseFloat(e):e,y=(0,Ft.Q)(s),g=(0,n.useMemo)((()=>y?c.filter((e=>((e,t)=>{const r=[];Object.keys(t).forEach((e=>{if(t.hasOwnProperty(e)){const n=t[e];"string"==typeof n?r.push(n.toLowerCase()):null!==n&&"function"==typeof n.toString&&r.push(n.toString())}}));const n=e.toLowerCase();return r.some((e=>e.includes(n)))})(y,e))):c),[c,y]),v=p.current&&m.current>p.current.clientWidth?r-15:r,b=e.map((e=>({key:e,title:e,dataIndex:e,width:u[e],sorter:(t,r)=>((e,t,r)=>{const n=f(t[e]),s=f(r[e]);return n===s?0:null===n?1:null===s||n<s?-1:1})(e,t,r),render:t=>(({cellData:e,getCellContent:t,columnKey:r,allowHTML:n=!0})=>{var s;const a=null!=(s=null==t?void 0:t({cellData:e,columnKey:r}))?s:String(e);if(null===e)return(0,h.Y)("i",{className:"text-muted",children:qt});const o=function(e){if("string"!=typeof e||-1===["{","["].indexOf(e.substring(0,1)))return null;try{const t=Rt()({storeAsString:!0}).parse(e);return t&&"object"==typeof t?t:null}catch(e){return null}}(e);return o?(0,h.Y)(Wt,{modalTitle:(0,$.t)("Cell content"),jsonObject:o,jsonValue:e}):n&&"string"==typeof e?(0,Bt.nn)(a):a})({cellData:t,columnKey:e,allowHTML:o,getCellContent:d})})));return(0,h.Y)(Gt,{className:"filterable-table-container",ref:p,children:i&&(0,h.Y)(Kt.XI,{loading:s!==y,size:Kt.QS.Small,height:v+42,usePagination:!1,columns:b,data:g,childrenColumnName:"",virtualize:!0,bordered:!0})})};var Xt=r(84666);const Zt=({table:e,schema:t,dbId:r,templateParams:n})=>{const a=(0,s.d4)((e=>e.sqlLab.errorMessage)),o=(0,s.wA)(),i={table_name:e,schema:t,database_id:r,template_params:n};return(0,h.FD)(H.A,{buttonSize:"small",onClick:()=>{o((0,d.createCtasDatasource)(i)).then((e=>{const t={datasource:`${e.table_id}__table`,metrics:["count"],groupby:[],viz_type:"table",since:"100 years ago",all_columns:[],row_limit:1e3};o((0,d.addInfoToast)((0,$.t)("Creating a data source and creating a new tab"))),(0,Ot.Cq)(t)})).catch((()=>{o((0,d.addDangerToast)(a||(0,$.t)("An error occurred")))}))},tooltip:(0,$.t)("Explore the result set in the data exploration view"),children:[(0,h.Y)(se.W,{icon:"line-chart",placement:"top",label:(0,$.t)("explore")})," ",(0,$.t)("Explore")]})},er=({database:e,onClick:t})=>{var r;const n=null!=(r=null==e?void 0:e.allows_subquery)&&r;return(0,h.FD)(H.A,{buttonSize:"small",onClick:t,disabled:!n,tooltip:(0,$.t)("Explore the result set in the data exploration view"),children:[(0,h.Y)(se.W,{icon:"line-chart",placement:"top",label:(0,$.t)("explore")})," ",(0,$.t)("Create Chart")]})};var tr=r(45738),rr=r(78360),nr=r(10286);tr.A.registerLanguage("sql",rr.A);const sr=(e,t,r)=>{let n=(e||"").split("\n");return n.length>=t&&(n=n.slice(0,t),n.push("{...}")),n.map((e=>e.length>r?`${e.slice(0,r)}{...}`:e)).join("\n")};function ar({shrink:e,sql:t,maxLines:r,maxWidth:n}){return(0,h.Y)(tr.A,{language:"sql",style:nr.A,children:e?sr(t,r,n):t})}function or({rawSql:e,sql:t}){return(0,h.FD)("div",{children:[(0,h.Y)("h4",{children:(0,$.t)("Source SQL")}),(0,h.Y)(tr.A,{language:"sql",style:nr.A,children:t}),e&&e!==t&&(0,h.FD)("div",{children:[(0,h.Y)("h4",{children:(0,$.t)("Executed SQL")}),(0,h.Y)(tr.A,{language:"sql",style:nr.A,children:e})]})]})}const ir=function({sql:e,rawSql:t,maxWidth:r=50,maxLines:n=5,shrink:s=!1}){return(0,h.Y)(oe.A,{modalTitle:(0,$.t)("SQL"),modalBody:(0,h.Y)(or,{rawSql:t,sql:e}),triggerNode:(0,h.Y)(ar,{shrink:s,sql:e,maxLines:n,maxWidth:r})})},lr=(0,b.I4)(pe.A)`
  margin-right: ${({theme:e})=>e.gridUnit}px;
`;function cr({query:e}){return(0,h.Y)(lr,{type:w.sA[e.state],children:w.K8[e.state]})}var dr;!function(e){e.Query="QUERY",e.QueryAndDropdown="QUERY_AND_DROPDOWN",e.Dropdown="DROPDOWN",e.NotLimited="NOT_LIMITED"}(dr||(dr={}));const ur=b.I4.div`
  display: flex;
  flex-direction: column;
  row-gap: ${({theme:e})=>2*e.gridUnit}px;
`,hr=b.I4.div`
  position: relative;
  min-height: ${({theme:e})=>25*e.gridUnit}px;
  [role='alert'] {
    margin-top: ${({theme:e})=>2*e.gridUnit}px;
  }
  .sql-result-track-job {
    margin-top: ${({theme:e})=>2*e.gridUnit}px;
  }
`,mr=b.I4.div`
  font-family: ${({theme:e})=>e.typography.families.monospace};
  white-space: pre;
  word-break: break-word;
  overflow-x: auto;
  white-space: pre-wrap;
`,pr=b.I4.div`
  font-size: ${({theme:e})=>e.typography.sizes.s}px;
  line-height: 1;
`,fr=b.I4.div`
  display: flex;
  justify-content: space-between;
`,yr=b.I4.div`
  display: grid;
  grid-auto-flow: column;
  padding-right: ${({theme:e})=>2*e.gridUnit}px;
`,gr=(0,B.a)(),vr=({cache:e=!1,csv:t=!0,database:r={},displayLimit:o,height:i,queryId:l,search:c=!0,showSql:m=!1,showSqlInline:p=!1,visualize:f=!0,defaultQueryLimit:g})=>{var v,w,S,E;const k=(0,s.d4)((({user:e})=>e),s.bN),C=(0,s.d4)((({sqlLab:{queries:e}})=>_()(e[l],["id","errorMessage","cached","results","resultsKey","dbId","tab","sql","sqlEditorId","templateParams","schema","rows","queryLimit","limitingFactor","trackingUrl","state","errors","link","ctas","ctas_method","tempSchema","tempTable","isDataPreview","progress","extra"])),s.bN),P=null!=(v=gr.get("sqleditor.extension.resultTable"))?v:Jt,T=(0,b.DP)(),[O,I]=(0,n.useState)(""),[j,D]=(0,n.useState)([]),[R,M]=(0,n.useState)(!1),[F,q]=(0,n.useState)(!1),U=(0,y.W6)(),L=(0,s.wA)(),Y=ne({queryId:l,sqlEditorId:C.sqlEditorId}),V=(0,n.useCallback)((()=>{C.errorMessage&&C.errorMessage.indexOf("session timed out")>0&&L((0,d.reRunQuery)(C))}),[]);(0,n.useEffect)((()=>{V()}),[V]);const z=e=>{L((0,d.fetchQueryResults)(e,o))},W=(0,kt.Z)(C);(0,n.useEffect)((()=>{var t,r;e&&C.cached&&(null==C||null==(t=C.results)||null==(r=t.data)?void 0:r.length)>0&&(D(C.results.data),L((0,d.clearQueryResults)(C))),C.resultsKey&&C.resultsKey!==(null==W?void 0:W.resultsKey)&&z(C)}),[C,e]);const B=e=>{q(!!e)},K=e=>{I(e.target.value)},Q=async e=>{const{results:t}=C,r=e.metaKey;if(Y(x.PV,{}),null!=t&&t.query_id){const e=await(0,It.T3)(t.query_id,"query",{...Tt.V0,datasource:`${t.query_id}__query`,all_columns:t.columns.map((e=>e.column_name))}),n=(0,Ot.eX)(null,{[le.vX.formDataKey.name]:e});r?window.open(n,"_blank","noreferrer"):U.push(n)}else(0,u.iB)((0,$.t)("Unable to create chart without a query id."))},G=()=>{if(c||f||t){let{data:s}=C.results;e&&C.cached&&(s=j);const{columns:a}=C.results,o={columns:C.results.columns,name:(null==C?void 0:C.tab)||"Untitled",dbId:null==C?void 0:C.dbId,sql:null==C?void 0:C.sql,templateParams:null==C?void 0:C.templateParams,schema:null==C?void 0:C.schema},i=(0,Xt.L)("can_export_csv","SQLLab",null==k?void 0:k.roles);return(0,h.FD)(fr,{children:[(0,h.Y)(Nt.D,{visible:R,onHide:()=>M(!1),buttonTextOnSave:(0,$.t)("Save & Explore"),buttonTextOnOverwrite:(0,$.t)("Overwrite & Explore"),modalDescription:(0,$.t)("Save this query as a virtual dataset to continue exploring"),datasource:o}),(0,h.FD)(yr,{children:[f&&(null==r?void 0:r.allows_virtual_table_explore)&&(0,h.Y)(er,{database:r,onClick:Q}),t&&i&&(0,h.FD)(H.A,{buttonSize:"small",href:(n=C.id,`/api/v1/sqllab/export/${n}/`),onClick:()=>Y(x.ft,{}),children:[(0,h.Y)("i",{className:"fa fa-file-text-o"})," ",(0,$.t)("Download to CSV")]}),i&&(0,h.Y)(Yt.A,{text:(0,N.L)(s,a),wrapped:!1,copyNode:(0,h.FD)(H.A,{buttonSize:"small",children:[(0,h.Y)("i",{className:"fa fa-clipboard"})," ",(0,$.t)("Copy to Clipboard")]}),hideTooltip:!0,onCopyEnd:()=>Y(x.AI,{})})]}),c&&(0,h.Y)("input",{type:"text",onChange:K,value:O,className:"form-control input-sm",placeholder:(0,$.t)("Filter results")})]})}var n;return(0,h.Y)("div",{})},J=e=>{var r,n;const{results:s,rows:o,queryLimit:i,limitingFactor:l}=C;let c="";const d=null==s?void 0:s.displayLimitReached,u=i||s.query.limit,m=!(null==k||null==(r=k.roles)||!r.Admin),f=Math.min(o||0,(null==s||null==(n=s.data)?void 0:n.length)||0),y={withAdmin:(0,$.t)("The number of results displayed is limited to %(rows)d by the configuration DISPLAY_MAX_ROW. Please add additional limits/filters or download to csv to see more rows up to the %(limit)d limit.",{rows:f,limit:u}),withoutAdmin:(0,$.t)("The number of results displayed is limited to %(rows)d. Please add additional limits/filters, download to csv, or contact an admin to see more rows up to the %(limit)d limit.",{rows:f,limit:u})},v=u===g&&l===dr.Dropdown;l===dr.Query&&t?c=(0,$.t)("The number of rows displayed is limited to %(rows)d by the query",{rows:o}):l!==dr.Dropdown||v?l===dr.QueryAndDropdown&&(c=(0,$.t)("The number of rows displayed is limited to %(rows)d by the query and limit dropdown.",{rows:o})):c=(0,$.t)("The number of rows displayed is limited to %(rows)d by the limit dropdown.",{rows:o});const b=(0,Ct.gV)()(o),w=`${(0,$.t)("%(rows)d rows returned",{rows:o})}. ${c}`;if(e)return(0,h.FD)(h.FK,{children:[!d&&v&&(0,h.Y)("div",{ref:B,children:(0,h.Y)(re.A,{type:"warning",message:(0,$.t)("%(rows)d rows returned",{rows:o}),onClose:()=>q(!1),description:(0,$.t)("The number of rows displayed is limited to %(rows)d by the dropdown.",{rows:o})})}),d&&(0,h.Y)("div",{ref:B,children:(0,h.Y)(re.A,{type:"warning",onClose:()=>q(!1),message:(0,$.t)("%(rows)d rows returned",{rows:f}),description:m?y.withAdmin:y.withoutAdmin})})]});const S=p||!d&&!v;return(0,h.Y)(h.FK,{children:S&&(0,h.Y)(pr,{children:(0,h.Y)(A.m,{id:"sqllab-rowcount-tooltip",title:w,placement:"left",children:(0,h.FD)(pe.A,{css:a.AH`
                  line-height: ${T.typography.sizes.l}px;
                `,children:[c&&(0,h.Y)(ee.A.ExclamationCircleOutlined,{css:a.AH`
                      font-size: ${T.typography.sizes.m}px;
                      margin-right: ${T.gridUnit}px;
                    `}),(0,$.tn)("%s row","%s rows",o,b)]})})})})},X=null==C||null==(w=C.results)?void 0:w.displayLimitReached;let Z,se,ae=C.dbId;if(null!=r&&r.explore_database_id&&(ae=r.explore_database_id),C.trackingUrl&&C.state!==Pt.kZ.Success&&C.state!==Pt.kZ.Fetching&&(se=(0,h.Y)(H.A,{className:"sql-result-track-job",buttonSize:"small",href:C.trackingUrl,target:"_blank",children:C.state===Pt.kZ.Running?(0,$.t)("Track job"):(0,$.t)("See query details")})),m&&(Z=(0,h.Y)(ir,{sql:C.sql,...p&&{maxLines:1,maxWidth:60}})),C.state===Pt.kZ.Stopped)return(0,h.Y)(re.A,{type:"warning",message:(0,$.t)("Query was stopped")});var oe,ie,ce;if(C.state===Pt.kZ.Failed)return(0,h.FD)(hr,{children:[(0,h.Y)(At.A,{title:(0,$.t)("Database error"),error:(null==C||null==(oe=C.extra)||null==(ie=oe.errors)?void 0:ie[0])||(null==C||null==(ce=C.errors)?void 0:ce[0]),subtitle:(0,h.Y)(mr,{children:C.errorMessage}),copyText:C.errorMessage||void 0,link:C.link,source:"sqllab"}),se]});if(C.state===Pt.kZ.Success&&C.ctas){const{tempSchema:e,tempTable:t}=C;let r="Table";return C.ctas_method===d.CtasEnum.View&&(r="View"),(0,h.Y)("div",{children:(0,h.Y)(re.A,{type:"info",message:(0,h.FD)(h.FK,{children:[(0,$.t)(r)," [",(0,h.FD)("strong",{children:[e?`${e}.`:"",t]}),"] ",(0,$.t)("was created"),"  ",(0,h.FD)(_t,{children:[(0,h.Y)(H.A,{buttonSize:"small",css:(0,a.AH)({marginRight:T.gridUnit},"",""),onClick:()=>((e,t)=>{const r={id:(0,me.Ak)(11),name:t,autorun:!1,dbId:C.dbId,sql:`SELECT * FROM ${e?`${e}.`:""}${t}`};L((0,d.addQueryEditor)(r))})(e,t),children:(0,$.t)("Query in a new tab")}),(0,h.Y)(Zt,{table:t,schema:e,dbId:ae})]})]})})})}if(C.state===Pt.kZ.Success&&C.results){const{results:t}=C,r=F?i-70:i-(X?0:32);let n;if(e&&C.cached?n=j:null!=t&&t.data&&({data:n}=t),n&&n.length>0){const e=t.expanded_columns?t.expanded_columns.map((e=>e.column_name)):[],s=(0,te.Gq)(te.Hh.SqllabIsRenderHtmlEnabled,!1);return(0,h.FD)(ur,{children:[G(),m&&p?(0,h.FD)(h.FK,{children:[(0,h.FD)("div",{css:a.AH`
                  display: flex;
                  justify-content: space-between;
                  gap: ${8}px;
                `,children:[(0,h.Y)($e.A,{css:[a.AH`
                      height: 28px;
                      width: calc(100% - ${108}px);
                      code {
                        width: 100%;
                        overflow: hidden;
                        white-space: nowrap !important;
                        text-overflow: ellipsis;
                        display: block;
                      }
                    `,"",""],children:Z}),J(!1)]}),J(!0)]}):(0,h.FD)(h.FK,{children:[J(!1),J(!0),Z]}),(0,h.Y)(P,{data:n,queryId:C.id,orderedColumnKeys:t.columns.map((e=>e.column_name)),height:r,filterText:O,expandedColumns:e,allowHTML:s})]})}if(n&&0===n.length)return(0,h.Y)(re.A,{type:"warning",message:(0,$.t)("The query returned no data")})}if(C.cached||C.state===Pt.kZ.Success&&!C.results){if(C.isDataPreview)return(0,h.Y)(H.A,{buttonSize:"small",buttonStyle:"primary",onClick:()=>L((0,d.reFetchQueryResults)({...C,isDataPreview:!0})),children:(0,$.t)("Fetch data preview")});if(C.resultsKey)return(0,h.Y)(H.A,{buttonSize:"small",buttonStyle:"primary",onClick:()=>z(C),children:(0,$.t)("Refetch results")})}let de;C.progress>0&&(de=(0,h.Y)(wt,{percent:parseInt(C.progress.toFixed(0),10),striped:!0}));const ue=null!=(S=null==C||null==(E=C.extra)?void 0:E.progress)?S:null;return(0,h.FD)(hr,{children:[(0,h.Y)("div",{children:!de&&(0,h.Y)(jt.A,{position:"normal"})}),(0,h.Y)("div",{children:100===C.progress&&(0,h.Y)(jt.A,{position:"normal"})}),(0,h.Y)(cr,{query:C}),(0,h.Y)("div",{children:ue&&(0,h.Y)(re.A,{type:"success",message:ue})}),(0,h.Y)("div",{children:100!==C.progress&&de}),se&&(0,h.Y)("div",{children:se})]})},br=(0,n.memo)(vr),$r=b.I4.span`
  color: ${({theme:e})=>e.colors.primary.dark1};
  &: hover {
    color: ${({theme:e})=>e.colors.primary.dark2};
  }
`,wr=({children:e=null,className:t="",onClick:r=(()=>{}),placement:n="top",style:s={},tooltip:a=null})=>{const o=(0,h.Y)($r,{onClick:r,style:s,className:`IconTooltip ${t}`,children:e});return a?(0,h.Y)(A.m,{id:"tooltip",title:a,placement:n,mouseEnterDelay:.3,mouseLeaveDelay:.15,children:o}):o},Sr=a.AH`
  position: static;
`,xr=a.AH`
  vertical-align: 0em;
  svg {
    height: 0.9em;
  }
`,Er=(0,b.I4)(wr)`
  padding-right: ${({theme:e})=>2*e.gridUnit}px;
  span {
    color: ${({theme:e})=>e.colors.grayscale.base};
    &: hover {
      color: ${({theme:e})=>e.colors.primary.base};
    }
  }
`,_r=({columns:e=["started","duration","rows"],queries:t=[],onUserClicked:r=(()=>{}),onDbClicked:a=(()=>{}),displayLimit:o,latestQueryId:i})=>{const l=(0,b.DP)(),c=(0,s.wA)(),u={state:(0,$.t)("State"),started:(0,$.t)("Started"),duration:(0,$.t)("Duration"),progress:(0,$.t)("Progress"),rows:(0,$.t)("Rows"),sql:(0,$.t)("SQL"),results:(0,$.t)("Results"),actions:(0,$.t)("Actions")},m=e=>"sql"===e?e.toUpperCase():e.charAt(0).toUpperCase().concat(e.slice(1)),p=(0,n.useMemo)((()=>e.map((e=>({accessor:e,Header:u[e]||m(e),disableSortBy:!0})))),[e]),f=(0,s.d4)((e=>e.user)),y=(0,n.useMemo)((()=>{const e={success:{config:{icon:(0,h.Y)(ee.A.Check,{iconColor:l.colors.success.base}),label:(0,$.t)("Success")}},failed:{config:{icon:(0,h.Y)(ee.A.XSmall,{iconColor:l.colors.error.base}),label:(0,$.t)("Failed")}},stopped:{config:{icon:(0,h.Y)(ee.A.XSmall,{iconColor:l.colors.error.base}),label:(0,$.t)("Failed")}},running:{config:{icon:(0,h.Y)(ee.A.Running,{iconColor:l.colors.primary.base}),label:(0,$.t)("Running")}},fetching:{config:{icon:(0,h.Y)(ee.A.Queued,{iconColor:l.colors.primary.base}),label:(0,$.t)("Fetching")}},timed_out:{config:{icon:(0,h.Y)(ee.A.Offline,{iconColor:l.colors.grayscale.light1}),label:(0,$.t)("Offline")}},scheduled:{config:{icon:(0,h.Y)(ee.A.Queued,{iconColor:l.colors.grayscale.base}),label:(0,$.t)("Scheduled")}},pending:{config:{icon:(0,h.Y)(ee.A.Queued,{iconColor:l.colors.grayscale.base}),label:(0,$.t)("Scheduled")}},error:{config:{icon:(0,h.Y)(ee.A.Error,{iconColor:l.colors.error.base}),label:(0,$.t)("Unknown Status")}}};return t.map((t=>{const{state:n,sql:s,progress:l,...u}=t,m=u,p=e[n]||e.error;m.endDttm&&(m.duration=(0,xt.RW)(m.startDttm,m.endDttm));const f=be()(m.startDttm).format().split("T");return m.time=(0,h.Y)("div",{children:(0,h.FD)("span",{children:[f[0]," ",(0,h.Y)("br",{})," ",f[1]]})}),m.user=(0,h.Y)(H.A,{buttonSize:"small",buttonStyle:"link",onClick:()=>r(m.userId),children:m.user}),m.db=(0,h.Y)(H.A,{buttonSize:"small",buttonStyle:"link",onClick:()=>a(m.dbId),children:m.db}),m.started=be()(m.startDttm).format("L HH:mm:ss"),m.querylink=(0,h.FD)(H.A,{buttonSize:"small",buttonStyle:"link",onClick:()=>(e=>{const t=`/sqllab?queryId=${e}`;window.open(t)})(m.queryId),children:[(0,h.Y)("i",{className:"fa fa-external-link m-r-3"}),(0,$.t)("Edit")]}),m.sql=(0,h.Y)($e.A,{css:[Sr,"",""],children:(0,h.Y)(ir,{sql:s,rawSql:m.executedSql,shrink:!0,maxWidth:60})}),m.resultsKey?m.results=(0,h.Y)(oe.A,{className:"ResultsModal",triggerNode:(0,h.Y)(pe.A,{type:"info",className:"pointer",children:(0,$.t)("View")}),modalTitle:(0,$.t)("Data preview"),beforeOpen:()=>((e,t)=>{c((0,d.fetchQueryResults)(e,t))})(t,o),onExit:()=>c((0,d.clearQueryResults)(t)),modalBody:(0,h.Y)(br,{showSql:!0,queryId:t.id,height:400,displayLimit:o,defaultQueryLimit:1e3}),responsive:!0}):m.results=(0,h.Y)(h.FK,{}),m.progress="success"===n?(0,h.Y)(wt,{percent:parseInt(l.toFixed(0),10),striped:!0,showInfo:!1}):(0,h.Y)(wt,{percent:parseInt(l.toFixed(0),10),striped:!0}),m.state=(0,h.Y)(A.m,{title:p.config.label,placement:"bottom",children:(0,h.Y)("span",{children:p.config.icon})}),m.actions=(0,h.FD)("div",{children:[(0,h.Y)(Er,{onClick:()=>(e=>{c((0,d.queryEditorSetSql)({id:e.sqlEditorId},e.sql,e.id))})(t),tooltip:(0,$.t)("Overwrite text in the editor with a query on this table"),placement:"top",children:(0,h.Y)(ee.A.Edit,{iconSize:"xl"})}),(0,h.Y)(Er,{onClick:()=>(e=>{c((0,d.cloneQueryToNewTab)(e,!0))})(t),tooltip:(0,$.t)("Run query in a new tab"),placement:"top",children:(0,h.Y)(ee.A.PlusCircleOutlined,{iconSize:"xl",css:xr})}),m.id!==i&&(0,h.Y)(Er,{tooltip:(0,$.t)("Remove query from log"),onClick:()=>c((0,d.removeQuery)(t)),children:(0,h.Y)(ee.A.Trash,{iconSize:"xl"})})]}),m})).reverse()}),[t,r,a,f,o]);return(0,h.Y)("div",{className:"QueryTable",children:(0,h.Y)(St.A,{columns:p,data:y,className:"table-condensed",pageSize:50})})},kr=e=>({queryId:e.id,id:e.client_id,dbId:e.database.id,db:e.database,executedSql:e.executed_sql,errorMessage:e.error_message,queryLimit:e.limit,ctas:e.select_as_cta,limitingFactor:e.limiting_factor,progress:e.progress,rows:e.rows,schema:e.schema,sql:e.sql,sqlEditorId:e.sql_editor_id,state:e.status,tab:e.tab_name,startDttm:Number(e.start_time),endDttm:Number(e.end_time),tempTable:e.tmp_table_name||"",trackingUrl:e.tracking_url,resultsKey:e.results_key,userId:e.user.id,cached:!1,extra:{progress:null},isDataPreview:!1,user:e.user}),Cr=i.F.injectEndpoints({endpoints:e=>({editorQueries:e.query({providesTags:["EditorQueries"],query:({editorId:e,pageIndex:t=0,pageSize:r=25})=>({method:"GET",endpoint:"/api/v1/query/",urlParams:{keys:["none"],columns:["id","client_id","changed_on","database.id","database.database_name","executed_sql","error_message","limit","limiting_factor","progress","rows","select_as_cta","schema","sql","sql_editor_id","status","tab_name","user.first_name","user.id","user.last_name","start_time","end_time","tmp_table_name","tmp_schema_name","tracking_url","results_key"],order_column:"start_time",order_direction:"desc",page:t,page_size:r,filters:[{col:"sql_editor_id",opr:"eq",value:e}]},headers:{"Content-Type":"application/json"},transformResponse:({json:e})=>({...e,result:e.result.map(kr)})}),serializeQueryArgs:({queryArgs:{editorId:e}})=>({editorId:e}),forceRefetch:({currentArg:e,previousArg:t})=>e!==t,merge:(e,t)=>{e.result.push(...t.result)}})})}),{useEditorQueriesQuery:Pr}=Cr,Ar=b.I4.div`
  height: 100%;
  .ant-empty-image img {
    margin-right: 28px;
  }

  p {
    margin-right: 28px;
  }
`,Nr=(e,t)=>Object.values(e).filter((({sqlEditorId:e})=>String(e)===String(t))),Tr=({queryEditorId:e,displayLimit:t,latestQueryId:r})=>{const[i,l]=(0,ge.Wx)({threshold:0}),[c,d]=(0,n.useState)(0),u=(0,s.d4)((({sqlLab:{queries:e}})=>e),s.bN),{currentData:m,isLoading:p,isFetching:f}=Pr({editorId:`${e}`,pageIndex:c},{skip:!(0,o.G7)(o.TO.SqllabBackendPersistence)}),y=(0,n.useMemo)((()=>m?Nr(ye()(u,m.result.map((({id:e})=>e))),e).concat(m.result).reverse():Nr(u,e)),[u,m,e]),g=(0,V.A)((()=>{d(c+1)})),v=(null==m?void 0:m.result.length)||0,b=(null==m?void 0:m.count)||0;return(0,n.useEffect)((()=>{l&&v<b&&g()}),[l,g,v,b]),!y.length&&p?(0,h.Y)(J.EA,{active:!0}):y.length>0?(0,h.FD)(h.FK,{children:[(0,h.Y)(_r,{columns:["state","started","duration","progress","rows","sql","results","actions"],queries:y,displayLimit:t,latestQueryId:r}),m&&v<b&&(0,h.Y)("div",{ref:i,css:a.AH`
            position: relative;
            top: -150px;
          `}),f&&(0,h.Y)(J.EA,{active:!0})]}):(0,h.Y)(Ar,{children:(0,h.Y)(T.uq,{title:(0,$.t)("Run a query to display query history"),image:"document.svg"})})},Or=b.I4.div`
  height: 100%;
  .ant-empty-image img {
    margin-right: 28px;
  }

  p {
    margin-right: 28px;
  }
`,Ir=({latestQueryId:e,height:t,displayLimit:r,defaultQueryLimit:n})=>{const a=(0,s.d4)((({sqlLab:{databases:e}})=>e),s.bN),i=(0,s.d4)((({sqlLab:{queries:t}})=>t[e||""]),s.bN);return!i||Date.now()-i.startDttm>w.Ml?(0,h.Y)(Or,{children:(0,h.Y)(T.uq,{title:(0,$.t)("Run a query to display results"),image:"document.svg"})}):!(0,o.G7)(o.TO.SqllabBackendPersistence)||"success"!==i.state||i.resultsKey||i.results?(0,h.Y)(br,{search:!0,queryId:i.id,height:t+8,database:a[i.dbId],displayLimit:r,defaultQueryLimit:n,showSql:!0,showSqlInline:!0}):(0,h.Y)(re.A,{type:"warning",message:(0,$.t)("No stored results found, you need to re-run your query")})},jr=b.I4.div`
  width: 100%;
  height: ${e=>e.height}px;
  .ant-tabs .ant-tabs-content-holder {
    overflow: visible;
  }
  .SouthPaneTabs {
    height: 100%;
    display: flex;
    flex-direction: column;
    .scrollable {
      overflow-y: auto;
    }
  }
  .ant-tabs-tabpane {
    .scrollable {
      overflow-y: auto;
    }
  }
  .tab-content {
    .alert {
      margin-top: ${({theme:e})=>2*e.gridUnit}px;
    }

    button.fetch {
      margin-top: ${({theme:e})=>2*e.gridUnit}px;
    }
  }
`,Dr=({queryEditorId:e,latestQueryId:t,height:r,displayLimit:a,defaultQueryLimit:o})=>{var i;const l=(0,s.wA)(),{offline:c,tables:u}=(0,s.d4)((({sqlLab:{offline:e,tables:t}})=>({offline:e,tables:t})),s.bN),m=(0,s.d4)((({sqlLab:{queries:e}})=>Object.keys(e)),s.bN),p=null!=(i=(0,s.d4)((e=>e.sqlLab.activeSouthPaneTab)))?i:"Results",f=(0,n.useMemo)((()=>new Set(m)),[m]),y=(0,n.useMemo)((()=>u.filter((({dataPreviewQueryId:t,queryEditorId:r})=>t&&e===r&&f.has(t)))),[e,u,f]),g=r-130,v=(0,n.createRef)();return c?(0,h.Y)(pe.A,{className:"m-r-3",type:w.sA[w.yZ.offline],children:w.W8.offline}):(0,h.Y)(jr,{className:"SouthPane",height:r,ref:v,children:(0,h.FD)(k.Ay,{activeKey:p,className:"SouthPaneTabs",onChange:e=>{l((0,d.setActiveSouthPaneTab)(e))},id:(0,me.Ak)(11),fullWidth:!1,animated:!1,children:[(0,h.Y)(k.Ay.TabPane,{tab:(0,$.t)("Results"),children:(0,h.Y)(Ir,{height:g,latestQueryId:t,displayLimit:a,defaultQueryLimit:o})},"Results"),(0,h.Y)(k.Ay.TabPane,{tab:(0,$.t)("Query history"),children:(0,h.Y)(Tr,{queryEditorId:e,displayLimit:a,latestQueryId:t})},"History"),y.map((({name:e,dataPreviewQueryId:t})=>t&&(0,h.Y)(k.Ay.TabPane,{tab:(0,$.t)("Preview: `%s`",decodeURIComponent(e)),children:(0,h.Y)(br,{queryId:t,visualize:!1,csv:!1,cache:!0,height:g,displayLimit:a,defaultQueryLimit:o})},t)))]})})};var Rr=r(40563),Mr=r(99551);const Fr=({setShowSave:e,overlayMenu:t})=>{const r=(0,b.DP)(),n=(0,b.I4)(Mr.g)`
    &.ant-dropdown-button button.ant-btn.ant-btn-default {
      font-weight: ${150*r.gridUnit};
      background-color: ${r.colors.primary.light4};
      color: ${r.colors.primary.dark1};
      &:nth-of-type(2) {
        &:before,
        &:hover:before {
          border-left: 2px solid ${r.colors.primary.dark2};
        }
      }
    }
    span[name='caret-down'] {
      margin-left: ${1*r.gridUnit}px;
      color: ${r.colors.primary.dark2};
    }
  `;return t?(0,h.Y)(n,{onClick:()=>e(!0),overlay:t,icon:(0,h.Y)(ee.A.CaretDown,{iconColor:r.colors.grayscale.light5,name:"caret-down"}),trigger:["click"],children:(0,$.t)("Save")}):(0,h.Y)(H.A,{onClick:()=>e(!0),buttonStyle:"primary",children:(0,$.t)("Save")})};var qr=r(9066);const Ur=b.I4.span`
  span[role='img'] {
    display: flex;
    margin: 0;
    color: ${({theme:e})=>e.colors.grayscale.base};
    svg {
      vertical-align: -${({theme:e})=>1.25*e.gridUnit}px;
      margin: 0;
    }
  }
`,Lr=({queryEditorId:e,onSave:t=(()=>{}),onUpdate:r,saveQueryWarning:s,database:a,columns:o})=>{const i=ce(e,["autorun","name","description","remoteId","dbId","latestQueryId","queryLimit","catalog","schema","selectedText","sql","templateParams"]),l=(0,n.useMemo)((()=>({...i,columns:o})),[i,o]),c=ne({queryEditorId:e}),d=l.name||l.description||(0,$.t)("Undefined"),[u,m]=(0,n.useState)(l.description||""),[p,f]=(0,n.useState)(d),[y,g]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),w=!!l.remoteId,S=!(null==a||!a.allows_virtual_table_explore),E=void 0!==(null==a?void 0:a.allows_virtual_table_explore),_=(0,h.Y)(Z.W1,{children:(0,h.Y)(Z.W1.Item,{onClick:()=>{c(x.PV,{}),b(!0)},children:(0,$.t)("Save dataset")})}),k=()=>{var e;return{name:p,description:u,dbId:null!=(e=l.dbId)?e:0,sql:l.sql,catalog:l.catalog,schema:l.schema,templateParams:l.templateParams,remoteId:(null==l?void 0:l.remoteId)||void 0}};(0,n.useEffect)((()=>{w||f(d)}),[d]);const C=()=>g(!1),P=()=>{c(x.AP,{}),t(k(),l.id),C()};return(0,h.FD)(Ur,{className:"SaveQuery",children:[E&&(0,h.Y)(Fr,{setShowSave:g,overlayMenu:S?_:null}),(0,h.Y)(Nt.D,{visible:v,onHide:()=>b(!1),buttonTextOnSave:(0,$.t)("Save & Explore"),buttonTextOnOverwrite:(0,$.t)("Overwrite & Explore"),datasource:(0,qr.l)(l)}),(0,h.Y)(K.A,{className:"save-query-modal",onHandledPrimaryAction:P,onHide:C,primaryButtonName:w?(0,$.t)("Save"):(0,$.t)("Save as"),width:"620px",show:y,title:(0,h.Y)("h4",{children:(0,$.t)("Save query")}),footer:(0,h.FD)(h.FK,{children:[(0,h.Y)(H.A,{onClick:C,cta:!0,children:(0,$.t)("Cancel")}),(0,h.Y)(H.A,{buttonStyle:w?void 0:"primary",onClick:P,className:"m-r-3",cta:!0,children:w?(0,$.t)("Save as new"):(0,$.t)("Save")}),w&&(0,h.Y)(H.A,{buttonStyle:"primary",onClick:()=>{r(k(),l.id),C()},className:"m-r-3",cta:!0,children:(0,$.t)("Update")})]}),children:(0,h.FD)(Rr.lV,{layout:"vertical",children:[(0,h.Y)(J.fI,{children:(0,h.Y)(J.fv,{xs:24,children:(0,h.Y)(Rr.eI,{label:(0,$.t)("Name"),children:(0,h.Y)(X.pd,{type:"text",value:p,onChange:e=>{f(e.target.value)}})})})}),(0,h.Y)("br",{}),(0,h.Y)(J.fI,{children:(0,h.Y)(J.fv,{xs:24,children:(0,h.Y)(Rr.eI,{label:(0,$.t)("Description"),children:(0,h.Y)(X.fs,{rows:4,value:u,onChange:e=>{m(e.target.value)}})})})}),s&&(0,h.FD)(h.FK,{children:[(0,h.Y)("br",{}),(0,h.FD)("div",{children:[(0,h.Y)(J.fI,{children:(0,h.Y)(J.fv,{xs:24,children:(0,h.Y)("small",{children:s})})}),(0,h.Y)("br",{})]})]})]})})]})};var Yr=r(74848);function Vr(e){return!("undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Date&&e instanceof Date||"object"!=typeof e||null===e||Array.isArray(e))}function zr(e){if(""===e)return;if(null===e)return null;if(/\.$/.test(e))return e;if(/\.0$/.test(e))return e;if(/\.\d*0$/.test(e))return e;const t=Number(e);return"number"!=typeof t||Number.isNaN(t)?e:t}const Wr="__additional_property",Br="additionalProperties",Kr="allOf",Hr="anyOf",Qr="const",Gr="default",Jr="dependencies",Xr="__errors",Zr="$id",en="if",tn="items",rn="$name",nn="oneOf",sn="properties",an="required",on="submitButtonOptions",ln="$ref",cn="__rjsf_additionalProperties",dn="__rjsf_rootSchema",un="ui:widget",hn="ui:options";function mn(e={},t={}){return Object.keys(e).filter((e=>0===e.indexOf("ui:"))).reduce(((t,r)=>{const n=e[r];return r===un&&Vr(n)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),t):r===hn&&Vr(n)?{...t,...n}:{...t,[r.substring(3)]:n}}),{...t})}function pn(e,t={},r){if(!e.additionalProperties)return!1;const{expandable:n=!0}=mn(t);return!1===n?n:void 0===e.maxProperties||!r||Object.keys(r).length<e.maxProperties}var fn=r(11331),yn=r.n(fn);function gn(e){const t={[Xr]:[],addError(e){this[Xr].push(e)}};if(Array.isArray(e))return e.reduce(((e,t,r)=>({...e,[r]:gn(t)})),t);if(yn()(e)){const r=e;return Object.keys(r).reduce(((e,t)=>({...e,[t]:gn(r[t])})),t)}return t}var vn=r(29132),bn=r.n(vn);function $n(e,t){return bn()(e,t,((e,t)=>{if("function"==typeof e&&"function"==typeof t)return!0}))}var wn=r(58156),Sn=r.n(wn),xn=r(56239);function En(e,t){const r=t[e];return[ye()(t,[e]),r]}function _n(e,t={},r=[]){const n=e||"";let s;if(!n.startsWith("#"))throw new Error(`Could not find a definition for ${e}.`);s=decodeURIComponent(n.substring(1));const a=xn.get(t,s);if(void 0===a)throw new Error(`Could not find a definition for ${e}.`);const o=a[ln];if(o){if(r.includes(o)){if(1===r.length)throw new Error(`Definition for ${e} is a circular reference`);const[t,...s]=r,a=[...s,n,t].join(" -> ");throw new Error(`Definition for ${t} contains a circular reference through ${a}`)}const[s,i]=En(ln,a),l=_n(i,t,[...r,n]);return Object.keys(s).length>0?{...s,...l}:l}return a}function kn(e,t={}){return _n(e,t,[])}var Cn=r(61448),Pn=r.n(Cn),An=r(98023),Nn=r.n(An),Tn=r(23805),On=r.n(Tn),In=r(85015),jn=r.n(In),Dn=r(40860),Rn=r.n(Dn),Mn=r(6638),Fn=r.n(Mn);function qn(e,t,r){var n;if(e&&r){const s=Sn()(e,r);if(void 0===s)return;for(let e=0;e<t.length;e++){const a=t[e],o=Sn()(a,[sn,r],{});if("object"!==o.type&&"array"!==o.type){if(o.const===s)return e;if(null===(n=o.enum)||void 0===n?void 0:n.includes(s))return e}}}}function Un(e,t,r,n,s){if(void 0===t)return 0;const a=qn(t,r,s);if(Nn()(a))return a;for(let a=0;a<r.length;a++){const o=r[a];if(s&&Pn()(o,[sn,s])){const r=Sn()(t,s),i=Sn()(o,[sn,s],{});if(e.isValid(i,r,n))return a}else if(o[sn]){const r={anyOf:Object.keys(o[sn]).map((e=>({required:[e]})))};let s;if(o.anyOf){const{...e}=o;e.allOf?e.allOf=e.allOf.slice():e.allOf=[],e.allOf.push(r),s=e}else s=Object.assign({},o,r);if(delete s.required,e.isValid(s,t,n))return a}else if(e.isValid(o,t,n))return a}return 0}function Ln(e,t,r,n,s){return Un(e,t,r,n,s)}var Yn=r(2404),Vn=r.n(Yn),zn=r(63560),Wn=r.n(zn),Bn=r(69752),Kn=r.n(Bn),Hn=r(55364),Qn=r.n(Hn),Gn=r(80795),Jn=r.n(Gn),Xn=r(63375),Zn=r.n(Xn),es=r(33978),ts=r.n(es);function rs(e){let t;const r=Sn()(e,"discriminator.propertyName",void 0);return jn()(r)?t=r:void 0!==r&&console.warn(`Expecting discriminator to be a string, got "${typeof r}" instead`),t}function ns(e){return Array.isArray(e)?"array":"string"==typeof e?"string":null==e?"null":"boolean"==typeof e?"boolean":isNaN(e)?"object"==typeof e?"object":"string":"number"}var ss=r(80299),as=r.n(ss);function os(e){let{type:t}=e;return!t&&e.const?ns(e.const):!t&&e.enum?"string":t||!e.properties&&!e.additionalProperties?(Array.isArray(t)&&(t=2===t.length&&t.includes("null")?t.find((e=>"null"!==e)):t[0]),t):"object"}function is(e,t){const r=Object.assign({},e);return Object.keys(t).reduce(((r,n)=>{const s=e?e[n]:{},a=t[n];return e&&n in e&&Vr(a)?r[n]=is(s,a):e&&t&&("object"===os(e)||"object"===os(t))&&n===an&&Array.isArray(s)&&Array.isArray(a)?r[n]=as()(s,a):r[n]=a,r}),r)}function ls(e,t,r={},n){return hs(e,t,r,n)[0]}function cs(e){const t=e.reduce(((e,t)=>t.length>1?t.flatMap((t=>Fn()(e.length,(r=>[...e[r]].concat(t))))):(e.forEach((e=>e.push(t[0]))),e)),[[]]);return t}function ds(e,t,r,n,s,a){const o=us(t,r,s);return o!==t?hs(e,o,r,a,n,s):[t]}function us(e,t,r){if(!Vr(e))return e;let n=e;if(ln in n){const{$ref:e,...s}=n;if(r.includes(e))return n;r.push(e),n={...kn(e,t),...s}}if(sn in n){const e=[],s=Kn()(n[sn],((n,s,a)=>{const o=[...r];n[a]=us(s,t,o),e.push(o)}),{});Qn()(r,Zn()(Jn()(e))),n={...n,[sn]:s}}return tn in n&&!Array.isArray(n.items)&&"boolean"!=typeof n.items&&(n={...n,items:us(n.items,t,r)}),Vn()(e,n)?e:n}function hs(e,t,r,n,s=!1,a=[]){if(!Vr(t))return[{}];const o=function(e,t,r,n,s,a){const o=ds(e,t,r,n,s,a);return o.length>1||o[0]!==t?o:Jr in t?ms(e,t,r,n,s,a).flatMap((t=>hs(e,t,r,a,n,s))):Kr in t&&Array.isArray(t.allOf)?cs(t.allOf.map((t=>hs(e,t,r,a,n,s)))).map((e=>({...t,allOf:e}))):[t]}(e,t,r,s,a,n);return o.flatMap((t=>{let o=t;if(en in o)return function(e,t,r,n,s,a){const{if:o,then:i,else:l,...c}=t,d=e.isValid(o,a||{},r);let u=[c],h=[];if(n)i&&"boolean"!=typeof i&&(h=h.concat(hs(e,i,r,a,n,s))),l&&"boolean"!=typeof l&&(h=h.concat(hs(e,l,r,a,n,s)));else{const t=d?i:l;t&&"boolean"!=typeof t&&(h=h.concat(hs(e,t,r,a,n,s)))}return h.length&&(u=h.map((e=>is(c,e)))),u.flatMap((t=>hs(e,t,r,a,n,s)))}(e,o,r,s,a,n);if(Kr in o){if(s){const{allOf:e,...t}=o;return[...e,t]}try{o=ts()(o,{deep:!1})}catch(e){console.warn("could not merge subschemas in allOf:\n",e);const{allOf:t,...r}=o;return r}}return Br in o&&!1!==o.additionalProperties?function(e,t,r,n){const s={...t,properties:{...t.properties}},a=n&&Vr(n)?n:{};return Object.keys(a).forEach((t=>{if(t in s.properties)return;let n={};n="boolean"!=typeof s.additionalProperties?ln in s.additionalProperties?ls(e,{$ref:Sn()(s.additionalProperties,[ln])},r,a):"type"in s.additionalProperties?{...s.additionalProperties}:Hr in s.additionalProperties||nn in s.additionalProperties?{type:"object",...s.additionalProperties}:{type:ns(Sn()(a,[t]))}:{type:ns(Sn()(a,[t]))},s.properties[t]=n,Wn()(s.properties,[t,Wr],!0)})),s}(e,o,r,n):o}))}function ms(e,t,r,n,s,a){const{dependencies:o,...i}=t,l=function(e,t,r,n,s){let a;const{oneOf:o,anyOf:i,...l}=t;if(Array.isArray(o)?a=o:Array.isArray(i)&&(a=i),a){const o=void 0===s&&n?{}:s,i=rs(t);a=a.map((e=>us(e,r,[])));const c=Ln(e,o,a,r,i);if(n)return a.map((e=>is(l,e)));t=is(l,a[c])}return[t]}(e,i,r,n,a);return l.flatMap((t=>ps(e,o,t,r,n,s,a)))}function ps(e,t,r,n,s,a,o){let i=[r];for(const l in t){if(!s&&void 0===Sn()(o,[l]))continue;if(r.properties&&!(l in r.properties))continue;const[c,d]=En(l,t);return Array.isArray(d)?i[0]=fs(r,d):Vr(d)&&(i=ys(e,r,n,l,d,s,a,o)),i.flatMap((t=>ps(e,c,t,n,s,a,o)))}return i}function fs(e,t){if(!t)return e;const r=Array.isArray(e.required)?Array.from(new Set([...e.required,...t])):t;return{...e,required:r}}function ys(e,t,r,n,s,a,o,i){return hs(e,s,r,i,a,o).flatMap((s=>{const{oneOf:l,...c}=s;return t=is(t,c),void 0===l?t:cs(l.map((t=>"boolean"!=typeof t&&ln in t?ds(e,t,r,a,o,i):[t]))).flatMap((s=>function(e,t,r,n,s,a,o,i){const l=s.filter((t=>{if("boolean"==typeof t||!t||!t.properties)return!1;const{[n]:s}=t.properties;if(s){const t={type:"object",properties:{[n]:s}};return e.isValid(t,i,r)||a}return!1}));return a||1===l.length?l.flatMap((s=>{const l=s,[c]=En(n,l.properties),d={...l,properties:c};return hs(e,d,r,i,a,o).map((e=>is(t,e)))})):(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t])}(e,t,r,n,s,a,o,i)))}))}const gs={type:"object",$id:"_$junk_option_schema_id$_",properties:{__not_really_there__:{type:"number"}}};function vs(e,t,r,n={}){let s=0;return r&&(On()(r.properties)?s+=Rn()(r.properties,((r,s,a)=>{const o=Sn()(n,a);if("boolean"==typeof s)return r;if(Pn()(s,ln)){const n=ls(e,s,t,o);return r+vs(e,t,n,o||{})}if((Pn()(s,nn)||Pn()(s,Hr))&&o){const n=Pn()(s,nn)?nn:Hr,a=rs(s);return r+bs(e,t,o,Sn()(s,n),-1,a)}if("object"===s.type)return r+vs(e,t,s,o||{});if(s.type===ns(o)){let e=r+1;return s.default?e+=o===s.default?1:-1:s.const&&(e+=o===s.const?1:-1),e}return r}),0):jn()(r.type)&&r.type===ns(n)&&(s+=1)),s}function bs(e,t,r,n,s=-1,a){const o=n.map((e=>us(e,t,[]))),i=qn(r,n,a);if(Nn()(i))return i;const l=o.reduce(((n,s,o)=>(1===Ln(e,r,[gs,s],t,a)&&n.push(o),n)),[]);if(1===l.length)return l[0];l.length||Fn()(o.length,(e=>l.push(e)));const c=new Set,{bestIndex:d}=l.reduce(((n,s)=>{const{bestScore:a}=n,i=o[s],l=vs(e,t,i,r);return c.add(l),l>a?{bestIndex:s,bestScore:l}:n}),{bestIndex:s,bestScore:0});return 1===c.size&&s>=0?s:d}function $s(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every((e=>Vr(e)))}function ws(e,t,r=!1){if(Array.isArray(t)){const n=Array.isArray(e)?e:[],s=t.map(((e,t)=>n[t]?ws(n[t],e,r):e));return r&&s.length<n.length&&s.push(...n.slice(s.length)),s}if(Vr(t)){const n=Object.assign({},e);return Object.keys(t).reduce(((n,s)=>(n[s]=ws(e?Sn()(e,s):{},Sn()(t,s),r),n)),n)}return t}function Ss(e,t,r=!1){return Object.keys(t).reduce(((n,s)=>{const a=e?e[s]:{},o=t[s];if(e&&s in e&&Vr(o))n[s]=Ss(a,o,r);else if(r&&Array.isArray(a)&&Array.isArray(o)){let e=o;"preventDuplicates"===r&&(e=o.reduce(((e,t)=>(a.includes(t)||e.push(t),e)),[])),n[s]=a.concat(e)}else n[s]=o;return n}),Object.assign({},e))}function xs(e,t,r={}){const n=ls(e,t,r,void 0),s=n.oneOf||n.anyOf;return!!Array.isArray(n.enum)||!!Array.isArray(s)&&s.every((e=>"boolean"!=typeof e&&function(e){return Array.isArray(e.enum)&&1===e.enum.length||Qr in e}(e)))}function Es(e,t,r){return!(!t.uniqueItems||!t.items||"boolean"==typeof t.items)&&xs(e,t.items,r)}var _s;function ks(e,t=_s.Ignore,r=-1){if(r>=0){if(Array.isArray(e.items)&&r<e.items.length){const t=e.items[r];if("boolean"!=typeof t)return t}}else if(e.items&&!Array.isArray(e.items)&&"boolean"!=typeof e.items)return e.items;return t!==_s.Ignore&&Vr(e.additionalItems)?e.additionalItems:{}}function Cs(e,t,r,n,s,a=[],o={}){const{emptyObjectFields:i="populateAllDefaults"}=o;if(n)e[t]=r;else if("skipDefaults"!==i)if(Vr(r)){const n=void 0===s?a.includes(t):s;"skipEmptyDefaults"===i?F()(r)||(e[t]=r):F()(r)&&!a.includes(t)||!n&&"populateRequiredDefaults"===i||(e[t]=r)}else void 0===r||"populateAllDefaults"!==i&&"skipEmptyDefaults"!==i&&!a.includes(t)||(e[t]=r)}function Ps(e,t,{parentDefaults:r,rawFormData:n,rootSchema:s={},includeUndefinedValues:a=!1,_recurseList:o=[],experimental_defaultFormStateBehavior:i,required:l}={}){var c,d,u,h;const m=Vr(n)?n:{},p=Vr(t)?t:{};let f=r,y=null,g=o;if(Vr(f)&&Vr(p.default))f=Ss(f,p.default);else if(Gr in p)f=p.default;else if(ln in p){const e=p[ln];o.includes(e)||(g=o.concat(e),y=kn(e,s))}else if(Jr in p)y=ms(e,p,s,!1,[],m)[0];else if($s(p))f=p.items.map(((t,n)=>Ps(e,t,{rootSchema:s,includeUndefinedValues:a,_recurseList:o,experimental_defaultFormStateBehavior:i,parentDefaults:Array.isArray(r)?r[n]:void 0,rawFormData:m,required:l})));else if(nn in p){const{oneOf:t,...r}=p;if(0===t.length)return;const n=rs(p);y=t[bs(e,s,F()(m)?void 0:m,t,0,n)],y=is(r,y)}else if(Hr in p){const{anyOf:t,...r}=p;if(0===t.length)return;const n=rs(p);y=t[bs(e,s,F()(m)?void 0:m,t,0,n)],y=is(r,y)}if(y)return Ps(e,y,{rootSchema:s,includeUndefinedValues:a,_recurseList:g,experimental_defaultFormStateBehavior:i,parentDefaults:f,rawFormData:m,required:l});switch(void 0===f&&(f=p.default),os(p)){case"object":{const t="populateDefaults"===(null==i?void 0:i.allOf)&&Kr in p?ls(e,p,s,m):p,r=Object.keys(t.properties||{}).reduce(((r,n)=>{var c;return Cs(r,n,Ps(e,Sn()(t,[sn,n]),{rootSchema:s,_recurseList:o,experimental_defaultFormStateBehavior:i,includeUndefinedValues:!0===a,parentDefaults:Sn()(f,[n]),rawFormData:Sn()(m,[n]),required:null===(c=t.required)||void 0===c?void 0:c.includes(n)}),a,l,t.required,i),r}),{});if(t.additionalProperties){const n=Vr(t.additionalProperties)?t.additionalProperties:{},c=new Set;Vr(f)&&Object.keys(f).filter((e=>!t.properties||!t.properties[e])).forEach((e=>c.add(e)));const d=[];Object.keys(m).filter((e=>!t.properties||!t.properties[e])).forEach((e=>{c.add(e),d.push(e)})),c.forEach((c=>{var u;const h=Ps(e,n,{rootSchema:s,_recurseList:o,experimental_defaultFormStateBehavior:i,includeUndefinedValues:!0===a,parentDefaults:Sn()(f,[c]),rawFormData:Sn()(m,[c]),required:null===(u=t.required)||void 0===u?void 0:u.includes(c)});Cs(r,c,h,a,l,d)}))}return r}case"array":{const t="never"===(null===(c=null==i?void 0:i.arrayMinItems)||void 0===c?void 0:c.populate),r="requiredOnly"===(null===(d=null==i?void 0:i.arrayMinItems)||void 0===d?void 0:d.populate),a="skipEmptyDefaults"===(null==i?void 0:i.emptyObjectFields),m=null!==(h=null===(u=null==i?void 0:i.arrayMinItems)||void 0===u?void 0:u.computeSkipPopulate)&&void 0!==h?h:()=>!1,y=a?void 0:[];if(Array.isArray(f)&&(f=f.map(((t,r)=>{const n=ks(p,_s.Fallback,r);return Ps(e,n,{rootSchema:s,_recurseList:o,experimental_defaultFormStateBehavior:i,parentDefaults:t,required:l})}))),Array.isArray(n)){const r=ks(p);f=t?n:n.map(((t,n)=>Ps(e,r,{rootSchema:s,_recurseList:o,experimental_defaultFormStateBehavior:i,rawFormData:t,parentDefaults:Sn()(f,[n]),required:l})))}if(t)return null!=f?f:y;if(r&&!l)return f||void 0;const g=Array.isArray(f)?f.length:0;if(!p.minItems||Es(e,p,s)||m(e,p,s)||p.minItems<=g)return f||y;const v=f||[],b=ks(p,_s.Invert),$=b.default,w=new Array(p.minItems-g).fill(Ps(e,b,{parentDefaults:$,rootSchema:s,_recurseList:o,experimental_defaultFormStateBehavior:i,required:l}));return v.concat(w)}}return f}function As(e,t,r,n,s=!1,a){if(!Vr(t))throw new Error("Invalid schema: "+t);const o=Ps(e,ls(e,t,n,r),{rootSchema:n,includeUndefinedValues:s,experimental_defaultFormStateBehavior:a,rawFormData:r});if(null==r||"number"==typeof r&&isNaN(r))return o;const{mergeExtraDefaults:i}=(null==a?void 0:a.arrayMinItems)||{};return Vr(r)||Array.isArray(r)?ws(o,r,i):r}function Ns(e={}){return"widget"in mn(e)&&"hidden"!==mn(e).widget}function Ts(e,t,r={},n){if("files"===r[un])return!0;if(t.items){const r=ls(e,t.items,n);return"string"===r.type&&"data-url"===r.format}return!1}!function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"}(_s||(_s={}));const Os=Symbol("no Value");function Is(e,t,r,n,s={}){let a;if(Pn()(r,sn)){const o={};if(Pn()(n,sn)){const e=Sn()(n,sn,{});Object.keys(e).forEach((e=>{Pn()(s,e)&&(o[e]=void 0)}))}const i=Object.keys(Sn()(r,sn,{})),l={};i.forEach((a=>{const i=Sn()(s,a);let c=Sn()(n,[sn,a],{}),d=Sn()(r,[sn,a],{});Pn()(c,ln)&&(c=ls(e,c,t,i)),Pn()(d,ln)&&(d=ls(e,d,t,i));const u=Sn()(c,"type"),h=Sn()(d,"type");if(!u||u===h)if(Pn()(o,a)&&delete o[a],"object"===h||"array"===h&&Array.isArray(i)){const r=Is(e,t,d,c,i);void 0===r&&"array"!==h||(l[a]=r)}else{const e=Sn()(d,"default",Os),t=Sn()(c,"default",Os);e!==Os&&e!==i&&(t===i?o[a]=e:!0===Sn()(d,"readOnly")&&(o[a]=void 0));const r=Sn()(d,"const",Os),n=Sn()(c,"const",Os);r!==Os&&r!==i&&(o[a]=n===i?r:void 0)}})),a={..."string"==typeof s||Array.isArray(s)?void 0:s,...o,...l}}else if("array"===Sn()(n,"type")&&"array"===Sn()(r,"type")&&Array.isArray(s)){let o=Sn()(n,"items"),i=Sn()(r,"items");if("object"!=typeof o||"object"!=typeof i||Array.isArray(o)||Array.isArray(i))"boolean"==typeof o&&"boolean"==typeof i&&o===i&&(a=s);else{Pn()(o,ln)&&(o=ls(e,o,t,s)),Pn()(i,ln)&&(i=ls(e,i,t,s));const n=Sn()(o,"type"),l=Sn()(i,"type");if(!n||n===l){const n=Sn()(r,"maxItems",-1);a="object"===l?s.reduce(((r,s)=>{const a=Is(e,t,i,o,s);return void 0!==a&&(n<0||r.length<n)&&r.push(a),r}),[]):n>0&&s.length>n?s.slice(0,n):s}}}return a}function js(e,t,r,n,s,a,o,i=[]){if(ln in t||Jr in t||Kr in t){const l=ls(e,t,a,o);if(-1===i.findIndex((e=>Vn()(e,l))))return js(e,l,r,n,s,a,o,i.concat(l))}if(tn in t&&!Sn()(t,[tn,ln]))return js(e,Sn()(t,tn),r,n,s,a,o,i);const l={$id:s||r};if("object"===os(t)&&sn in t)for(const s in t.properties){const c=Sn()(t,[sn,s]),d=l[Zr]+n+s;l[s]=js(e,Vr(c)?c:{},r,n,d,a,Sn()(o,[s]),i)}return l}function Ds(e,t,r,n,s,a="root",o="_"){return js(e,t,a,o,r,n,s)}function Rs(e,t,r,n,s,a=[]){if(ln in t||Jr in t||Kr in t){const o=ls(e,t,n,s);if(-1===a.findIndex((e=>Vn()(e,o))))return Rs(e,o,r,n,s,a.concat(o))}let o={[rn]:r.replace(/^\./,"")};if(nn in t||Hr in t){const i=nn in t?t.oneOf:t.anyOf,l=rs(t),c=i[bs(e,n,s,i,0,l)];o={...o,...Rs(e,c,r,n,s,a)}}if(Br in t&&!1!==t[Br]&&Wn()(o,cn,!0),tn in t&&Array.isArray(s)){const{items:i,additionalItems:l}=t;Array.isArray(i)?s.forEach(((t,s)=>{i[s]?o[s]=Rs(e,i[s],`${r}.${s}`,n,t,a):l?o[s]=Rs(e,l,`${r}.${s}`,n,t,a):console.warn(`Unable to generate path schema for "${r}.${s}". No schema defined for it`)})):s.forEach(((t,s)=>{o[s]=Rs(e,i,`${r}.${s}`,n,t,a)}))}else if(sn in t)for(const i in t.properties){const l=Sn()(t,[sn,i]);o[i]=Rs(e,l,`${r}.${i}`,n,Sn()(s,[i]),a)}return o}function Ms(e,t,r="",n,s){return Rs(e,t,r,n,s)}class Fs{constructor(e,t,r){this.rootSchema=t,this.validator=e,this.experimental_defaultFormStateBehavior=r}getValidator(){return this.validator}doesSchemaUtilsDiffer(e,t,r={}){return!(!e||!t||this.validator===e&&$n(this.rootSchema,t)&&$n(this.experimental_defaultFormStateBehavior,r))}getDefaultFormState(e,t,r=!1){return As(this.validator,e,t,this.rootSchema,r,this.experimental_defaultFormStateBehavior)}getDisplayLabel(e,t,r){return function(e,t,r={},n,s){const a=mn(r,s),{label:o=!0}=a;let i=!!o;const l=os(t);return"array"===l&&(i=Es(e,t,n)||Ts(e,t,r,n)||Ns(r)),"object"===l&&(i=!1),"boolean"!==l||r[un]||(i=!1),r["ui:field"]&&(i=!1),i}(this.validator,e,t,this.rootSchema,r)}getClosestMatchingOption(e,t,r,n){return bs(this.validator,this.rootSchema,e,t,r,n)}getFirstMatchingOption(e,t,r){return Ln(this.validator,e,t,this.rootSchema,r)}getMatchingOption(e,t,r){return Un(this.validator,e,t,this.rootSchema,r)}isFilesArray(e,t){return Ts(this.validator,e,t,this.rootSchema)}isMultiSelect(e){return Es(this.validator,e,this.rootSchema)}isSelect(e){return xs(this.validator,e,this.rootSchema)}mergeValidationData(e,t){return function(e,t,r){if(!r)return t;const{errors:n,errorSchema:s}=t;let a=e.toErrorList(r),o=r;return F()(s)||(o=Ss(s,r,!0),a=[...n].concat(a)),{errorSchema:o,errors:a}}(this.validator,e,t)}retrieveSchema(e,t){return ls(this.validator,e,this.rootSchema,t)}sanitizeDataForNewSchema(e,t,r){return Is(this.validator,this.rootSchema,e,t,r)}toIdSchema(e,t,r,n="root",s="_"){return Ds(this.validator,e,t,this.rootSchema,r,n,s)}toPathSchema(e,t,r){return Ms(this.validator,e,t,this.rootSchema,r)}}function qs(e,t){let r=String(e);for(;r.length<t;)r="0"+r;return r}function Us(e,t){if(e<=0&&t<=0)e=(new Date).getFullYear()+e,t=(new Date).getFullYear()+t;else if(e<0||t<0)throw new Error(`Both start (${e}) and stop (${t}) must both be <= 0 or > 0, got one of each`);if(e>t)return Us(t,e).reverse();const r=[];for(let n=e;n<=t;n++)r.push({value:n,label:qs(n,2)});return r}function Ls(e,t){return function(e,t){let r=e;if(Array.isArray(t)){const e=r.split(/(%\d)/);t.forEach(((t,r)=>{const n=e.findIndex((e=>e===`%${r+1}`));n>=0&&(e[n]=t)})),r=e.join("")}return r}(e,t)}function Ys(e,t=[],r){if(Array.isArray(e))return e.map((e=>Ys(e,t))).filter((e=>e!==r));const n=""===e||null===e?-1:Number(e),s=t[n];return s?s.value:r}function Vs(e,t){return Array.isArray(t)?t.some((t=>Vn()(t,e))):Vn()(t,e)}var zs=r(69843),Ws=r.n(zs),Bs=r(88055),Ks=r.n(Bs);class Hs{constructor(e){this.errorSchema={},this.resetAllErrors(e)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(e){let t=Array.isArray(e)&&e.length>0||"string"==typeof e?Sn()(this.errorSchema,e):this.errorSchema;return!t&&e&&(t={},Wn()(this.errorSchema,e,t)),t}resetAllErrors(e){return this.errorSchema=e?Ks()(e):{},this}addErrors(e,t){const r=this.getOrCreateErrorBlock(t);let n=Sn()(r,Xr);return Array.isArray(n)||(n=[],r[Xr]=n),Array.isArray(e)?n.push(...e):n.push(e),this}setErrors(e,t){const r=this.getOrCreateErrorBlock(t),n=Array.isArray(e)?[...e]:[e];return Wn()(r,Xr,n),this}clearErrors(e){const t=this.getOrCreateErrorBlock(e);return Wn()(t,Xr,[]),this}}function Qs(e,t,r=[1900,(new Date).getFullYear()+2],n="YMD"){const{day:s,month:a,year:o,hour:i,minute:l,second:c}=e,d={type:"day",range:[1,31],value:s},u={type:"month",range:[1,12],value:a},h={type:"year",range:r,value:o},m=[];switch(n){case"MDY":m.push(u,d,h);break;case"DMY":m.push(d,u,h);break;default:m.push(h,u,d)}return t&&m.push({type:"hour",range:[0,23],value:i},{type:"minute",range:[0,59],value:l},{type:"second",range:[0,59],value:c}),m}function Gs(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||0===e.minimum)&&(t.min=e.minimum),(e.maximum||0===e.maximum)&&(t.max=e.maximum),t}function Js(e,t,r={},n=!0){const s={type:t||"text",...Gs(e)};return r.inputType?s.type=r.inputType:t||("number"===e.type?(s.type="number",n&&void 0===s.step&&(s.step="any")):"integer"===e.type&&(s.type="number",void 0===s.step&&(s.step=1))),r.autocomplete&&(s.autoComplete=r.autocomplete),s}const Xs={props:{disabled:!1},submitText:"Submit",norender:!1};function Zs(e,t,r={}){const{templates:n}=t;return"ButtonTemplates"===e?n[e]:r[e]||n[e]}var ea=r(80782);const ta={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function ra(e,t,r={}){const s=os(e);if("function"==typeof t||t&&ea.isForwardRef((0,n.createElement)(t))||ea.isMemo(t))return function(e){let t=Sn()(e,"MergedWidget");if(!t){const r=e.defaultProps&&e.defaultProps.options||{};t=({options:t,...n})=>(0,Yr.jsx)(e,{options:{...r,...t},...n}),Wn()(e,"MergedWidget",t)}return t}(t);if("string"!=typeof t)throw new Error("Unsupported widget definition: "+typeof t);if(t in r)return ra(e,r[t],r);if("string"==typeof s){if(!(s in ta))throw new Error(`No widget for type '${s}'`);if(t in ta[s])return ra(e,r[ta[s][t]],r)}throw new Error(`No widget '${t}' for type '${s}'`)}function na(e,t){return`${jn()(e)?e:e[Zr]}__${t}`}function sa(e){return na(e,"description")}function aa(e){return na(e,"error")}function oa(e){return na(e,"examples")}function ia(e){return na(e,"help")}function la(e){return na(e,"title")}function ca(e,t=!1){const r=t?` ${oa(e)}`:"";return`${aa(e)} ${sa(e)} ${ia(e)}${r}`}function da(e,t){return`${e}-${t}`}function ua(e,t,r){return t?r:e}function ha(e){const t=e;if(t.enumNames,e.enum)return e.enum.map(((e,r)=>({label:t.enumNames&&t.enumNames[r]||String(e),value:e})));const r=e.oneOf||e.anyOf;return r&&r.map((e=>{const t=e,r=function(e){if("enum"in e&&Array.isArray(e.enum)&&1===e.enum.length)return e.enum[0];if(Qr in e)return e.const;throw new Error("schema cannot be inferred as a constant")}(t);return{schema:t,label:t.title||String(r),value:r}}))}function ma(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const r=new Date(e);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}}function pa(e){if(e.const)return!0;if(e.enum&&1===e.enum.length&&!0===e.enum[0])return!0;if(e.anyOf&&1===e.anyOf.length)return pa(e.anyOf[0]);if(e.oneOf&&1===e.oneOf.length)return pa(e.oneOf[0]);if(e.allOf){const t=e=>pa(e);return e.allOf.some(t)}return!1}function fa(e,t=!0){const{year:r,month:n,day:s,hour:a=0,minute:o=0,second:i=0}=e,l=Date.UTC(r,n-1,s,a,o,i),c=new Date(l).toJSON();return t?c:c.slice(0,10)}function ya(e,t=[]){if(!e)return[];let r=[];return Xr in e&&(r=r.concat(e[Xr].map((e=>{const r=`.${t.join(".")}`;return{property:r,message:e,stack:`${r} ${e}`}})))),Object.keys(e).reduce(((r,n)=>{if(n!==Xr){const s=e[n];yn()(s)&&(r=r.concat(ya(s,[...t,n])))}return r}),r)}var ga,va=r(42072),ba=r.n(va);function $a(e){return Object.keys(e).reduce(((t,r)=>{if("addError"===r)return t;{const n=e[r];return yn()(n)?{...t,[r]:$a(n)}:{...t,[r]:n}}}),{})}function wa(e){if(!e)return"";const t=new Date(e);return`${qs(t.getFullYear(),4)}-${qs(t.getMonth()+1,2)}-${qs(t.getDate(),2)}T${qs(t.getHours(),2)}:${qs(t.getMinutes(),2)}:${qs(t.getSeconds(),2)}.${qs(t.getMilliseconds(),3)}`}function Sa(e,t){if(!t)return e;const{errors:r,errorSchema:n}=e;let s=ya(t),a=t;return F()(n)||(a=Ss(n,t,!0),s=[...r].concat(s)),{errorSchema:a,errors:s}}function xa(e){return Array.isArray(e)?function(e){for(let t=0;t<e.length;t++)e[t]=xa(e[t]);return e}([...e]):On()(e)?function(e){for(const t in e){const r=e,n=r[t];t===ln&&"string"==typeof n&&n.startsWith("#")?r[t]=dn+n:r[t]=xa(n)}return e}({...e}):e}!function(e){e.ArrayItemTitle="Item",e.MissingItems="Missing items definition",e.YesLabel="Yes",e.NoLabel="No",e.CloseLabel="Close",e.ErrorsLabel="Errors",e.NewStringDefault="New Value",e.AddButton="Add",e.AddItemButton="Add Item",e.CopyButton="Copy",e.MoveDownButton="Move down",e.MoveUpButton="Move up",e.RemoveButton="Remove",e.NowLabel="Now",e.ClearLabel="Clear",e.AriaDateLabel="Select a date",e.PreviewLabel="Preview",e.DecrementAriaLabel="Decrease value by 1",e.IncrementAriaLabel="Increase value by 1",e.UnknownFieldType="Unknown field type %1",e.OptionPrefix="Option %1",e.TitleOptionPrefix="%1 option %2",e.KeyLabel="%1 Key",e.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',e.UnsupportedField="Unsupported field schema.",e.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",e.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",e.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",e.FilesInfo="**%1** (%2, %3 bytes)"}(ga||(ga={})),r(39754);let Ea=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");function _a(){return Ea()}function ka(e){return Array.isArray(e)?e.map((e=>({key:_a(),item:e}))):[]}function Ca(e){return Array.isArray(e)?e.map((e=>e.item)):[]}class Pa extends n.Component{constructor(e){super(e),this._getNewFormDataRow=()=>{const{schema:e,registry:t}=this.props,{schemaUtils:r}=t;let n=e.items;return $s(e)&&function(e){return!0===e.additionalItems&&console.warn("additionalItems=true is currently not supported"),Vr(e.additionalItems)}(e)&&(n=e.additionalItems),r.getDefaultFormState(n)},this.onAddClick=e=>{this._handleAddClick(e)},this.onAddIndexClick=e=>t=>{this._handleAddClick(t,e)},this.onCopyIndexClick=e=>t=>{t&&t.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:s}=this.state;let a;if(n){a={};for(const t in n){const r=parseInt(t);r<=e?Wn()(a,[r],n[t]):r>e&&Wn()(a,[r+1],n[t])}}const o={key:_a(),item:Ks()(s[e].item)},i=[...s];void 0!==e?i.splice(e+1,0,o):i.push(o),this.setState({keyedFormData:i,updatedKeyedFormData:!0},(()=>r(Ca(i),a)))},this.onDropIndexClick=e=>t=>{t&&t.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:s}=this.state;let a;if(n){a={};for(const t in n){const r=parseInt(t);r<e?Wn()(a,[r],n[t]):r>e&&Wn()(a,[r-1],n[t])}}const o=s.filter(((t,r)=>r!==e));this.setState({keyedFormData:o,updatedKeyedFormData:!0},(()=>r(Ca(o),a)))},this.onReorderClick=(e,t)=>r=>{r&&(r.preventDefault(),r.currentTarget.blur());const{onChange:n,errorSchema:s}=this.props;let a;if(s){a={};for(const r in s){const n=parseInt(r);n==e?Wn()(a,[t],s[e]):n==t?Wn()(a,[e],s[t]):Wn()(a,[r],s[n])}}const{keyedFormData:o}=this.state,i=function(){const r=o.slice();return r.splice(e,1),r.splice(t,0,o[e]),r}();this.setState({keyedFormData:i},(()=>n(Ca(i),a)))},this.onChangeForIndex=e=>(t,r,n)=>{const{formData:s,onChange:a,errorSchema:o}=this.props,i=(Array.isArray(s)?s:[]).map(((r,n)=>e===n?void 0===t?null:t:r));a(i,o&&o&&{...o,[e]:r},n)},this.onSelectChange=e=>{const{onChange:t,idSchema:r}=this.props;t(e,void 0,r&&r.$id)};const{formData:t=[]}=e,r=ka(t);this.state={keyedFormData:r,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,t){if(t.updatedKeyedFormData)return{updatedKeyedFormData:!1};const r=Array.isArray(e.formData)?e.formData:[],n=t.keyedFormData||[];return{keyedFormData:r.length===n.length?n.map(((e,t)=>({key:e.key,item:r[t]}))):ka(r)}}get itemTitle(){const{schema:e,registry:t}=this.props,{translateString:r}=t;return Sn()(e,[tn,"title"],Sn()(e,[tn,"description"],r(ga.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):"null"!==e.type}canAddItem(e){const{schema:t,uiSchema:r,registry:n}=this.props;let{addable:s}=mn(r,n.globalUiOptions);return!1!==s&&(s=void 0===t.maxItems||e.length<t.maxItems),s}_handleAddClick(e,t){e&&e.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:s}=this.state;let a;if(n){a={};for(const e in n){const r=parseInt(e);void 0===t||r<t?Wn()(a,[r],n[e]):r>=t&&Wn()(a,[r+1],n[e])}}const o={key:_a(),item:this._getNewFormDataRow()},i=[...s];void 0!==t?i.splice(t,0,o):i.push(o),this.setState({keyedFormData:i,updatedKeyedFormData:!0},(()=>r(Ca(i),a)))}render(){const{schema:e,uiSchema:t,idSchema:r,registry:n}=this.props,{schemaUtils:s,translateString:a}=n;if(!(tn in e)){const s=Zs("UnsupportedFieldTemplate",n,mn(t));return(0,Yr.jsx)(s,{schema:e,idSchema:r,reason:a(ga.MissingItems),registry:n})}return s.isMultiSelect(e)?this.renderMultiSelect():Ns(t)?this.renderCustomWidget():$s(e)?this.renderFixedArray():s.isFilesArray(e,t)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:t={},errorSchema:r,idSchema:n,name:s,title:a,disabled:o=!1,readonly:i=!1,autofocus:l=!1,required:c=!1,registry:d,onBlur:u,onFocus:h,idPrefix:m,idSeparator:p="_",rawErrors:f}=this.props,{keyedFormData:y}=this.state,g=e.title||a||s,{schemaUtils:v,formContext:b}=d,$=mn(t),w=On()(e.items)?e.items:{},S=v.retrieveSchema(w),x=Ca(this.state.keyedFormData),E=this.canAddItem(x),_={canAdd:E,items:y.map(((e,a)=>{const{key:o,item:i}=e,c=i,d=v.retrieveSchema(w,c),b=r?r[a]:void 0,$=n.$id+p+a,S=v.toIdSchema(d,$,c,m,p);return this.renderArrayFieldItem({key:o,index:a,name:s&&`${s}-${a}`,title:g?`${g}-${a+1}`:void 0,canAdd:E,canMoveUp:a>0,canMoveDown:a<x.length-1,itemSchema:d,itemIdSchema:S,itemErrorSchema:b,itemData:c,itemUiSchema:t.items,autofocus:l&&0===a,onBlur:u,onFocus:h,rawErrors:f,totalItems:y.length})})),className:`field field-array field-array-of-${S.type}`,disabled:o,idSchema:n,uiSchema:t,onAddClick:this.onAddClick,readonly:i,required:c,schema:e,title:g,formContext:b,formData:x,rawErrors:f,registry:d},k=Zs("ArrayFieldTemplate",d,$);return(0,Yr.jsx)(k,{..._})}renderCustomWidget(){var e;const{schema:t,idSchema:r,uiSchema:n,disabled:s=!1,readonly:a=!1,autofocus:o=!1,required:i=!1,hideError:l,placeholder:c,onBlur:d,onFocus:u,formData:h=[],registry:m,rawErrors:p,name:f}=this.props,{widgets:y,formContext:g,globalUiOptions:v,schemaUtils:b}=m,{widget:$,title:w,...S}=mn(n,v),x=ra(t,$,y),E=null!==(e=null!=w?w:t.title)&&void 0!==e?e:f,_=b.getDisplayLabel(t,n,v);return(0,Yr.jsx)(x,{id:r.$id,name:f,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:u,options:S,schema:t,uiSchema:n,registry:m,value:h,disabled:s,readonly:a,hideError:l,required:i,label:E,hideLabel:!_,placeholder:c,formContext:g,autofocus:o,rawErrors:p})}renderMultiSelect(){var e;const{schema:t,idSchema:r,uiSchema:n,formData:s=[],disabled:a=!1,readonly:o=!1,autofocus:i=!1,required:l=!1,placeholder:c,onBlur:d,onFocus:u,registry:h,rawErrors:m,name:p}=this.props,{widgets:f,schemaUtils:y,formContext:g,globalUiOptions:v}=h,b=ha(y.retrieveSchema(t.items,s)),{widget:$="select",title:w,...S}=mn(n,v),x=ra(t,$,f),E=null!==(e=null!=w?w:t.title)&&void 0!==e?e:p,_=y.getDisplayLabel(t,n,v);return(0,Yr.jsx)(x,{id:r.$id,name:p,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:u,options:{...S,enumOptions:b},schema:t,uiSchema:n,registry:h,value:s,disabled:a,readonly:o,required:l,label:E,hideLabel:!_,placeholder:c,formContext:g,autofocus:i,rawErrors:m})}renderFiles(){var e;const{schema:t,uiSchema:r,idSchema:n,name:s,disabled:a=!1,readonly:o=!1,autofocus:i=!1,required:l=!1,onBlur:c,onFocus:d,registry:u,formData:h=[],rawErrors:m}=this.props,{widgets:p,formContext:f,globalUiOptions:y,schemaUtils:g}=u,{widget:v="files",title:b,...$}=mn(r,y),w=ra(t,v,p),S=null!==(e=null!=b?b:t.title)&&void 0!==e?e:s,x=g.getDisplayLabel(t,r,y);return(0,Yr.jsx)(w,{options:$,id:n.$id,name:s,multiple:!0,onChange:this.onSelectChange,onBlur:c,onFocus:d,schema:t,uiSchema:r,value:h,disabled:a,readonly:o,required:l,registry:u,formContext:f,autofocus:i,rawErrors:m,label:S,hideLabel:!x})}renderFixedArray(){const{schema:e,uiSchema:t={},formData:r=[],errorSchema:n,idPrefix:s,idSeparator:a="_",idSchema:o,name:i,title:l,disabled:c=!1,readonly:d=!1,autofocus:u=!1,required:h=!1,registry:m,onBlur:p,onFocus:f,rawErrors:y}=this.props,{keyedFormData:g}=this.state;let{formData:v=[]}=this.props;const b=e.title||l||i,$=mn(t),{schemaUtils:w,formContext:S}=m,x=(On()(e.items)?e.items:[]).map(((e,t)=>w.retrieveSchema(e,r[t]))),E=On()(e.additionalItems)?w.retrieveSchema(e.additionalItems,r):null;(!v||v.length<x.length)&&(v=v||[],v=v.concat(new Array(x.length-v.length)));const _=this.canAddItem(v)&&!!E,k={canAdd:_,className:"field field-array field-array-fixed-items",disabled:c,idSchema:o,formData:r,items:g.map(((r,l)=>{const{key:c,item:d}=r,h=d,m=l>=x.length,$=(m&&On()(e.additionalItems)?w.retrieveSchema(e.additionalItems,h):x[l])||{},S=o.$id+a+l,E=w.toIdSchema($,S,h,s,a),k=m?t.additionalItems||{}:Array.isArray(t.items)?t.items[l]:t.items||{},C=n?n[l]:void 0;return this.renderArrayFieldItem({key:c,index:l,name:i&&`${i}-${l}`,title:b?`${b}-${l+1}`:void 0,canAdd:_,canRemove:m,canMoveUp:l>=x.length+1,canMoveDown:m&&l<v.length-1,itemSchema:$,itemData:h,itemUiSchema:k,itemIdSchema:E,itemErrorSchema:C,autofocus:u&&0===l,onBlur:p,onFocus:f,rawErrors:y,totalItems:g.length})})),onAddClick:this.onAddClick,readonly:d,required:h,registry:m,schema:e,uiSchema:t,title:b,formContext:S,errorSchema:n,rawErrors:y},C=Zs("ArrayFieldTemplate",m,$);return(0,Yr.jsx)(C,{...k})}renderArrayFieldItem(e){const{key:t,index:r,name:n,canAdd:s,canRemove:a=!0,canMoveUp:o,canMoveDown:i,itemSchema:l,itemData:c,itemUiSchema:d,itemIdSchema:u,itemErrorSchema:h,autofocus:m,onBlur:p,onFocus:f,rawErrors:y,totalItems:g,title:v}=e,{disabled:b,hideError:$,idPrefix:w,idSeparator:S,readonly:x,uiSchema:E,registry:_,formContext:k}=this.props,{fields:{ArraySchemaField:C,SchemaField:P},globalUiOptions:A}=_,N=C||P,{orderable:T=!0,removable:O=!0,copyable:I=!1}=mn(E,A),j={moveUp:T&&o,moveDown:T&&i,copy:I&&s,remove:O&&a,toolbar:!1};return j.toolbar=Object.keys(j).some((e=>j[e])),{children:(0,Yr.jsx)(N,{name:n,title:v,index:r,schema:l,uiSchema:d,formData:c,formContext:k,errorSchema:h,idPrefix:w,idSeparator:S,idSchema:u,required:this.isItemRequired(l),onChange:this.onChangeForIndex(r),onBlur:p,onFocus:f,registry:_,disabled:b,readonly:x,hideError:$,autofocus:m,rawErrors:y}),className:"array-item",disabled:b,canAdd:s,hasCopy:j.copy,hasToolbar:j.toolbar,hasMoveUp:j.moveUp,hasMoveDown:j.moveDown,hasRemove:j.remove,index:r,totalItems:g,key:t,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:x,registry:_,schema:l,uiSchema:d}}}const Aa=Pa,Na=function(e){var t,r,n;const{schema:s,name:a,uiSchema:o,idSchema:i,formData:l,registry:c,required:d,disabled:u,readonly:h,hideError:m,autofocus:p,title:f,onChange:y,onFocus:g,onBlur:v,rawErrors:b}=e,{title:$}=s,{widgets:w,formContext:S,translateString:x,globalUiOptions:E}=c,{widget:_="checkbox",title:k,label:C=!0,...P}=mn(o,E),A=ra(s,_,w),N=x(ga.YesLabel),T=x(ga.NoLabel);let O;const I=null!==(r=null!==(t=null!=k?k:$)&&void 0!==t?t:f)&&void 0!==r?r:a;if(Array.isArray(s.oneOf))O=ha({oneOf:s.oneOf.map((e=>{if(On()(e))return{...e,title:e.title||(!0===e.const?N:T)}})).filter((e=>e))});else{const e=s,t=null!==(n=s.enum)&&void 0!==n?n:[!0,!1];O=!e.enumNames&&2===t.length&&t.every((e=>"boolean"==typeof e))?[{value:t[0],label:t[0]?N:T},{value:t[1],label:t[1]?N:T}]:ha({enum:t,enumNames:e.enumNames})}return(0,Yr.jsx)(A,{options:{...P,enumOptions:O},schema:s,uiSchema:o,id:i.$id,name:a,onChange:y,onFocus:g,onBlur:v,label:I,hideLabel:!C,value:l,required:d,disabled:u,readonly:h,hideError:m,registry:c,formContext:S,autofocus:p,rawErrors:b})};class Ta extends n.Component{constructor(e){super(e),this.onOptionChange=e=>{const{selectedOption:t,retrievedOptions:r}=this.state,{formData:n,onChange:s,registry:a}=this.props,{schemaUtils:o}=a,i=void 0!==e?parseInt(e,10):-1;if(i===t)return;const l=i>=0?r[i]:void 0,c=t>=0?r[t]:void 0;let d=o.sanitizeDataForNewSchema(l,c,n);d&&l&&(d=o.getDefaultFormState(l,d,"excludeObjectChildren")),s(d,void 0,this.getFieldId()),this.setState({selectedOption:i})};const{formData:t,options:r,registry:{schemaUtils:n}}=this.props,s=r.map((e=>n.retrieveSchema(e,t)));this.state={retrievedOptions:s,selectedOption:this.getMatchingOption(0,t,s)}}componentDidUpdate(e,t){const{formData:r,options:n,idSchema:s}=this.props,{selectedOption:a}=this.state;let o=this.state;if(!$n(e.options,n)){const{registry:{schemaUtils:e}}=this.props;o={selectedOption:a,retrievedOptions:n.map((t=>e.retrieveSchema(t,r)))}}if(!$n(r,e.formData)&&s.$id===e.idSchema.$id){const{retrievedOptions:e}=o,n=this.getMatchingOption(a,r,e);t&&n!==a&&(o={selectedOption:n,retrievedOptions:e})}o!==this.state&&this.setState(o)}getMatchingOption(e,t,r){const{schema:n,registry:{schemaUtils:s}}=this.props,a=rs(n);return s.getClosestMatchingOption(t,r,e,a)}getFieldId(){const{idSchema:e,schema:t}=this.props;return`${e.$id}${t.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:t=!1,errorSchema:r={},formContext:n,onBlur:s,onFocus:a,registry:o,schema:i,uiSchema:l}=this.props,{widgets:c,fields:d,translateString:u,globalUiOptions:h,schemaUtils:m}=o,{SchemaField:p}=d,{selectedOption:f,retrievedOptions:y}=this.state,{widget:g="select",placeholder:v,autofocus:b,autocomplete:$,title:w=i.title,...S}=mn(l,h),x=ra({type:"number"},g,c),E=Sn()(r,Xr,[]),_=ye()(r,[Xr]),k=m.getDisplayLabel(i,l,h),C=f>=0&&y[f]||null;let P;if(C){const{required:e}=i;P=e?is({required:e},C):C}let A=[];nn in i&&l&&nn in l?Array.isArray(l[nn])?A=l[nn]:console.warn(`uiSchema.oneOf is not an array for "${w||e}"`):Hr in i&&l&&Hr in l&&(Array.isArray(l[Hr])?A=l[Hr]:console.warn(`uiSchema.anyOf is not an array for "${w||e}"`));let N=l;f>=0&&A.length>f&&(N=A[f]);const T=w?ga.TitleOptionPrefix:ga.OptionPrefix,O=w?[w]:[],I=y.map(((e,t)=>{const{title:r=e.title}=mn(A[t]);return{label:r||u(T,O.concat(String(t+1))),value:t}}));return(0,Yr.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,Yr.jsx)("div",{className:"form-group",children:(0,Yr.jsx)(x,{id:this.getFieldId(),name:`${e}${i.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:a,disabled:t||F()(I),multiple:!1,rawErrors:E,errorSchema:_,value:f>=0?f:void 0,options:{enumOptions:I,...S},registry:o,formContext:n,placeholder:v,autocomplete:$,autofocus:b,label:null!=w?w:e,hideLabel:!k})}),P&&(0,Yr.jsx)(p,{...this.props,schema:P,uiSchema:N})]})}}const Oa=Ta,Ia=/\.([0-9]*0)*$/,ja=/[0.]0*$/,Da=function(e){const{registry:t,onChange:r,formData:s,value:a}=e,[o,i]=(0,n.useState)(a),{StringField:l}=t.fields;let c=s;const d=(0,n.useCallback)((e=>{i(e),"."===`${e}`.charAt(0)&&(e=`0${e}`);const t="string"==typeof e&&e.match(Ia)?zr(e.replace(ja,"")):zr(e);r(t)}),[r]);if("string"==typeof o&&"number"==typeof c){const e=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);o.match(e)&&(c=o)}return(0,Yr.jsx)(l,{...e,formData:c,onChange:d})};function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(this,arguments)}const Ma=["children","options"];var Fa,qa,Ua;(Ua=Fa||(Fa={})).blockQuote="0",Ua.breakLine="1",Ua.breakThematic="2",Ua.codeBlock="3",Ua.codeFenced="4",Ua.codeInline="5",Ua.footnote="6",Ua.footnoteReference="7",Ua.gfmTask="8",Ua.heading="9",Ua.headingSetext="10",Ua.htmlBlock="11",Ua.htmlComment="12",Ua.htmlSelfClosing="13",Ua.image="14",Ua.link="15",Ua.linkAngleBraceStyleDetector="16",Ua.linkBareUrlDetector="17",Ua.linkMailtoDetector="18",Ua.newlineCoalescer="19",Ua.orderedList="20",Ua.paragraph="21",Ua.ref="22",Ua.refImage="23",Ua.refLink="24",Ua.table="25",Ua.tableSeparator="26",Ua.text="27",Ua.textBolded="28",Ua.textEmphasized="29",Ua.textEscaped="30",Ua.textMarked="31",Ua.textStrikethroughed="32",Ua.unorderedList="33",function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"}(qa||(qa={}));const La=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce(((e,t)=>(e[t.toLowerCase()]=t,e)),{for:"htmlFor"}),Ya={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},Va=["style","script"],za=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Wa=/mailto:/i,Ba=/\n{2,}$/,Ka=/^(\s*>[\s\S]*?)(?=\n{2,})/,Ha=/^ *> ?/gm,Qa=/^ {2,}\n/,Ga=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,Ja=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,Xa=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Za=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,eo=/^(?:\n *)*\n/,to=/\r\n?/g,ro=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,no=/^\[\^([^\]]+)]/,so=/\f/g,ao=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,oo=/^\s*?\[(x|\s)\]/,io=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,lo=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,co=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,uo=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,ho=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,mo=/^<!--[\s\S]*?(?:-->)/,po=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,fo=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,yo=/^\{.*\}$/,go=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,vo=/^<([^ >]+@[^ >]+)>/,bo=/^<([^ >]+:\/[^ >]+)>/,$o=/-([a-z])?/gi,wo=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,So=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,xo=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Eo=/^\[([^\]]*)\] ?\[([^\]]*)\]/,_o=/(\[|\])/g,ko=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Co=/\t/g,Po=/(^ *\||\| *$)/g,Ao=/^ *:-+: *$/,No=/^ *:-+ *$/,To=/^ *-+: *$/,Oo="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",Io=new RegExp(`^([*_])\\1${Oo}\\1\\1(?!\\1)`),jo=new RegExp(`^([*_])${Oo}\\1(?!\\1|\\w)`),Do=new RegExp(`^==${Oo}==`),Ro=new RegExp(`^~~${Oo}~~`),Mo=/^\\([^0-9A-Za-z\s])/,Fo=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,qo=/^\n+/,Uo=/^([ \t]*)/,Lo=/\\([^\\])/g,Yo=/ *\n+$/,Vo=/(?:^|\n)( *)$/,zo="(?:\\d+\\.)",Wo="(?:[*+-])";function Bo(e){return"( *)("+(1===e?zo:Wo)+") +"}const Ko=Bo(1),Ho=Bo(2);function Qo(e){return new RegExp("^"+(1===e?Ko:Ho))}const Go=Qo(1),Jo=Qo(2);function Xo(e){return new RegExp("^"+(1===e?Ko:Ho)+"[^\\n]*(?:\\n(?!\\1"+(1===e?zo:Wo)+" )[^\\n]*)*(\\n|$)","gm")}const Zo=Xo(1),ei=Xo(2);function ti(e){const t=1===e?zo:Wo;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const ri=ti(1),ni=ti(2);function si(e,t){const r=1===t,n=r?ri:ni,s=r?Zo:ei,a=r?Go:Jo;return{match(e,t,r){const s=Vo.exec(r);return s&&(t.list||!t.inline&&!t.simple)?n.exec(e=s[1]+e):null},order:1,parse(e,t,n){const o=r?+e[2]:void 0,i=e[0].replace(Ba,"\n").match(s);let l=!1;return{items:i.map((function(e,r){const s=a.exec(e)[0].length,o=new RegExp("^ {1,"+s+"}","gm"),c=e.replace(o,"").replace(a,""),d=r===i.length-1,u=-1!==c.indexOf("\n\n")||d&&l;l=u;const h=n.inline,m=n.list;let p;n.list=!0,u?(n.inline=!1,p=c.replace(Yo,"\n\n")):(n.inline=!0,p=c.replace(Yo,""));const f=t(p,n);return n.inline=h,n.list=m,f})),ordered:r,start:o}},render:(t,r,n)=>e(t.ordered?"ol":"ul",{key:n.key,start:"20"===t.type?t.start:void 0},t.items.map((function(t,s){return e("li",{key:s},r(t,n))})))}}const ai=new RegExp("^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),oi=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,ii=[Ka,Ja,Xa,io,co,lo,mo,wo,Zo,ri,ei,ni],li=[...ii,/^[^\n]+(?:  \n|\n{2,})/,uo,fo];function ci(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function di(e){return To.test(e)?"right":Ao.test(e)?"center":No.test(e)?"left":null}function ui(e,t,r,n){const s=r.inTable;r.inTable=!0;let a=e.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce(((e,s)=>("|"===s.trim()?e.push(n?{type:"26"}:{type:"27",text:s}):""!==s&&e.push.apply(e,t(s,r)),e)),[]);r.inTable=s;let o=[[]];return a.forEach((function(e,t){"26"===e.type?0!==t&&t!==a.length-1&&o.push([]):("27"!==e.type||null!=a[t+1]&&"26"!==a[t+1].type||(e.text=e.text.trimEnd()),o[o.length-1].push(e))})),o}function hi(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(Po,"").split("|").map(di):[],s=e[3]?function(e,t,r){return e.trim().split("\n").map((function(e){return ui(e,t,r,!0)}))}(e[3],t,r):[],a=ui(e[1],t,r,!!s.length);return r.inline=!1,s.length?{align:n,cells:s,header:a,type:"25"}:{children:a,type:"21"}}function mi(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function pi(e){return function(t,r){return r.inline?e.exec(t):null}}function fi(e){return function(t,r){return r.inline||r.simple?e.exec(t):null}}function yi(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function gi(e){return function(t){return e.exec(t)}}function vi(e,t,r){if(t.inline||t.simple)return null;if(r&&!r.endsWith("\n"))return null;let n="";e.split("\n").every((e=>!ii.some((t=>t.test(e)))&&(n+=e+"\n",e.trim())));const s=n.trimEnd();return""==s?null:[n,s]}function bi(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return}catch(e){return null}return e}function $i(e){return e.replace(Lo,"$1")}function wi(e,t,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!0,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=s,a}function Si(e,t,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!1,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=s,a}function xi(e,t,r){const n=r.inline||!1;r.inline=!1;const s=e(t,r);return r.inline=n,s}const Ei=(e,t,r)=>({children:wi(t,e[1],r)});function _i(){return{}}function ki(){return null}function Ci(...e){return e.filter(Boolean).join(" ")}function Pi(e,t,r){let n=e;const s=t.split(".");for(;s.length&&(n=n[s[0]],void 0!==n);)s.shift();return n||r}function Ai(e="",t={}){t.overrides=t.overrides||{},t.slugify=t.slugify||ci,t.namedCodesToUnicode=t.namedCodesToUnicode?Ra({},Ya,t.namedCodesToUnicode):Ya;const r=t.createElement||n.createElement;function s(e,n,...s){const a=Pi(t.overrides,`${e}.props`,{});return r(function(e,t){const r=Pi(t,e);return r?"function"==typeof r||"object"==typeof r&&"render"in r?r:Pi(t,`${e}.component`,e):e}(e,t.overrides),Ra({},n,a,{className:Ci(null==n?void 0:n.className,a.className)||void 0}),...s)}function a(e){e=e.replace(ao,"");let r=!1;t.forceInline?r=!0:t.forceBlock||(r=!1===ko.test(e));const a=u(d(r?e:`${e.trimEnd().replace(qo,"")}\n\n`,{inline:r}));for(;"string"==typeof a[a.length-1]&&!a[a.length-1].trim();)a.pop();if(null===t.wrapper)return a;const o=t.wrapper||(r?"span":"div");let i;if(a.length>1||t.forceWrapper)i=a;else{if(1===a.length)return i=a[0],"string"==typeof i?s("span",{key:"outer"},i):i;i=null}return n.createElement(o,{key:"outer"},i)}function o(e){const t=e.match(za);return t?t.reduce((function(e,t,r){const s=t.indexOf("=");if(-1!==s){const o=function(e){return-1!==e.indexOf("-")&&null===e.match(po)&&(e=e.replace($o,(function(e,t){return t.toUpperCase()}))),e}(t.slice(0,s)).trim(),i=function(e){const t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(t.slice(s+1).trim()),l=La[o]||o,c=e[l]=function(e,t){return"style"===e?t.split(/;\s?/).reduce((function(e,t){const r=t.slice(0,t.indexOf(":"));return e[r.trim().replace(/(-[a-z])/g,(e=>e[1].toUpperCase()))]=t.slice(r.length+1).trim(),e}),{}):"href"===e||"src"===e?bi(t):(t.match(yo)&&(t=t.slice(1,t.length-1)),"true"===t||"false"!==t&&t)}(o,i);"string"==typeof c&&(uo.test(c)||fo.test(c))&&(e[l]=n.cloneElement(a(c.trim()),{key:r}))}else"style"!==t&&(e[La[t]||t]=!0);return e}),{}):null}const i=[],l={},c={0:{match:yi(Ka),order:1,parse:(e,t,r)=>({children:t(e[0].replace(Ha,""),r)}),render:(e,t,r)=>s("blockquote",{key:r.key},t(e.children,r))},1:{match:gi(Qa),order:1,parse:_i,render:(e,t,r)=>s("br",{key:r.key})},2:{match:yi(Ga),order:1,parse:_i,render:(e,t,r)=>s("hr",{key:r.key})},3:{match:yi(Xa),order:0,parse:e=>({lang:void 0,text:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(e,t,r)=>s("pre",{key:r.key},s("code",Ra({},e.attrs,{className:e.lang?`lang-${e.lang}`:""}),e.text))},4:{match:yi(Ja),order:0,parse:e=>({attrs:o(e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},5:{match:fi(Za),order:3,parse:e=>({text:e[2]}),render:(e,t,r)=>s("code",{key:r.key},e.text)},6:{match:yi(ro),order:0,parse:e=>(i.push({footnote:e[2],identifier:e[1]}),{}),render:ki},7:{match:pi(no),order:1,parse:e=>({target:`#${t.slugify(e[1])}`,text:e[1]}),render:(e,t,r)=>s("a",{key:r.key,href:bi(e.target)},s("sup",{key:r.key},e.text))},8:{match:pi(oo),order:1,parse:e=>({completed:"x"===e[1].toLowerCase()}),render:(e,t,r)=>s("input",{checked:e.completed,key:r.key,readOnly:!0,type:"checkbox"})},9:{match:yi(t.enforceAtxHeadings?lo:io),order:1,parse:(e,r,n)=>({children:wi(r,e[2],n),id:t.slugify(e[2]),level:e[1].length}),render:(e,t,r)=>s(`h${e.level}`,{id:e.id,key:r.key},t(e.children,r))},10:{match:yi(co),order:0,parse:(e,t,r)=>({children:wi(t,e[1],r),level:"="===e[2]?1:2,type:"9"})},11:{match:gi(uo),order:1,parse(e,t,r){const[,n]=e[3].match(Uo),s=new RegExp(`^${n}`,"gm"),a=e[3].replace(s,""),i=(l=a,li.some((e=>e.test(l)))?xi:wi);var l;const c=e[1].toLowerCase(),d=-1!==Va.indexOf(c),u={attrs:o(e[2]),noInnerParse:d,tag:(d?c:e[1]).trim()};return r.inAnchor=r.inAnchor||"a"===c,d?u.text=e[3]:u.children=i(t,a,r),r.inAnchor=!1,u},render:(e,t,r)=>s(e.tag,Ra({key:r.key},e.attrs),e.text||t(e.children,r))},13:{match:gi(fo),order:1,parse:e=>({attrs:o(e[2]||""),tag:e[1].trim()}),render:(e,t,r)=>s(e.tag,Ra({},e.attrs,{key:r.key}))},12:{match:gi(mo),order:1,parse:()=>({}),render:ki},14:{match:fi(oi),order:1,parse:e=>({alt:e[1],target:$i(e[2]),title:e[3]}),render:(e,t,r)=>s("img",{key:r.key,alt:e.alt||void 0,title:e.title||void 0,src:bi(e.target)})},15:{match:pi(ai),order:3,parse:(e,t,r)=>({children:Si(t,e[1],r),target:$i(e[2]),title:e[3]}),render:(e,t,r)=>s("a",{key:r.key,href:bi(e.target),title:e.title},t(e.children,r))},16:{match:pi(bo),order:0,parse:e=>({children:[{text:e[1],type:"27"}],target:e[1],type:"15"})},17:{match:(e,t)=>t.inAnchor?null:pi(go)(e,t),order:0,parse:e=>({children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"})},18:{match:pi(vo),order:0,parse(e){let t=e[1],r=e[1];return Wa.test(r)||(r="mailto:"+r),{children:[{text:t.replace("mailto:",""),type:"27"}],target:r,type:"15"}}},20:si(s,1),33:si(s,2),19:{match:yi(eo),order:3,parse:_i,render:()=>"\n"},21:{match:vi,order:3,parse:Ei,render:(e,t,r)=>s("p",{key:r.key},t(e.children,r))},22:{match:pi(So),order:0,parse:e=>(l[e[1]]={target:e[2],title:e[4]},{}),render:ki},23:{match:fi(xo),order:0,parse:e=>({alt:e[1]||void 0,ref:e[2]}),render:(e,t,r)=>l[e.ref]?s("img",{key:r.key,alt:e.alt,src:bi(l[e.ref].target),title:l[e.ref].title}):null},24:{match:pi(Eo),order:0,parse:(e,t,r)=>({children:t(e[1],r),fallbackChildren:t(e[0].replace(_o,"\\$1"),r),ref:e[2]}),render:(e,t,r)=>l[e.ref]?s("a",{key:r.key,href:bi(l[e.ref].target),title:l[e.ref].title},t(e.children,r)):s("span",{key:r.key},t(e.fallbackChildren,r))},25:{match:yi(wo),order:1,parse:hi,render(e,t,r){const n=e;return s("table",{key:r.key},s("thead",null,s("tr",null,n.header.map((function(e,a){return s("th",{key:a,style:mi(n,a)},t(e,r))})))),s("tbody",null,n.cells.map((function(e,a){return s("tr",{key:a},e.map((function(e,a){return s("td",{key:a,style:mi(n,a)},t(e,r))})))}))))}},27:{match:gi(Fo),order:4,parse:e=>({text:e[0].replace(ho,((e,r)=>t.namedCodesToUnicode[r]?t.namedCodesToUnicode[r]:e))}),render:e=>e.text},28:{match:fi(Io),order:2,parse:(e,t,r)=>({children:t(e[2],r)}),render:(e,t,r)=>s("strong",{key:r.key},t(e.children,r))},29:{match:fi(jo),order:3,parse:(e,t,r)=>({children:t(e[2],r)}),render:(e,t,r)=>s("em",{key:r.key},t(e.children,r))},30:{match:fi(Mo),order:1,parse:e=>({text:e[1],type:"27"})},31:{match:fi(Do),order:3,parse:Ei,render:(e,t,r)=>s("mark",{key:r.key},t(e.children,r))},32:{match:fi(Ro),order:3,parse:Ei,render:(e,t,r)=>s("del",{key:r.key},t(e.children,r))}};!0===t.disableParsingRawHTML&&(delete c[11],delete c[13]);const d=function(e){let t=Object.keys(e);function r(n,s){let a=[],o="";for(;n;){let i=0;for(;i<t.length;){const l=t[i],c=e[l],d=c.match(n,s,o);if(d){const e=d[0];n=n.substring(e.length);const t=c.parse(d,r,s);null==t.type&&(t.type=l),a.push(t),o=e;break}i++}}return a}return t.sort((function(t,r){let n=e[t].order,s=e[r].order;return n!==s?n-s:t<r?-1:1})),function(e,t){return r(function(e){return e.replace(to,"\n").replace(so,"").replace(Co,"    ")}(e),t)}}(c),u=(h=function(e,t){return function(r,n,s){const a=e[r.type].render;return t?t((()=>a(r,n,s)),r,n,s):a(r,n,s)}}(c,t.renderRule),function e(t,r={}){if(Array.isArray(t)){const n=r.key,s=[];let a=!1;for(let n=0;n<t.length;n++){r.key=n;const o=e(t[n],r),i="string"==typeof o;i&&a?s[s.length-1]+=o:null!==o&&s.push(o),a=i}return r.key=n,s}return h(t,e,r)});var h;const m=a(e);return i.length?s("div",null,m,s("footer",{key:"footer"},i.map((function(e){return s("div",{id:t.slugify(e.identifier),key:e.identifier},e.identifier,u(d(e.footnote,{inline:!0})))})))):m}const Ni=e=>{let{children:t="",options:r}=e,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(s[r]=e[r]);return s}(e,Ma);return n.cloneElement(Ai(t,r),s)};var Ti=r(73357),Oi=r.n(Ti);class Ii extends n.Component{constructor(){super(...arguments),this.state={wasPropertyKeyModified:!1,additionalProperties:{}},this.onPropertyChange=(e,t=!1)=>(r,n,s)=>{const{formData:a,onChange:o,errorSchema:i}=this.props;void 0===r&&t&&(r=""),o({...a,[e]:r},i&&i&&{...i,[e]:n},s)},this.onDropPropertyClick=e=>t=>{t.preventDefault();const{onChange:r,formData:n}=this.props,s={...n};Oi()(s,e),r(s)},this.getAvailableKey=(e,t)=>{const{uiSchema:r,registry:n}=this.props,{duplicateKeySuffixSeparator:s="-"}=mn(r,n.globalUiOptions);let a=0,o=e;for(;Pn()(t,o);)o=`${e}${s}${++a}`;return o},this.onKeyChange=e=>(t,r)=>{if(e===t)return;const{formData:n,onChange:s,errorSchema:a}=this.props;t=this.getAvailableKey(t,n);const o={...n},i={[e]:t},l=Object.keys(o).map((e=>({[i[e]||e]:o[e]}))),c=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),s(c,a&&a&&{...a,[t]:r})},this.handleAddClick=e=>()=>{if(!e.additionalProperties)return;const{formData:t,onChange:r,registry:n}=this.props,s={...t};let a,o;if(On()(e.additionalProperties)){a=e.additionalProperties.type,o=e.additionalProperties.default;let r=e.additionalProperties;if(ln in r){const{schemaUtils:e}=n;r=e.retrieveSchema({$ref:r[ln]},t),a=r.type,o=r.default}a||!(Hr in r)&&!(nn in r)||(a="object")}const i=this.getAvailableKey("newKey",s);Wn()(s,i,null!=o?o:this.getDefaultValue(a)),r(s)}}isRequired(e){const{schema:t}=this.props;return Array.isArray(t.required)&&-1!==t.required.indexOf(e)}getDefaultValue(e){const{registry:{translateString:t}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return t(ga.NewStringDefault)}}render(){var e,t,r,n;const{schema:s,uiSchema:a={},formData:o,errorSchema:i,idSchema:l,name:c,required:d=!1,disabled:u,readonly:h,hideError:m,idPrefix:p,idSeparator:f,onBlur:y,onFocus:g,registry:v,title:b}=this.props,{fields:$,formContext:w,schemaUtils:S,translateString:x,globalUiOptions:E}=v,{SchemaField:_}=$,k=S.retrieveSchema(s,o),C=mn(a,E),{properties:P={}}=k,A=null!==(r=null!==(t=null!==(e=C.title)&&void 0!==e?e:k.title)&&void 0!==t?t:b)&&void 0!==r?r:c,N=null!==(n=C.description)&&void 0!==n?n:k.description;let T;try{T=function(e,t){if(!Array.isArray(t))return e;const r=e=>e.reduce(((e,t)=>(e[t]=!0,e)),{}),n=r(e),s=t.filter((e=>"*"===e||n[e])),a=r(s),o=e.filter((e=>!a[e])),i=s.indexOf("*");if(-1===i){if(o.length)throw new Error("uiSchema order list does not contain "+((l=o).length>1?`properties '${l.join("', '")}'`:`property '${l[0]}'`));return s}var l;if(i!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const c=[...s];return c.splice(i,1,...o),c}(Object.keys(P),C.order)}catch(e){return(0,Yr.jsxs)("div",{children:[(0,Yr.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,Yr.jsx)(Ni,{options:{disableParsingRawHTML:!0},children:x(ga.InvalidObjectField,[c||"root",e.message])})}),(0,Yr.jsx)("pre",{children:JSON.stringify(k)})]})}const O=Zs("ObjectFieldTemplate",v,C),I={title:!1===C.label?"":A,description:!1===C.label?void 0:N,properties:T.map((e=>{const t=Pn()(k,[sn,e,Wr]),r=t?a.additionalProperties:a[e],n="hidden"===mn(r).widget,s=Sn()(l,[e],{});return{content:(0,Yr.jsx)(_,{name:e,required:this.isRequired(e),schema:Sn()(k,[sn,e],{}),uiSchema:r,errorSchema:Sn()(i,e),idSchema:s,idPrefix:p,idSeparator:f,formData:Sn()(o,e),formContext:w,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(e),onChange:this.onPropertyChange(e,t),onBlur:y,onFocus:g,registry:v,disabled:u,readonly:h,hideError:m,onDropPropertyClick:this.onDropPropertyClick},e),name:e,readonly:h,disabled:u,required:d,hidden:n}})),readonly:h,disabled:u,required:d,idSchema:l,uiSchema:a,errorSchema:i,schema:k,formData:o,formContext:w,registry:v};return(0,Yr.jsx)(O,{...I,onAddClick:this.handleAddClick})}}const ji=Ii,Di={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function Ri(e){var t,r,s;const{schema:a,idSchema:o,uiSchema:i,formData:l,errorSchema:c,idPrefix:d,idSeparator:u,name:h,onChange:m,onKeyChange:p,onDropPropertyClick:f,required:y,registry:g,wasPropertyKeyModified:v=!1}=e,{formContext:b,schemaUtils:$,globalUiOptions:w}=g,S=mn(i,w),x=Zs("FieldTemplate",g,S),E=Zs("DescriptionFieldTemplate",g,S),_=Zs("FieldHelpTemplate",g,S),k=Zs("FieldErrorTemplate",g,S),C=$.retrieveSchema(a,l),P=o[Zr],A=Ss($.toIdSchema(C,P,l,d,u),o),N=(0,n.useCallback)(((e,t,r)=>m(e,t,r||P)),[P,m]),T=function(e,t,r,n){const s=t.field,{fields:a,translateString:o}=n;if("function"==typeof s)return s;if("string"==typeof s&&s in a)return a[s];const i=os(e),l=Array.isArray(i)?i[0]:i||"",c=e.$id;let d=Di[l];return c&&c in a&&(d=c),d||!e.anyOf&&!e.oneOf?d in a?a[d]:()=>{const s=Zs("UnsupportedFieldTemplate",n,t);return(0,Yr.jsx)(s,{schema:e,idSchema:r,reason:o(ga.UnknownFieldType,[String(e.type)]),registry:n})}:()=>null}(C,S,A,g),O=Boolean(null!==(t=S.disabled)&&void 0!==t?t:e.disabled),I=Boolean(null!==(r=S.readonly)&&void 0!==r?r:e.readonly||e.schema.readOnly||C.readOnly),j=S.hideError,D=void 0===j?e.hideError:Boolean(j),R=Boolean(null!==(s=S.autofocus)&&void 0!==s?s:e.autofocus);if(0===Object.keys(C).length)return null;const M=$.getDisplayLabel(C,i,w),{__errors:F,...q}=c||{},U=ye()(i,["ui:classNames","classNames","ui:style"]);hn in U&&(U[hn]=ye()(U[hn],["classNames","style"]));const L=(0,Yr.jsx)(T,{...e,onChange:N,idSchema:A,schema:C,uiSchema:U,disabled:O,readonly:I,hideError:D,autofocus:R,errorSchema:q,formContext:b,rawErrors:F}),Y=A[Zr];let V;V=v||Wr in C?h:S.title||e.schema.title||C.title||e.title||h;const z=S.description||e.schema.description||C.description||"",W=S.enableMarkdownInDescription?(0,Yr.jsx)(Ni,{options:{disableParsingRawHTML:!0},children:z}):z,B=S.help,K="hidden"===S.widget,H=["form-group","field",`field-${os(C)}`];!D&&F&&F.length>0&&H.push("field-error has-error has-danger"),(null==i?void 0:i.classNames)&&H.push(i.classNames),S.classNames&&H.push(S.classNames);const Q=(0,Yr.jsx)(_,{help:B,idSchema:A,schema:C,uiSchema:i,hasErrors:!D&&F&&F.length>0,registry:g}),G=D||(C.anyOf||C.oneOf)&&!$.isSelect(C)?void 0:(0,Yr.jsx)(k,{errors:F,errorSchema:c,idSchema:A,schema:C,uiSchema:i,registry:g}),J={description:(0,Yr.jsx)(E,{id:sa(Y),description:W,schema:C,uiSchema:i,registry:g}),rawDescription:z,help:Q,rawHelp:"string"==typeof B?B:void 0,errors:G,rawErrors:D?void 0:F,id:Y,label:V,hidden:K,onChange:m,onKeyChange:p,onDropPropertyClick:f,required:y,disabled:O,readonly:I,hideError:D,displayLabel:M,classNames:H.join(" ").trim(),style:S.style,formContext:b,formData:l,schema:C,uiSchema:i,registry:g},X=g.fields.AnyOfField,Z=g.fields.OneOfField,ee=(null==i?void 0:i["ui:field"])&&!0===(null==i?void 0:i["ui:fieldReplacesAnyOrOneOf"]);return(0,Yr.jsx)(x,{...J,children:(0,Yr.jsxs)(Yr.Fragment,{children:[L,C.anyOf&&!ee&&!$.isSelect(C)&&(0,Yr.jsx)(X,{name:h,disabled:O,readonly:I,hideError:D,errorSchema:c,formData:l,formContext:b,idPrefix:d,idSchema:A,idSeparator:u,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:C.anyOf.map((e=>$.retrieveSchema(On()(e)?e:{},l))),registry:g,schema:C,uiSchema:i}),C.oneOf&&!ee&&!$.isSelect(C)&&(0,Yr.jsx)(Z,{name:h,disabled:O,readonly:I,hideError:D,errorSchema:c,formData:l,formContext:b,idPrefix:d,idSchema:A,idSeparator:u,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:C.oneOf.map((e=>$.retrieveSchema(On()(e)?e:{},l))),registry:g,schema:C,uiSchema:i})]})})}class Mi extends n.Component{shouldComponentUpdate(e){return!$n(this.props,e)}render(){return(0,Yr.jsx)(Ri,{...this.props})}}const Fi=Mi,qi=function(e){var t;const{schema:r,name:n,uiSchema:s,idSchema:a,formData:o,required:i,disabled:l=!1,readonly:c=!1,autofocus:d=!1,onChange:u,onBlur:h,onFocus:m,registry:p,rawErrors:f,hideError:y}=e,{title:g,format:v}=r,{widgets:b,formContext:$,schemaUtils:w,globalUiOptions:S}=p,x=w.isSelect(r)?ha(r):void 0;let E=x?"select":"text";v&&function(e,t,r={}){try{return ra(e,t,r),!0}catch(e){const t=e;if(t.message&&(t.message.startsWith("No widget")||t.message.startsWith("Unsupported widget")))return!1;throw e}}(r,v,b)&&(E=v);const{widget:_=E,placeholder:k="",title:C,...P}=mn(s),A=w.getDisplayLabel(r,s,S),N=null!==(t=null!=C?C:g)&&void 0!==t?t:n,T=ra(r,_,b);return(0,Yr.jsx)(T,{options:{...P,enumOptions:x},schema:r,uiSchema:s,id:a.$id,name:n,label:N,hideLabel:!A,hideError:y,value:o,onChange:u,onBlur:h,onFocus:m,required:i,disabled:l,readonly:c,formContext:$,autofocus:d,registry:p,placeholder:k,rawErrors:f})},Ui=function(e){const{formData:t,onChange:r}=e;return(0,n.useEffect)((()=>{void 0===t&&r(null)}),[t,r]),null};function Li(e){const{idSchema:t,description:r,registry:n,schema:s,uiSchema:a}=e,o=mn(a,n.globalUiOptions),{label:i=!0}=o;if(!r||!i)return null;const l=Zs("DescriptionFieldTemplate",n,o);return(0,Yr.jsx)(l,{id:sa(t),description:r,schema:s,uiSchema:a,registry:n})}function Yi(e){const{children:t,className:r,disabled:n,hasToolbar:s,hasMoveDown:a,hasMoveUp:o,hasRemove:i,hasCopy:l,index:c,onCopyIndexClick:d,onDropIndexClick:u,onReorderClick:h,readonly:m,registry:p,uiSchema:f}=e,{CopyButton:y,MoveDownButton:g,MoveUpButton:v,RemoveButton:b}=p.templates.ButtonTemplates,$={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,Yr.jsxs)("div",{className:r,children:[(0,Yr.jsx)("div",{className:s?"col-xs-9":"col-xs-12",children:t}),s&&(0,Yr.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,Yr.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||a)&&(0,Yr.jsx)(v,{style:$,disabled:n||m||!o,onClick:h(c,c-1),uiSchema:f,registry:p}),(o||a)&&(0,Yr.jsx)(g,{style:$,disabled:n||m||!a,onClick:h(c,c+1),uiSchema:f,registry:p}),l&&(0,Yr.jsx)(y,{style:$,disabled:n||m,onClick:d(c),uiSchema:f,registry:p}),i&&(0,Yr.jsx)(b,{style:$,disabled:n||m,onClick:u(c),uiSchema:f,registry:p})]})})]})}function Vi(e){const{canAdd:t,className:r,disabled:n,idSchema:s,uiSchema:a,items:o,onAddClick:i,readonly:l,registry:c,required:d,schema:u,title:h}=e,m=mn(a),p=Zs("ArrayFieldDescriptionTemplate",c,m),f=Zs("ArrayFieldItemTemplate",c,m),y=Zs("ArrayFieldTitleTemplate",c,m),{ButtonTemplates:{AddButton:g}}=c.templates;return(0,Yr.jsxs)("fieldset",{className:r,id:s.$id,children:[(0,Yr.jsx)(y,{idSchema:s,title:m.title||h,required:d,schema:u,uiSchema:a,registry:c}),(0,Yr.jsx)(p,{idSchema:s,description:m.description||u.description,schema:u,uiSchema:a,registry:c}),(0,Yr.jsx)("div",{className:"row array-item-list",children:o&&o.map((({key:e,...t})=>(0,Yr.jsx)(f,{...t},e)))}),t&&(0,Yr.jsx)(g,{className:"array-item-add",onClick:i,disabled:n||l,uiSchema:a,registry:c})]})}function zi(e){const{idSchema:t,title:r,schema:n,uiSchema:s,required:a,registry:o}=e,i=mn(s,o.globalUiOptions),{label:l=!0}=i;if(!r||!l)return null;const c=Zs("TitleFieldTemplate",o,i);return(0,Yr.jsx)(c,{id:la(t),title:r,required:a,schema:n,uiSchema:s,registry:o})}function Wi(e){const{id:t,name:r,value:s,readonly:a,disabled:o,autofocus:i,onBlur:l,onFocus:c,onChange:d,onChangeOverride:u,options:h,schema:m,uiSchema:p,formContext:f,registry:y,rawErrors:g,type:v,hideLabel:b,hideError:$,...w}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const S={...w,...Js(m,v,h)};let x;x="number"===S.type||"integer"===S.type?s||0===s?s:"":null==s?"":s;const E=(0,n.useCallback)((({target:{value:e}})=>d(""===e?h.emptyValue:e)),[d,h]),_=(0,n.useCallback)((({target:e})=>l(t,e&&e.value)),[l,t]),k=(0,n.useCallback)((({target:e})=>c(t,e&&e.value)),[c,t]);return(0,Yr.jsxs)(Yr.Fragment,{children:[(0,Yr.jsx)("input",{id:t,name:t,className:"form-control",readOnly:a,disabled:o,autoFocus:i,value:x,...S,list:m.examples?oa(t):void 0,onChange:u||E,onBlur:_,onFocus:k,"aria-describedby":ca(t,!!m.examples)}),Array.isArray(m.examples)&&(0,Yr.jsx)("datalist",{id:oa(t),children:m.examples.concat(m.default&&!m.examples.includes(m.default)?[m.default]:[]).map((e=>(0,Yr.jsx)("option",{value:e},e)))},`datalist_${t}`)]})}function Bi({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=function(e={}){const t=mn(e);if(t&&t[on]){const e=t[on];return{...Xs,...e}}return Xs}(e);return r?null:(0,Yr.jsx)("div",{children:(0,Yr.jsx)("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:t})})}function Ki(e){const{iconType:t="default",icon:r,className:n,uiSchema:s,registry:a,...o}=e;return(0,Yr.jsx)("button",{type:"button",className:`btn btn-${t} ${n}`,...o,children:(0,Yr.jsx)("i",{className:`glyphicon glyphicon-${r}`})})}function Hi(e){const{registry:{translateString:t}}=e;return(0,Yr.jsx)(Ki,{title:t(ga.CopyButton),className:"array-item-copy",...e,icon:"copy"})}function Qi(e){const{registry:{translateString:t}}=e;return(0,Yr.jsx)(Ki,{title:t(ga.MoveDownButton),className:"array-item-move-down",...e,icon:"arrow-down"})}function Gi(e){const{registry:{translateString:t}}=e;return(0,Yr.jsx)(Ki,{title:t(ga.MoveUpButton),className:"array-item-move-up",...e,icon:"arrow-up"})}function Ji(e){const{registry:{translateString:t}}=e;return(0,Yr.jsx)(Ki,{title:t(ga.RemoveButton),className:"array-item-remove",...e,iconType:"danger",icon:"remove"})}function Xi({className:e,onClick:t,disabled:r,registry:n}){const{translateString:s}=n;return(0,Yr.jsx)("div",{className:"row",children:(0,Yr.jsx)("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:(0,Yr.jsx)(Ki,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:s(ga.AddButton),onClick:t,disabled:r,registry:n})})})}function Zi(e){const{id:t,description:r}=e;return r?"string"==typeof r?(0,Yr.jsx)("p",{id:t,className:"field-description",children:r}):(0,Yr.jsx)("div",{id:t,className:"field-description",children:r}):null}function el({errors:e,registry:t}){const{translateString:r}=t;return(0,Yr.jsxs)("div",{className:"panel panel-danger errors",children:[(0,Yr.jsx)("div",{className:"panel-heading",children:(0,Yr.jsx)("h3",{className:"panel-title",children:r(ga.ErrorsLabel)})}),(0,Yr.jsx)("ul",{className:"list-group",children:e.map(((e,t)=>(0,Yr.jsx)("li",{className:"list-group-item text-danger",children:e.stack},t)))})]})}const tl="*";function rl(e){const{label:t,required:r,id:n}=e;return t?(0,Yr.jsxs)("label",{className:"control-label",htmlFor:n,children:[t,r&&(0,Yr.jsx)("span",{className:"required",children:tl})]}):null}const nl=function(e){const{id:t,label:r,children:n,errors:s,help:a,description:o,hidden:i,required:l,displayLabel:c,registry:d,uiSchema:u}=e,h=Zs("WrapIfAdditionalTemplate",d,mn(u));return i?(0,Yr.jsx)("div",{className:"hidden",children:n}):(0,Yr.jsxs)(h,{...e,children:[c&&(0,Yr.jsx)(rl,{label:r,required:l,id:t}),c&&o?o:null,n,s,a]})};function sl(e){const{errors:t=[],idSchema:r}=e;if(0===t.length)return null;const n=aa(r);return(0,Yr.jsx)("div",{children:(0,Yr.jsx)("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:t.filter((e=>!!e)).map(((e,t)=>(0,Yr.jsx)("li",{className:"text-danger",children:e},t)))})})}function al(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=ia(t);return"string"==typeof r?(0,Yr.jsx)("p",{id:n,className:"help-block",children:r}):(0,Yr.jsx)("div",{id:n,className:"help-block",children:r})}function ol(e){const{description:t,disabled:r,formData:n,idSchema:s,onAddClick:a,properties:o,readonly:i,registry:l,required:c,schema:d,title:u,uiSchema:h}=e,m=mn(h),p=Zs("TitleFieldTemplate",l,m),f=Zs("DescriptionFieldTemplate",l,m),{ButtonTemplates:{AddButton:y}}=l.templates;return(0,Yr.jsxs)("fieldset",{id:s.$id,children:[u&&(0,Yr.jsx)(p,{id:la(s),title:u,required:c,schema:d,uiSchema:h,registry:l}),t&&(0,Yr.jsx)(f,{id:sa(s),description:t,schema:d,uiSchema:h,registry:l}),o.map((e=>e.content)),pn(d,h,n)&&(0,Yr.jsx)(y,{className:"object-property-expand",onClick:a(d),disabled:r||i,uiSchema:h,registry:l})]})}function il(e){const{id:t,title:r,required:n}=e;return(0,Yr.jsxs)("legend",{id:t,children:[r,n&&(0,Yr.jsx)("span",{className:"required",children:"*"})]})}const ll=function(e){const{schema:t,idSchema:r,reason:n,registry:s}=e,{translateString:a}=s;let o=ga.UnsupportedField;const i=[];return r&&r.$id&&(o=ga.UnsupportedFieldWithId,i.push(r.$id)),n&&(o=o===ga.UnsupportedField?ga.UnsupportedFieldWithReason:ga.UnsupportedFieldWithIdAndReason,i.push(n)),(0,Yr.jsxs)("div",{className:"unsupported-field",children:[(0,Yr.jsx)("p",{children:(0,Yr.jsx)(Ni,{options:{disableParsingRawHTML:!0},children:a(o,i)})}),t&&(0,Yr.jsx)("pre",{children:JSON.stringify(t,null,2)})]})};function cl(e){const{id:t,classNames:r,style:n,disabled:s,label:a,onKeyChange:o,onDropPropertyClick:i,readonly:l,required:c,schema:d,children:u,uiSchema:h,registry:m}=e,{templates:p,translateString:f}=m,{RemoveButton:y}=p.ButtonTemplates,g=f(ga.KeyLabel,[a]);return Wr in d?(0,Yr.jsx)("div",{className:r,style:n,children:(0,Yr.jsxs)("div",{className:"row",children:[(0,Yr.jsx)("div",{className:"col-xs-5 form-additional",children:(0,Yr.jsxs)("div",{className:"form-group",children:[(0,Yr.jsx)(rl,{label:g,required:c,id:`${t}-key`}),(0,Yr.jsx)("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:e})=>o(e&&e.value),defaultValue:a})]})}),(0,Yr.jsx)("div",{className:"form-additional form-group col-xs-5",children:u}),(0,Yr.jsx)("div",{className:"col-xs-2",children:(0,Yr.jsx)(y,{className:"array-item-remove btn-block",style:{border:"0"},disabled:s||l,onClick:i(a),uiSchema:h,registry:m})})]})}):(0,Yr.jsx)("div",{className:r,style:n,children:u})}function dl({type:e,range:t,value:r,select:n,rootId:s,name:a,disabled:o,readonly:i,autofocus:l,registry:c,onBlur:d,onFocus:u}){const h=s+"_"+e,{SelectWidget:m}=c.widgets;return(0,Yr.jsx)(m,{schema:{type:"integer"},id:h,name:a,className:"form-control",options:{enumOptions:Us(t[0],t[1])},placeholder:e,value:r,disabled:o,readonly:i,autofocus:l,onChange:t=>n(e,t),onBlur:d,onFocus:u,registry:c,label:"","aria-describedby":ca(s)})}const ul=function({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:s=!1,options:a,id:o,name:i,registry:l,onBlur:c,onFocus:d,onChange:u,value:h}){const{translateString:m}=l,[p,f]=(0,n.useState)(h),[y,g]=(0,n.useReducer)(((e,t)=>({...e,...t})),ma(h,e));(0,n.useEffect)((()=>{const t=fa(y,e);!function(e){return Object.values(e).every((e=>-1!==e))}(y)||t===h?p!==h&&(f(h),g(ma(h,e))):u(t)}),[e,h,u,y,p]);const v=(0,n.useCallback)(((e,t)=>{g({[e]:t})}),[]),b=(0,n.useCallback)((n=>{if(n.preventDefault(),t||r)return;const s=ma((new Date).toJSON(),e);u(fa(s,e))}),[t,r,e]),$=(0,n.useCallback)((e=>{e.preventDefault(),t||r||u(void 0)}),[t,r,u]);return(0,Yr.jsxs)("ul",{className:"list-inline",children:[Qs(y,e,a.yearsRange,a.format).map(((e,n)=>(0,Yr.jsx)("li",{className:"list-inline-item",children:(0,Yr.jsx)(dl,{rootId:o,name:i,select:v,...e,disabled:t,readonly:r,registry:l,onBlur:c,onFocus:d,autofocus:s&&0===n})},n))),("undefined"===a.hideNowButton||!a.hideNowButton)&&(0,Yr.jsx)("li",{className:"list-inline-item",children:(0,Yr.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:b,children:m(ga.NowLabel)})}),("undefined"===a.hideClearButton||!a.hideClearButton)&&(0,Yr.jsx)("li",{className:"list-inline-item",children:(0,Yr.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:$,children:m(ga.ClearLabel)})})]})},hl=function({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return(0,Yr.jsx)(r,{time:e,...t})},ml=function({schema:e,uiSchema:t,options:r,id:s,value:a,disabled:o,readonly:i,label:l,hideLabel:c,autofocus:d=!1,onBlur:u,onFocus:h,onChange:m,registry:p}){var f;const y=Zs("DescriptionFieldTemplate",p,r),g=pa(e),v=(0,n.useCallback)((e=>m(e.target.checked)),[m]),b=(0,n.useCallback)((e=>u(s,e.target.checked)),[u,s]),$=(0,n.useCallback)((e=>h(s,e.target.checked)),[h,s]),w=null!==(f=r.description)&&void 0!==f?f:e.description;return(0,Yr.jsxs)("div",{className:"checkbox "+(o||i?"disabled":""),children:[!c&&!!w&&(0,Yr.jsx)(y,{id:sa(s),description:w,schema:e,uiSchema:t,registry:p}),(0,Yr.jsxs)("label",{children:[(0,Yr.jsx)("input",{type:"checkbox",id:s,name:s,checked:void 0!==a&&a,required:g,disabled:o||i,autoFocus:d,onChange:v,onBlur:b,onFocus:$,"aria-describedby":ca(s)}),ua((0,Yr.jsx)("span",{children:l}),c)]})]})},pl=function({id:e,disabled:t,options:{inline:r=!1,enumOptions:s,enumDisabled:a,emptyValue:o},value:i,autofocus:l=!1,readonly:c,onChange:d,onBlur:u,onFocus:h}){const m=Array.isArray(i)?i:[i],p=(0,n.useCallback)((({target:t})=>u(e,Ys(t&&t.value,s,o))),[u,e]),f=(0,n.useCallback)((({target:t})=>h(e,Ys(t&&t.value,s,o))),[h,e]);return(0,Yr.jsx)("div",{className:"checkboxes",id:e,children:Array.isArray(s)&&s.map(((n,o)=>{const i=Vs(n.value,m),u=Array.isArray(a)&&-1!==a.indexOf(n.value),h=t||u||c?"disabled":"",y=(0,Yr.jsxs)("span",{children:[(0,Yr.jsx)("input",{type:"checkbox",id:da(e,o),name:e,checked:i,value:String(o),disabled:t||u||c,autoFocus:l&&0===o,onChange:e=>{e.target.checked?d(function(e,t,r=[]){const n=Ys(e,r);if(!Ws()(n)){const e=r.findIndex((e=>n===e.value)),s=r.map((({value:e})=>e));return t.slice(0,e).concat(n,t.slice(e)).sort(((e,t)=>Number(s.indexOf(e)>s.indexOf(t))))}return t}(o,m,s)):d(function(e,t,r=[]){const n=Ys(e,r);return Array.isArray(t)?t.filter((e=>!Vn()(e,n))):Vn()(n,t)?void 0:t}(o,m,s))},onBlur:p,onFocus:f,"aria-describedby":ca(e)}),(0,Yr.jsx)("span",{children:n.label})]});return r?(0,Yr.jsx)("label",{className:`checkbox-inline ${h}`,children:y},o):(0,Yr.jsx)("div",{className:`checkbox ${h}`,children:(0,Yr.jsx)("label",{children:y})},o)}))})};function fl(e){const{disabled:t,readonly:r,options:n,registry:s}=e,a=Zs("BaseInputTemplate",s,n);return(0,Yr.jsx)(a,{type:"color",...e,disabled:t||r})}function yl(e){const{onChange:t,options:r,registry:s}=e,a=Zs("BaseInputTemplate",s,r),o=(0,n.useCallback)((e=>t(e||void 0)),[t]);return(0,Yr.jsx)(a,{type:"date",...e,onChange:o})}function gl(e){const{onChange:t,value:r,options:n,registry:s}=e,a=Zs("BaseInputTemplate",s,n);return(0,Yr.jsx)(a,{type:"datetime-local",...e,value:wa(r),onChange:e=>{return t((r=e)?new Date(r).toJSON():void 0);var r}})}function vl(e){const{options:t,registry:r}=e,n=Zs("BaseInputTemplate",r,t);return(0,Yr.jsx)(n,{type:"email",...e})}function bl(e,t){return null===e?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function $l(e){const{name:t,size:r,type:n}=e;return new Promise(((s,a)=>{const o=new window.FileReader;o.onerror=a,o.onload=e=>{var a;"string"==typeof(null===(a=e.target)||void 0===a?void 0:a.result)?s({dataURL:bl(e.target.result,t),name:t,size:r,type:n}):s({dataURL:null,name:t,size:r,type:n})},o.readAsDataURL(e)}))}function wl({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:n,type:s,name:a}=e;return n?["image/jpeg","image/png"].includes(s)?(0,Yr.jsx)("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):(0,Yr.jsxs)(Yr.Fragment,{children:[" ",(0,Yr.jsx)("a",{download:`preview-${a}`,href:n,className:"file-download",children:r(ga.PreviewLabel)})]}):null}function Sl({filesInfo:e,registry:t,preview:r,onRemove:n,options:s}){if(0===e.length)return null;const{translateString:a}=t,{RemoveButton:o}=Zs("ButtonTemplates",t,s);return(0,Yr.jsx)("ul",{className:"file-info",children:e.map(((e,s)=>{const{name:i,size:l,type:c}=e;return(0,Yr.jsxs)("li",{children:[(0,Yr.jsx)(Ni,{children:a(ga.FilesInfo,[i,c,String(l)])}),r&&(0,Yr.jsx)(wl,{fileInfo:e,registry:t}),(0,Yr.jsx)(o,{onClick:()=>n(s),registry:t})]},s)}))})}const xl=function(e){const{disabled:t,readonly:r,required:s,multiple:a,onChange:o,value:i,options:l,registry:c}=e,d=Zs("BaseInputTemplate",c,l),u=(0,n.useCallback)((e=>{var t;e.target.files&&(t=e.target.files,Promise.all(Array.from(t).map($l))).then((e=>{const t=e.map((e=>e.dataURL));o(a?i.concat(t[0]):t[0])}))}),[a,i,o]),h=(0,n.useMemo)((()=>(Array.isArray(i)?i:[i]).reduce(((e,t)=>{if(!t)return e;try{const{blob:r,name:n}=function(e){var t;if(-1===e.indexOf("data:"))throw new Error("File is invalid: URI must be a dataURI");const r=e.slice(5).split(";base64,");if(2!==r.length)throw new Error("File is invalid: dataURI must be base64");const[n,s]=r,[a,...o]=n.split(";"),i=a||"",l=decodeURI((null===(t=o.map((e=>e.split("="))).find((([e])=>"name"===e)))||void 0===t?void 0:t[1])||"unknown");try{const e=atob(s),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return{blob:new window.Blob([new Uint8Array(t)],{type:i}),name:l}}catch(e){throw new Error("File is invalid: "+e.message)}}(t);return[...e,{dataURL:t,name:n,size:r.size,type:r.type}]}catch(t){return e}}),[])),[i]),m=(0,n.useCallback)((e=>{if(a){const t=i.filter(((t,r)=>r!==e));o(t)}else o(void 0)}),[a,i,o]);return(0,Yr.jsxs)("div",{children:[(0,Yr.jsx)(d,{...e,disabled:t||r,type:"file",required:!i&&s,onChangeOverride:u,value:"",accept:l.accept?String(l.accept):void 0}),(0,Yr.jsx)(Sl,{filesInfo:h,onRemove:m,registry:c,preview:l.filePreview,options:l})]})},El=function({id:e,value:t}){return(0,Yr.jsx)("input",{type:"hidden",id:e,name:e,value:void 0===t?"":t})};function _l(e){const{options:t,registry:r}=e,n=Zs("BaseInputTemplate",r,t);return(0,Yr.jsx)(n,{type:"password",...e})}const kl=function({options:e,value:t,required:r,disabled:s,readonly:a,autofocus:o=!1,onBlur:i,onFocus:l,onChange:c,id:d}){const{enumOptions:u,enumDisabled:h,inline:m,emptyValue:p}=e,f=(0,n.useCallback)((({target:e})=>i(d,Ys(e&&e.value,u,p))),[i,d]),y=(0,n.useCallback)((({target:e})=>l(d,Ys(e&&e.value,u,p))),[l,d]);return(0,Yr.jsx)("div",{className:"field-radio-group",id:d,children:Array.isArray(u)&&u.map(((e,n)=>{const i=Vs(e.value,t),l=Array.isArray(h)&&-1!==h.indexOf(e.value),u=s||l||a?"disabled":"",p=(0,Yr.jsxs)("span",{children:[(0,Yr.jsx)("input",{type:"radio",id:da(d,n),checked:i,name:d,required:r,value:String(n),disabled:s||l||a,autoFocus:o&&0===n,onChange:()=>c(e.value),onBlur:f,onFocus:y,"aria-describedby":ca(d)}),(0,Yr.jsx)("span",{children:e.label})]});return m?(0,Yr.jsx)("label",{className:`radio-inline ${u}`,children:p},n):(0,Yr.jsx)("div",{className:`radio ${u}`,children:(0,Yr.jsx)("label",{children:p})},n)}))})};function Cl(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return(0,Yr.jsxs)("div",{className:"field-range-wrapper",children:[(0,Yr.jsx)(r,{type:"range",...e}),(0,Yr.jsx)("span",{className:"range-view",children:t})]})}function Pl(e,t){return t?Array.from(e.target.options).slice().filter((e=>e.selected)).map((e=>e.value)):e.target.value}const Al=function({schema:e,id:t,options:r,value:s,required:a,disabled:o,readonly:i,multiple:l=!1,autofocus:c=!1,onChange:d,onBlur:u,onFocus:h,placeholder:m}){const{enumOptions:p,enumDisabled:f,emptyValue:y}=r,g=l?[]:"",v=(0,n.useCallback)((e=>{const r=Pl(e,l);return h(t,Ys(r,p,y))}),[h,t,e,l,p,y]),b=(0,n.useCallback)((e=>{const r=Pl(e,l);return u(t,Ys(r,p,y))}),[u,t,e,l,p,y]),$=(0,n.useCallback)((e=>{const t=Pl(e,l);return d(Ys(t,p,y))}),[d,e,l,p,y]),w=function(e,t=[],r=!1){const n=t.map(((t,r)=>Vs(t.value,e)?String(r):void 0)).filter((e=>void 0!==e));return r?n:n[0]}(s,p,l),S=!l&&void 0===e.default;return(0,Yr.jsxs)("select",{id:t,name:t,multiple:l,className:"form-control",value:void 0===w?g:w,required:a,disabled:o||i,autoFocus:c,onBlur:b,onFocus:v,onChange:$,"aria-describedby":ca(t),children:[S&&(0,Yr.jsx)("option",{value:"",children:m}),Array.isArray(p)&&p.map((({value:e,label:t},r)=>{const n=f&&-1!==f.indexOf(e);return(0,Yr.jsx)("option",{value:String(r),disabled:n,children:t},r)}))]})};function Nl({id:e,options:t={},placeholder:r,value:s,required:a,disabled:o,readonly:i,autofocus:l=!1,onChange:c,onBlur:d,onFocus:u}){const h=(0,n.useCallback)((({target:{value:e}})=>c(""===e?t.emptyValue:e)),[c,t.emptyValue]),m=(0,n.useCallback)((({target:t})=>d(e,t&&t.value)),[d,e]),p=(0,n.useCallback)((({target:t})=>u(e,t&&t.value)),[e,u]);return(0,Yr.jsx)("textarea",{id:e,name:e,className:"form-control",value:s||"",placeholder:r,required:a,disabled:o,readOnly:i,autoFocus:l,rows:t.rows,onBlur:m,onFocus:p,onChange:h,"aria-describedby":ca(e)})}Nl.defaultProps={autofocus:!1,options:{}};const Tl=Nl;function Ol(e){const{options:t,registry:r}=e,n=Zs("BaseInputTemplate",r,t);return(0,Yr.jsx)(n,{...e})}function Il(e){const{onChange:t,options:r,registry:s}=e,a=Zs("BaseInputTemplate",s,r),o=(0,n.useCallback)((e=>t(e?`${e}:00`:void 0)),[t]);return(0,Yr.jsx)(a,{type:"time",...e,onChange:o})}function jl(e){const{options:t,registry:r}=e,n=Zs("BaseInputTemplate",r,t);return(0,Yr.jsx)(n,{type:"url",...e})}function Dl(e){const{options:t,registry:r}=e,n=Zs("BaseInputTemplate",r,t);return(0,Yr.jsx)(n,{type:"number",...e})}class Rl extends n.Component{constructor(e){if(super(e),this.getUsedFormData=(e,t)=>{if(0===t.length&&"object"!=typeof e)return e;const r=_()(e,t);return Array.isArray(e)?Object.keys(r).map((e=>r[e])):r},this.getFieldNames=(e,t)=>{const r=(e,n=[],s=[[]])=>(Object.keys(e).forEach((a=>{if("object"==typeof e[a]){const t=s.map((e=>[...e,a]));e[a][cn]&&""!==e[a][rn]?n.push(e[a][rn]):r(e[a],n,t)}else a===rn&&""!==e[a]&&s.forEach((e=>{const r=Sn()(t,e);("object"!=typeof r||F()(r)||Array.isArray(r)&&r.every((e=>"object"!=typeof e)))&&n.push(e)}))})),n);return r(e)},this.omitExtraData=e=>{const{schema:t,schemaUtils:r}=this.state,n=r.retrieveSchema(t,e),s=r.toPathSchema(n,"",e),a=this.getFieldNames(s,e);return this.getUsedFormData(e,a)},this.onChange=(e,t,r)=>{const{extraErrors:n,omitExtraData:s,liveOmit:a,noValidate:o,liveValidate:i,onChange:l}=this.props,{schemaUtils:c,schema:d,retrievedSchema:u}=this.state;(Vr(e)||Array.isArray(e))&&(e=this.getStateFromProps(this.props,e,u).formData);const h=!o&&i;let m={formData:e,schema:d},p=e;if(!0===s&&!0===a&&(p=this.omitExtraData(e),m={formData:p}),h){const e=this.validate(p,d,c,u);let t=e.errors,r=e.errorSchema;const s=t,a=r;if(n){const s=Sa(e,n);r=s.errorSchema,t=s.errors}m={formData:p,errors:t,errorSchema:r,schemaValidationErrors:s,schemaValidationErrorSchema:a}}else if(!o&&t){const e=n?Ss(t,n,"preventDuplicates"):t;m={formData:p,errorSchema:e,errors:ya(e)}}this.setState(m,(()=>l&&l({...this.state,...m},r)))},this.reset=()=>{const{onChange:e}=this.props,t={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(t,(()=>e&&e({...this.state,...t})))},this.onBlur=(e,t)=>{const{onBlur:r}=this.props;r&&r(e,t)},this.onFocus=(e,t)=>{const{onFocus:r}=this.props;r&&r(e,t)},this.onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:t,extraErrors:r,noValidate:n,onSubmit:s}=this.props;let{formData:a}=this.state;if(!0===t&&(a=this.omitExtraData(a)),n||this.validateFormWithFormData(a)){const t=r||{},n=r?ya(r):[];this.setState({formData:a,errors:n,errorSchema:t,schemaValidationErrors:[],schemaValidationErrorSchema:{}},(()=>{s&&s({...this.state,formData:a,status:"submitted"},e)}))}},this.submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}},this.validateFormWithFormData=e=>{const{extraErrors:t,extraErrorsBlockSubmit:r,focusOnFirstError:n,onError:s}=this.props,{errors:a}=this.state,o=this.validate(e);let i=o.errors,l=o.errorSchema;const c=i,d=l,u=i.length>0||t&&r;if(u){if(t){const e=Sa(o,t);l=e.errorSchema,i=e.errors}n&&("function"==typeof n?n(i[0]):this.focusOnError(i[0])),this.setState({errors:i,errorSchema:l,schemaValidationErrors:c,schemaValidationErrorSchema:d},(()=>{s?s(i):console.error("Form validation failed",i)}))}else a.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!u},!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!$n(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=(0,n.createRef)()}getSnapshotBeforeUpdate(e,t){if(!$n(this.props,e)){const r=!$n(e.schema,this.props.schema),n=!$n(e.formData,this.props.formData),s=this.getStateFromProps(this.props,this.props.formData,r||n?void 0:this.state.retrievedSchema,r);return{nextState:s,shouldUpdate:!$n(s,t)}}return{shouldUpdate:!1}}componentDidUpdate(e,t,r){if(r.shouldUpdate){const{nextState:e}=r;$n(e.formData,this.props.formData)||$n(e.formData,t.formData)||!this.props.onChange||this.props.onChange(e),this.setState(e)}}getStateFromProps(e,t,r,n=!1){const s=this.state||{},a="schema"in e?e.schema:this.props.schema,o=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},i=void 0!==t,l="liveValidate"in e?e.liveValidate:this.props.liveValidate,c=i&&!e.noValidate&&l,d=a,u="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior;let h=s.schemaUtils;h&&!h.doesSchemaUtilsDiffer(e.validator,d,u)||(h=function(e,t,r={}){return new Fs(e,t,r)}(e.validator,d,u));const m=h.getDefaultFormState(a,t),p=null!=r?r:h.retrieveSchema(a,m);let f,y,g=s.schemaValidationErrors,v=s.schemaValidationErrorSchema;if(c){const e=this.validate(m,a,h,p);f=e.errors,y=e.errorSchema,g=f,v=y}else{const t=e.noValidate||n?{errors:[],errorSchema:{}}:e.liveValidate?{errors:s.errors||[],errorSchema:s.errorSchema||{}}:{errors:s.schemaValidationErrors||[],errorSchema:s.schemaValidationErrorSchema||{}};f=t.errors,y=t.errorSchema}if(e.extraErrors){const t=Sa({errorSchema:y,errors:f},e.extraErrors);y=t.errorSchema,f=t.errors}const b=h.toIdSchema(p,o["ui:rootFieldId"],m,e.idPrefix,e.idSeparator);return{schemaUtils:h,schema:a,uiSchema:o,idSchema:b,formData:m,edit:i,errors:f,errorSchema:y,schemaValidationErrors:g,schemaValidationErrorSchema:v,retrievedSchema:p}}shouldComponentUpdate(e,t){return function(e,t,r){const{props:n,state:s}=e;return!$n(n,t)||!$n(s,r)}(this,e,t)}validate(e,t=this.props.schema,r,n){const s=r||this.state.schemaUtils,{customValidate:a,transformErrors:o,uiSchema:i}=this.props,l=null!=n?n:s.retrieveSchema(t,e);return s.getValidator().validateFormData(e,l,a,o,i)}renderErrors(e){const{errors:t,errorSchema:r,schema:n,uiSchema:s}=this.state,{formContext:a}=this.props,o=Zs("ErrorListTemplate",e,mn(s));return t&&t.length?(0,Yr.jsx)(o,{errors:t,errorSchema:r||{},schema:n,uiSchema:s,formContext:a,registry:e}):null}getRegistry(){var e;const{translateString:t,uiSchema:r={}}=this.props,{schemaUtils:n}=this.state,{fields:s,templates:a,widgets:o,formContext:i,translateString:l}={fields:{AnyOfField:Oa,ArrayField:Aa,BooleanField:Na,NumberField:Da,ObjectField:ji,OneOfField:Oa,SchemaField:Fi,StringField:qi,NullField:Ui},templates:{ArrayFieldDescriptionTemplate:Li,ArrayFieldItemTemplate:Yi,ArrayFieldTemplate:Vi,ArrayFieldTitleTemplate:zi,ButtonTemplates:{SubmitButton:Bi,AddButton:Xi,CopyButton:Hi,MoveDownButton:Qi,MoveUpButton:Gi,RemoveButton:Ji},BaseInputTemplate:Wi,DescriptionFieldTemplate:Zi,ErrorListTemplate:el,FieldTemplate:nl,FieldErrorTemplate:sl,FieldHelpTemplate:al,ObjectFieldTemplate:ol,TitleFieldTemplate:il,UnsupportedFieldTemplate:ll,WrapIfAdditionalTemplate:cl},widgets:{AltDateWidget:ul,AltDateTimeWidget:hl,CheckboxWidget:ml,CheckboxesWidget:pl,ColorWidget:fl,DateWidget:yl,DateTimeWidget:gl,EmailWidget:vl,FileWidget:xl,HiddenWidget:El,PasswordWidget:_l,RadioWidget:kl,RangeWidget:Cl,SelectWidget:Al,TextWidget:Ol,TextareaWidget:Tl,TimeWidget:Il,UpDownWidget:Dl,URLWidget:jl},rootSchema:{},formContext:{},translateString:Ls};return{fields:{...s,...this.props.fields},templates:{...a,...this.props.templates,ButtonTemplates:{...a.ButtonTemplates,...null===(e=this.props.templates)||void 0===e?void 0:e.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||i,schemaUtils:n,translateString:t||l,globalUiOptions:r["ui:globalOptions"]}}focusOnError(e){const{idPrefix:t="root",idSeparator:r="_"}=this.props,{property:n}=e,s=ba()(n);""===s[0]?s[0]=t:s.unshift(t);const a=s.join(r);let o=this.formElement.current.elements[a];o||(o=this.formElement.current.querySelector(`input[id^=${a}`)),o&&o.length&&(o=o[0]),o&&o.focus()}validateForm(){const{omitExtraData:e}=this.props;let{formData:t}=this.state;return!0===e&&(t=this.omitExtraData(t)),this.validateFormWithFormData(t)}render(){const{children:e,id:t,idPrefix:r,idSeparator:n,className:s="",tagName:a,name:o,method:i,target:l,action:c,autoComplete:d,enctype:u,acceptcharset:h,acceptCharset:m,noHtml5Validate:p=!1,disabled:f,readonly:y,formContext:g,showErrorList:v="top",_internalFormWrapper:b}=this.props,{schema:$,uiSchema:w,formData:S,errorSchema:x,idSchema:E}=this.state,_=this.getRegistry(),{SchemaField:k}=_.fields,{SubmitButton:C}=_.templates.ButtonTemplates,P=b?a:void 0,A=b||a||"form";let{[on]:N={}}=mn(w);f&&(N={...N,props:{...N.props,disabled:!0}});const T={[hn]:{[on]:N}};return(0,Yr.jsxs)(A,{className:s||"rjsf",id:t,name:o,method:i,target:l,action:c,autoComplete:d,encType:u,acceptCharset:m||h,noValidate:p,onSubmit:this.onSubmit,as:P,ref:this.formElement,children:["top"===v&&this.renderErrors(_),(0,Yr.jsx)(k,{name:"",schema:$,uiSchema:w,errorSchema:x,idSchema:E,idPrefix:r,idSeparator:n,formContext:g,formData:S,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:_,disabled:f,readonly:y}),e||(0,Yr.jsx)(C,{uiSchema:T,registry:_}),"bottom"===v&&this.renderErrors(_)]})}}const Ml=Rl;var Fl=r(79756),ql=r.n(Fl),Ul=r(68182),Ll=r.n(Ul);const Yl={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},Vl=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,zl=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function Wl(e,t,r,n,s,a,o){const{validationError:i}=t;let l=function(e=[],t){return e.map((e=>{const{instancePath:r,keyword:n,params:s,schemaPath:a,parentSchema:o,...i}=e;let{message:l=""}=i,c=r.replace(/\//g,"."),d=`${c} ${l}`.trim();if("missingProperty"in s){c=c?`${c}.${s.missingProperty}`:s.missingProperty;const e=s.missingProperty,r=mn(Sn()(t,`${c.replace(/^\./,"")}`)).title;if(r)l=l.replace(e,r);else{const t=Sn()(o,[sn,e,"title"]);t&&(l=l.replace(e,t))}d=l}else{const e=mn(Sn()(t,`${c.replace(/^\./,"")}`)).title;if(e)d=`'${e}' ${l}`.trim();else{const e=null==o?void 0:o.title;e&&(d=`'${e}' ${l}`.trim())}}return{name:n,property:c,message:l,params:s,stack:d,schemaPath:a}}))}(t.errors,o);i&&(l=[...l,{stack:i.message}]),"function"==typeof a&&(l=a(l,o));let c=function(e){const t=new Hs;return e.length&&e.forEach((e=>{const{property:r,message:n}=e,s="."===r?[]:ba()(r);s.length>0&&""===s[0]&&s.splice(0,1),n&&t.addErrors(n,s)})),t.ErrorSchema}(l);if(i&&(c={...c,$schema:{__errors:[i.message]}}),"function"!=typeof s)return{errors:l,errorSchema:c};const d=As(e,n,r,n,!0);return Sa({errors:l,errorSchema:c},$a(s(d,gn(d),o)))}class Bl{constructor(e,t){const{additionalMetaSchemas:r,customFormats:n,ajvOptionsOverrides:s,ajvFormatOptions:a,AjvClass:o}=e;this.ajv=function(e,t,r={},n,s=ql()){const a=new s({...Yl,...r});return n?Ll()(a,n):!1!==n&&Ll()(a),a.addFormat("data-url",zl),a.addFormat("color",Vl),a.addKeyword(Wr),a.addKeyword(cn),Array.isArray(e)&&a.addMetaSchema(e),On()(t)&&Object.keys(t).forEach((e=>{a.addFormat(e,t[e])})),a}(r,n,s,a,o),this.localizer=t}reset(){this.ajv.removeSchema()}toErrorList(e,t=[]){return ya(e,t)}rawValidation(e,t){let r,n,s;e[Zr]&&(n=this.ajv.getSchema(e[Zr]));try{void 0===n&&(n=this.ajv.compile(e)),n(t)}catch(e){r=e}return n&&("function"==typeof this.localizer&&this.localizer(n.errors),s=n.errors||void 0,n.errors=null),{errors:s,validationError:r}}validateFormData(e,t,r,n,s){return Wl(this,this.rawValidation(t,e),e,t,r,n,s)}handleSchemaUpdate(e){var t,r;const n=null!==(t=e[Zr])&&void 0!==t?t:dn;void 0===this.ajv.getSchema(n)?this.ajv.addSchema(e,n):$n(e,null===(r=this.ajv.getSchema(n))||void 0===r?void 0:r.schema)||(this.ajv.removeSchema(n),this.ajv.addSchema(e,n))}isValid(e,t,r){var n;try{this.handleSchemaUpdate(r);const s=xa(e),a=null!==(n=s[Zr])&&void 0!==n?n:function(e){const t=new Set;return JSON.stringify(e,((e,r)=>(t.add(e),r))),function(e){let t=0;for(let r=0;r<e.length;r+=1)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t.toString(16)}(JSON.stringify(e,Array.from(t).sort()))}(s);let o;return o=this.ajv.getSchema(a),void 0===o&&(o=this.ajv.addSchema(s,a).getSchema(a)||this.ajv.compile(s)),o(t)}catch(e){return console.warn("Error encountered compiling schema:",e),!1}}}const Kl=function(e={},t){return new Bl(e,void 0)}();var Hl,Ql,Gl,Jl,Xl=r(41816),Zl=r(96734);function ec(e,t){e.assign("day",t.date()),e.assign("month",t.month()+1),e.assign("year",t.year())}function tc(e,t){e.assign("hour",t.hour()),e.assign("minute",t.minute()),e.assign("second",t.second()),e.assign("millisecond",t.millisecond()),e.get("hour")<12?e.assign("meridiem",Hl.AM):e.assign("meridiem",Hl.PM)}function rc(e,t){e.imply("day",t.date()),e.imply("month",t.month()+1),e.imply("year",t.year())}function nc(e,t){e.imply("hour",t.hour()),e.imply("minute",t.minute()),e.imply("second",t.second()),e.imply("millisecond",t.millisecond())}(Jl=Hl||(Hl={}))[Jl.AM=0]="AM",Jl[Jl.PM=1]="PM",function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"}(Ql||(Ql={})),function(e){e[e.JANUARY=1]="JANUARY",e[e.FEBRUARY=2]="FEBRUARY",e[e.MARCH=3]="MARCH",e[e.APRIL=4]="APRIL",e[e.MAY=5]="MAY",e[e.JUNE=6]="JUNE",e[e.JULY=7]="JULY",e[e.AUGUST=8]="AUGUST",e[e.SEPTEMBER=9]="SEPTEMBER",e[e.OCTOBER=10]="OCTOBER",e[e.NOVEMBER=11]="NOVEMBER",e[e.DECEMBER=12]="DECEMBER"}(Gl||(Gl={}));const sc={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:120,timezoneOffsetNonDst:60,dstStart:e=>oc(e,Gl.MARCH,Ql.SUNDAY,2),dstEnd:e=>oc(e,Gl.OCTOBER,Ql.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-300,timezoneOffsetNonDst:-360,dstStart:e=>ac(e,Gl.MARCH,Ql.SUNDAY,2,2),dstEnd:e=>ac(e,Gl.NOVEMBER,Ql.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-240,timezoneOffsetNonDst:-300,dstStart:e=>ac(e,Gl.MARCH,Ql.SUNDAY,2,2),dstEnd:e=>ac(e,Gl.NOVEMBER,Ql.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-360,timezoneOffsetNonDst:-420,dstStart:e=>ac(e,Gl.MARCH,Ql.SUNDAY,2,2),dstEnd:e=>ac(e,Gl.NOVEMBER,Ql.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-420,timezoneOffsetNonDst:-480,dstStart:e=>ac(e,Gl.MARCH,Ql.SUNDAY,2,2),dstEnd:e=>ac(e,Gl.NOVEMBER,Ql.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function ac(e,t,r,n,s=0){let a=0,o=0;for(;o<n;)a++,new Date(e,t-1,a).getDay()===r&&o++;return new Date(e,t-1,a,s)}function oc(e,t,r,n=0){const s=0===r?7:r,a=new Date(e,t-1+1,1,12),o=0===a.getDay()?7:a.getDay();let i;return i=o===s?7:o<s?7+o-s:o-s,a.setDate(a.getDate()-i),new Date(e,t-1,a.getDate(),n)}function ic(e,t,r={}){if(null==e)return null;if("number"==typeof e)return e;const n=r[e]??sc[e];return null==n?null:"number"==typeof n?n:null==t?null:Zl(t).isAfter(n.dstStart(t.getFullYear()))&&!Zl(t).isAfter(n.dstEnd(t.getFullYear()))?n.timezoneOffsetDuringDst:n.timezoneOffsetNonDst}Zl.extend(Xl);class lc{constructor(e){(e=e??new Date)instanceof Date?this.instant=e:(this.instant=e.instant??new Date,this.timezoneOffset=ic(e.timezone,this.instant))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+6e4*this.getSystemTimezoneAdjustmentMinute(this.instant))}getSystemTimezoneAdjustmentMinute(e,t){(!e||e.getTime()<0)&&(e=new Date);const r=-e.getTimezoneOffset();return r-(t??this.timezoneOffset??r)}}class cc{constructor(e,t){if(this._tags=new Set,this.reference=e,this.knownValues={},this.impliedValues={},t)for(const e in t)this.knownValues[e]=t[e];const r=Zl(e.instant);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues||(this.impliedValues[e]=t),this}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new cc(this.reference);e.knownValues={},e.impliedValues={};for(const t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(const t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||null!=this.get("hour")&&e.getHours()!=this.get("hour")||null!=this.get("minute")&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {\n            tags: ${JSON.stringify(Array.from(this._tags).sort())}, \n            knownValues: ${JSON.stringify(this.knownValues)}, \n            impliedValues: ${JSON.stringify(this.impliedValues)}}, \n            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return Zl(this.date())}date(){const e=this.dateWithoutTimezoneAdjustment(),t=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+6e4*t)}addTag(e){return this._tags.add(e),this}addTags(e){for(const t of e)this._tags.add(t);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,t){let r=Zl(e.instant);for(const e in t)r=r.add(t[e],e);const n=new cc(e);return t.hour||t.minute||t.second?(tc(n,r),ec(n,r),null!==e.timezoneOffset&&n.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(nc(n,r),null!==e.timezoneOffset&&n.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(n.assign("day",r.date()),n.assign("month",r.month()+1),n.assign("year",r.year())):(t.week&&n.imply("weekday",r.day()),n.imply("day",r.date()),t.month?(n.assign("month",r.month()+1),n.assign("year",r.year())):(n.imply("month",r.month()+1),t.year?n.assign("year",r.year()):n.imply("year",r.year())))),n}}class dc{constructor(e,t,r,n,s){this.reference=e,this.refDate=e.instant,this.index=t,this.text=r,this.start=n||new cc(e),this.end=s}clone(){const e=new dc(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}tags(){const e=new Set(this.start.tags());if(this.end)for(const t of this.end.tags())e.add(t);return e}toString(){const e=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(e)} ...}]`}}function uc(e,t,r="\\s{0,5},?\\s{0,5}"){const n=t.replace(/\((?!\?)/g,"(?:");return`${e}${n}(?:${r}${n}){0,10}`}function hc(e){const t=function(e){let t;return t=e instanceof Array?[...e]:e instanceof Map?Array.from(e.keys()):Object.keys(e),t}(e).sort(((e,t)=>t.length-e.length)).join("|").replace(/\./g,"\\.");return`(?:${t})`}function mc(e){return e<100&&(e+=e>50?1900:2e3),e}function pc(e,t,r){const n=Zl(e);let s=n;s=s.month(r-1),s=s.date(t),s=s.year(n.year());const a=s.add(1,"y"),o=s.add(-1,"y");return Math.abs(a.diff(n))<Math.abs(s.diff(n))?s=a:Math.abs(o.diff(n))<Math.abs(s.diff(n))&&(s=o),s.year()}const fc={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},yc={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},gc={...yc,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},vc={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},bc={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},$c={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},wc={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...$c},Sc=`(?:${hc(vc)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`,xc=`(?:${hc(bc)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Ec(e){let t=e.toLowerCase();return void 0!==bc[t]?bc[t]:(t=t.replace(/(?:st|nd|rd|th)$/i,""),parseInt(t))}const _c="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function kc(e){return/BE/i.test(e)?(e=e.replace(/BE/i,""),parseInt(e)-543):/BCE?/i.test(e)?(e=e.replace(/BCE?/i,""),-parseInt(e)):/(AD|CE)/i.test(e)?(e=e.replace(/(AD|CE)/i,""),parseInt(e)):mc(parseInt(e))}const Cc=`(${Sc})\\s{0,3}(${hc(wc)})`,Pc=new RegExp(Cc,"i"),Ac=`(${Sc})\\s{0,3}(${hc($c)})`,Nc="\\s{0,5},?(?:\\s*and)?\\s{0,5}",Tc=uc("(?:(?:about|around)\\s{0,3})?",Cc,Nc),Oc=uc("(?:(?:about|around)\\s{0,3})?",Ac,Nc);function Ic(e){const t={};let r=e,n=Pc.exec(r);for(;n;)jc(t,n),r=r.substring(n[0].length).trim(),n=Pc.exec(r);return t}function jc(e,t){const r=function(e){const t=e.toLowerCase();return void 0!==vc[t]?vc[t]:"a"===t||"an"===t||"the"==t?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}(t[1]);e[wc[t[2].toLowerCase()]]=r}class Dc{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(e,t){return this.innerPattern(e)!==t}patternLeftBoundary(){return"(\\W|^)"}pattern(e){return this.cachedInnerPattern&&!this.innerPatternHasChange(e,this.cachedInnerPattern)||(this.cachedInnerPattern=this.innerPattern(e),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags)),this.cachedPattern}extract(e,t){const r=t[1]??"";t.index=t.index+r.length,t[0]=t[0].substring(r.length);for(let e=2;e<t.length;e++)t[e-1]=t[e];return this.innerExtract(e,t)}}const Rc=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Tc})(?=\\W|$)`,"i"),Mc=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Tc})(?=\\W|$)`,"i"),Fc=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Oc})(?=\\W|$)`,"i");class qc extends Dc{constructor(e){super(),this.strictMode=e}innerPattern(e){return this.strictMode?Fc:e.option.forwardDate?Rc:Mc}innerExtract(e,t){if(t[0].match(/^for\s*the\s*\w+/))return null;const r=Ic(t[1]);return cc.createRelativeFromReference(e.reference,r)}}const Uc=new RegExp(`(?:on\\s{0,3})?(${xc})(?:\\s{0,3}(?:to|\\-|\\–|until|through|till)?\\s{0,3}(${xc}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${hc(gc)})(?:(?:-|/|,?\\s{0,3})(${_c}(?!\\w)))?(?=\\W|$)`,"i");class Lc extends Dc{innerPattern(){return Uc}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=gc[t[3].toLowerCase()],s=Ec(t[1]);if(s>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",n),r.start.assign("day",s),t[4]){const e=kc(t[4]);r.start.assign("year",e)}else{const t=pc(e.refDate,s,n);r.start.imply("year",t)}if(t[2]){const e=Ec(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}}const Yc=new RegExp(`(${hc(gc)})(?:-|/|\\s*,?\\s*)(${xc})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${xc})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${_c}))?(?=\\W|$)(?!\\:\\d)`,"i");class Vc extends Dc{constructor(e){super(),this.shouldSkipYearLikeDate=e}innerPattern(){return Yc}innerExtract(e,t){const r=gc[t[1].toLowerCase()],n=Ec(t[2]);if(n>31)return null;if(this.shouldSkipYearLikeDate&&!t[3]&&!t[4]&&t[2].match(/^2[0-5]$/))return null;const s=e.createParsingComponents({day:n,month:r}).addTag("parser/ENMonthNameMiddleEndianParser");if(t[4]){const e=kc(t[4]);s.assign("year",e)}else{const t=pc(e.refDate,n,r);s.imply("year",t)}if(!t[3])return s;const a=Ec(t[3]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}}const zc=new RegExp(`((?:in)\\s*)?(${hc(gc)})\\s*(?:[,-]?\\s*(${_c})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i");class Wc extends Dc{innerPattern(){return zc}innerExtract(e,t){const r=t[2].toLowerCase();if(t[0].length<=3&&!yc[r])return null;const n=e.createParsingResult(t.index+(t[1]||"").length,t.index+t[0].length);n.start.imply("day",1),n.start.addTag("parser/ENMonthNameParser");const s=gc[r];if(n.start.assign("month",s),t[3]){const e=kc(t[3]);n.start.assign("year",e)}else{const t=pc(e.refDate,1,s);n.start.imply("year",t)}return n}}const Bc=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${hc(gc)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i");class Kc extends Dc{innerPattern(){return Bc}innerExtract(e,t){const r=t[3]?parseInt(t[3]):gc[t[2].toLowerCase()];if(r<1||r>12)return null;const n=parseInt(t[1]);return{day:parseInt(t[4]),month:r,year:n}}}const Hc=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i");class Qc extends Dc{innerPattern(){return Hc}innerExtract(e,t){const r=parseInt(t[2]),n=parseInt(t[1]);return e.createParsingComponents().imply("day",1).assign("month",n).assign("year",r)}}class Gc{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){const r=this.extractPrimaryTimeComponents(e,t);if(!r)return t[0].match(/^\d{4}/)?(t.index+=4,null):(t.index+=t[0].length,null);const n=t.index+t[1].length,s=t[0].substring(t[1].length),a=e.createParsingResult(n,s,r);t.index+=t[0].length;const o=e.text.substring(t.index),i=this.getFollowingTimePatternThroughCache().exec(o);if(s.match(/^\d{3,4}/)&&i){if(i[0].match(/^\s*([+-])\s*\d{2,4}$/))return null;if(i[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))return null}return!i||i[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,i,a),a.end&&(a.text+=i[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,r=!1){const n=e.createParsingComponents();let s=0,a=null,o=parseInt(t[2]);if(o>100){if(this.strictMode||null!=t[3])return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(null!=t[3]){if(1==t[3].length&&!t[6])return null;s=parseInt(t[3])}if(s>=60)return null;if(o>12&&(a=Hl.PM),null!=t[6]){if(o>12)return null;const e=t[6][0].toLowerCase();"a"==e&&(a=Hl.AM,12==o&&(o=0)),"p"==e&&(a=Hl.PM,12!=o&&(o+=12))}if(n.assign("hour",o),n.assign("minute",s),null!==a?n.assign("meridiem",a):o<12?n.imply("meridiem",Hl.AM):n.imply("meridiem",Hl.PM),null!=t[5]){const e=parseInt(t[5].substring(0,3));if(e>=1e3)return null;n.assign("millisecond",e)}if(null!=t[4]){const e=parseInt(t[4]);if(e>=60)return null;n.assign("second",e)}return n}extractFollowingTimeComponents(e,t,r){const n=e.createParsingComponents();if(null!=t[5]){const e=parseInt(t[5].substring(0,3));if(e>=1e3)return null;n.assign("millisecond",e)}if(null!=t[4]){const e=parseInt(t[4]);if(e>=60)return null;n.assign("second",e)}let s=parseInt(t[2]),a=0,o=-1;if(null!=t[3]?a=parseInt(t[3]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=Hl.PM),null!=t[6]){if(s>12)return null;const e=t[6][0].toLowerCase();"a"==e&&(o=Hl.AM,12==s&&(s=0,n.isCertain("day")||n.imply("day",n.get("day")+1))),"p"==e&&(o=Hl.PM,12!=s&&(s+=12)),r.start.isCertain("meridiem")||(o==Hl.AM?(r.start.imply("meridiem",Hl.AM),12==r.start.get("hour")&&r.start.assign("hour",0)):(r.start.imply("meridiem",Hl.PM),12!=r.start.get("hour")&&r.start.assign("hour",r.start.get("hour")+12)))}return n.assign("hour",s),n.assign("minute",a),o>=0?n.assign("meridiem",o):r.start.isCertain("meridiem")&&r.start.get("hour")>12?r.start.get("hour")-12>s?n.imply("meridiem",Hl.AM):s<=12&&(n.assign("hour",s+12),n.assign("meridiem",Hl.PM)):s>12?n.imply("meridiem",Hl.PM):s<=12&&n.imply("meridiem",Hl.AM),n.date().getTime()<r.start.date().getTime()&&n.imply("day",n.get("day")+1),n}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/))return null;if(e.text.match(/^\d\d\d+$/))return null;if(e.text.match(/\d[apAP]$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){const e=t[1];if(this.strictMode)return null;if(e.includes(".")&&!e.match(/\d(\.\d{2})+$/))return null;if(parseInt(e)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;const e=t[1],r=t[2];if(r.includes(".")&&!r.match(/\d(\.\d{2})+$/))return null;const n=parseInt(r),s=parseInt(e);if(n>24||s>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t||(this.cachedPrimaryTimePattern=function(e,t,r,n){return new RegExp(`${e}${t}(\\d{1,4})(?:(?:\\.|:|：)(\\d{1,2})(?:(?::|：)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${r}`,n)}(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t),this.cachedPrimaryTimePattern}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t||(this.cachedFollowingTimePatten=function(e,t){return new RegExp(`^(${e})(\\d{1,4})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,"i")}(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t),this.cachedFollowingTimePatten}}class Jc extends Gc{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\–|\\~|\\〜|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const r=super.extractPrimaryTimeComponents(e,t);if(!r)return r;if(t[0].endsWith("night")){const e=r.get("hour");e>=6&&e<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",Hl.PM)):e<6&&r.assign("meridiem",Hl.AM)}if(t[0].endsWith("afternoon")){r.assign("meridiem",Hl.PM);const e=r.get("hour");e>=0&&e<=6&&r.assign("hour",r.get("hour")+12)}return t[0].endsWith("morning")&&(r.assign("meridiem",Hl.AM),r.get("hour")<12&&r.assign("hour",r.get("hour"))),r.addTag("parser/ENTimeExpressionParser")}}function Xc(e){const t={};for(const r in e)t[r]=-e[r];return t}const Zc=new RegExp(`(${Tc})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),ed=new RegExp(`(${Oc})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i");class td extends Dc{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?ed:Zc}innerExtract(e,t){const r=Xc(Ic(t[1]));return cc.createRelativeFromReference(e.reference,r)}}const rd=new RegExp(`(${Tc})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),nd=new RegExp(`(${Oc})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i");class sd extends Dc{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?nd:rd}innerExtract(e,t){const r=Ic(t[1]);return cc.createRelativeFromReference(e.reference,r)}}class ad{refine(e,t){return t.filter((t=>this.isValid(e,t)))}}class od{refine(e,t){if(t.length<2)return t;const r=[];let n=t[0],s=null;for(let a=1;a<t.length;a++){s=t[a];const o=e.text.substring(n.index+n.text.length,s.index);if(this.shouldMergeResults(o,n,s,e)){const t=n,r=s,a=this.mergeResults(o,t,r,e);e.debug((()=>{console.log(`${this.constructor.name} merged ${t} and ${r} into ${a}`)})),n=a}else r.push(n),n=s}return null!=n&&r.push(n),r}}class id extends od{shouldMergeResults(e,t,r){return!t.end&&!r.end&&null!=e.match(this.patternBetween())}mergeResults(e,t,r){if(t.start.isOnlyWeekdayComponent()||r.start.isOnlyWeekdayComponent()||(r.start.getCertainComponents().forEach((e=>{t.start.isCertain(e)||t.start.imply(e,r.start.get(e))})),t.start.getCertainComponents().forEach((e=>{r.start.isCertain(e)||r.start.imply(e,t.start.get(e))}))),t.start.date().getTime()>r.start.date().getTime()){let e=t.start.dayjs(),n=r.start.dayjs();r.start.isOnlyWeekdayComponent()&&n.add(7,"days").isAfter(e)?(n=n.add(7,"days"),r.start.imply("day",n.date()),r.start.imply("month",n.month()+1),r.start.imply("year",n.year())):t.start.isOnlyWeekdayComponent()&&e.add(-7,"days").isBefore(n)?(e=e.add(-7,"days"),t.start.imply("day",e.date()),t.start.imply("month",e.month()+1),t.start.imply("year",e.year())):r.start.isDateWithUnknownYear()&&n.add(1,"years").isAfter(e)?(n=n.add(1,"years"),r.start.imply("year",n.year())):t.start.isDateWithUnknownYear()&&e.add(-1,"years").isBefore(n)?(e=e.add(-1,"years"),t.start.imply("year",e.year())):[r,t]=[t,r]}const n=t.clone();return n.start=t.start,n.end=r.start,n.index=Math.min(t.index,r.index),t.index<r.index?n.text=t.text+e+r.text:n.text=r.text+e+t.text,n}}class ld extends id{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}}function cd(e,t){const r=e.clone(),n=e.start,s=t.start;if(r.start=dd(n,s),null!=e.end||null!=t.end){const n=dd(null==e.end?e.start:e.end,null==t.end?t.start:t.end);if(null==e.end&&n.date().getTime()<r.start.date().getTime()){const e=n.dayjs().add(1,"day");n.isCertain("day")?ec(n,e):rc(n,e)}r.end=n}return r}function dd(e,t){const r=e.clone();return t.isCertain("hour")?(r.assign("hour",t.get("hour")),r.assign("minute",t.get("minute")),t.isCertain("second")?(r.assign("second",t.get("second")),t.isCertain("millisecond")?r.assign("millisecond",t.get("millisecond")):r.imply("millisecond",t.get("millisecond"))):(r.imply("second",t.get("second")),r.imply("millisecond",t.get("millisecond")))):(r.imply("hour",t.get("hour")),r.imply("minute",t.get("minute")),r.imply("second",t.get("second")),r.imply("millisecond",t.get("millisecond"))),t.isCertain("timezoneOffset")&&r.assign("timezoneOffset",t.get("timezoneOffset")),t.isCertain("meridiem")?r.assign("meridiem",t.get("meridiem")):null!=t.get("meridiem")&&null==r.get("meridiem")&&r.imply("meridiem",t.get("meridiem")),r.get("meridiem")==Hl.PM&&r.get("hour")<12&&(t.isCertain("hour")?r.assign("hour",r.get("hour")+12):r.imply("hour",r.get("hour")+12)),r.addTags(e.tags()),r.addTags(t.tags()),r}class ud extends od{shouldMergeResults(e,t,r){return(t.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&t.start.isOnlyTime())&&null!=e.match(this.patternBetween())}mergeResults(e,t,r){const n=t.start.isOnlyDate()?cd(t,r):cd(r,t);return n.index=t.index,n.text=t.text+e+r.text,n}}class hd extends ud{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|:)?\\s*$")}}const md=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i");class pd{constructor(e){this.timezoneOverrides=e}refine(e,t){const r=e.option.timezones??{};return t.forEach((t=>{const n=e.text.substring(t.index+t.text.length),s=md.exec(n);if(!s)return;const a=s[1].toUpperCase(),o=t.start.date()??t.refDate??new Date,i={...this.timezoneOverrides,...r},l=ic(a,o,i);if(null==l)return;e.debug((()=>{console.log(`Extracting timezone: '${a}' into: ${l} for: ${t.start}`)}));const c=t.start.get("timezoneOffset");if(null!==c&&l!=c){if(t.start.isCertain("timezoneOffset"))return;if(a!=s[1])return}t.start.isOnlyDate()&&a!=s[1]||(t.text+=s[0],t.start.isCertain("timezoneOffset")||t.start.assign("timezoneOffset",l),null==t.end||t.end.isCertain("timezoneOffset")||t.end.assign("timezoneOffset",l))})),t}}const fd=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i");class yd{refine(e,t){return t.forEach((function(t){if(t.start.isCertain("timezoneOffset"))return;const r=e.text.substring(t.index+t.text.length),n=fd.exec(r);if(!n)return;e.debug((()=>{console.log(`Extracting timezone: '${n[0]}' into : ${t}`)}));let s=60*parseInt(n[2])+parseInt(n[3]||"0");s>840||("-"===n[1]&&(s=-s),null!=t.end&&t.end.assign("timezoneOffset",s),t.start.assign("timezoneOffset",s),t.text+=n[0])})),t}}class gd{refine(e,t){if(t.length<2)return t;const r=[];let n=t[0];for(let s=1;s<t.length;s++){const a=t[s];if(a.index>=n.index+n.text.length){r.push(n),n=a;continue}let o=null,i=null;a.text.length>n.text.length?(o=a,i=n):(o=n,i=a),e.debug((()=>{console.log(`${this.constructor.name} remove ${i} by ${o}`)})),n=o}return null!=n&&r.push(n),r}}class vd{refine(e,t){return e.option.forwardDate?(t.forEach((function(t){let r=Zl(e.refDate);if(t.start.isOnlyTime()&&r.isAfter(t.start.dayjs())&&(r=r.add(1,"day"),rc(t.start,r),t.end&&t.end.isOnlyTime()&&(rc(t.end,r),t.start.dayjs().isAfter(t.end.dayjs())&&(r=r.add(1,"day"),rc(t.end,r)))),t.start.isOnlyWeekdayComponent()&&r.isAfter(t.start.dayjs())&&(r=r.day()>=t.start.get("weekday")?r.day(t.start.get("weekday")+7):r.day(t.start.get("weekday")),t.start.imply("day",r.date()),t.start.imply("month",r.month()+1),t.start.imply("year",r.year()),e.debug((()=>{console.log(`Forward weekly adjusted for ${t} (${t.start})`)})),t.end&&t.end.isOnlyWeekdayComponent()&&(r=r.day()>t.end.get("weekday")?r.day(t.end.get("weekday")+7):r.day(t.end.get("weekday")),t.end.imply("day",r.date()),t.end.imply("month",r.month()+1),t.end.imply("year",r.year()),e.debug((()=>{console.log(`Forward weekly adjusted for ${t} (${t.end})`)})))),t.start.isDateWithUnknownYear()&&r.isAfter(t.start.dayjs()))for(let n=0;n<3&&r.isAfter(t.start.dayjs());n++)t.start.imply("year",t.start.get("year")+1),e.debug((()=>{console.log(`Forward yearly adjusted for ${t} (${t.start})`)})),t.end&&!t.end.isCertain("year")&&(t.end.imply("year",t.end.get("year")+1),e.debug((()=>{console.log(`Forward yearly adjusted for ${t} (${t.end})`)})))})),t):t}}class bd extends ad{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug((()=>{console.log(`Removing unlikely result '${t.text}'`)})),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug((()=>{console.log(`Removing invalid result: ${t} (${t.end})`)})),!1):!this.strictMode||this.isStrictModeValid(e,t):(e.debug((()=>{console.log(`Removing invalid result: ${t} (${t.start})`)})),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug((()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)})),!1):!!(!t.start.isOnlyTime()||t.start.isCertain("hour")&&t.start.isCertain("minute"))||(e.debug((()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)})),!1)}}const $d=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i");class wd extends Dc{innerPattern(){return $d}innerExtract(e,t){const r={};if(r.year=parseInt(t[1]),r.month=parseInt(t[2]),r.day=parseInt(t[3]),null!=t[4])if(r.hour=parseInt(t[4]),r.minute=parseInt(t[5]),null!=t[6]&&(r.second=parseInt(t[6])),null!=t[7]&&(r.millisecond=parseInt(t[7])),null==t[8])r.timezoneOffset=0;else{const e=parseInt(t[8]);let n=0;null!=t[9]&&(n=parseInt(t[9]));let s=60*e;s<0?s-=n:s+=n,r.timezoneOffset=s}return r}}class Sd extends od{mergeResults(e,t,r){const n=r.clone();return n.index=t.index,n.text=t.text+e+n.text,n.start.assign("weekday",t.start.get("weekday")),n.end&&n.end.assign("weekday",t.start.get("weekday")),n}shouldMergeResults(e,t,r){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&r.start.isCertain("day")&&null!=e.match(/^,?\s*$/)}}function xd(e,t){let r=Zl(e.instant);const n=new cc(e,{});return r=r.add(t,"day"),ec(n,r),nc(n,r),n}const Ed=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i;class _d extends Dc{innerPattern(e){return Ed}innerExtract(e,t){let r=Zl(e.refDate);const n=t[0].toLowerCase();let s=e.createParsingComponents();switch(n){case"now":s=function(e){const t=Zl(e.instant),r=new cc(e,{});return ec(r,t),tc(r,t),null!==e.timezoneOffset&&r.assign("timezoneOffset",t.utcOffset()),r.addTag("casualReference/now"),r}(e.reference);break;case"today":s=function(e){const t=Zl(e.instant),r=new cc(e,{});return ec(r,t),nc(r,t),r.addTag("casualReference/today"),r}(e.reference);break;case"yesterday":s=function(e,t){return xd(e,-1)}(e.reference).addTag("casualReference/yesterday");break;case"tomorrow":case"tmr":case"tmrw":s=xd(e.reference,1).addTag("casualReference/tomorrow");break;case"tonight":s=function(e,t=22){const r=Zl(e.instant),n=new cc(e,{});return ec(n,r),n.imply("hour",t),n.imply("meridiem",Hl.PM),n.addTag("casualReference/tonight"),n}(e.reference);break;default:n.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),ec(s,r),s.imply("hour",0))}return s.addTag("parser/ENCasualDateParser"),s}}const kd=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i;class Cd extends Dc{innerPattern(){return kd}innerExtract(e,t){let r=null;switch(t[1].toLowerCase()){case"afternoon":r=function(e,t=15){const r=new cc(e,{});return r.imply("meridiem",Hl.PM),r.imply("hour",t),r.imply("minute",0),r.imply("second",0),r.imply("millisecond",0),r.addTag("casualReference/afternoon"),r}(e.reference);break;case"evening":case"night":r=function(e,t=20){const r=new cc(e,{});return r.imply("meridiem",Hl.PM),r.imply("hour",t),r.addTag("casualReference/evening"),r}(e.reference);break;case"midnight":r=function(e){const t=new cc(e,{}),r=Zl(e.instant);return r.hour()>2&&function(e,t){rc(e,t=t.add(1,"day")),nc(e,t)}(t,r),t.assign("hour",0),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/midnight"),t}(e.reference);break;case"morning":r=function(e,t=6){const r=new cc(e,{});return r.imply("meridiem",Hl.AM),r.imply("hour",t),r.imply("minute",0),r.imply("second",0),r.imply("millisecond",0),r.addTag("casualReference/morning"),r}(e.reference);break;case"noon":case"midday":r=function(e){const t=new cc(e,{});return t.imply("meridiem",Hl.AM),t.imply("hour",12),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/noon"),t}(e.reference)}return r&&r.addTag("parser/ENCasualTimeParser"),r}}function Pd(e,t){let r=t-e.getDay();return r<0&&(r+=7),r}function Ad(e,t){let r=t-e.getDay();return r>=0&&(r-=7),r}const Nd=new RegExp(`(?:(?:\\,|\\(|\\（)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${hc(fc)})(?:\\s*(?:\\,|\\)|\\）))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i");class Td extends Dc{innerPattern(){return Nd}innerExtract(e,t){const r=t[2].toLowerCase(),n=fc[r],s=t[1],a=t[3];let o=s||a;o=o||"",o=o.toLowerCase();let i=null;return"last"==o||"past"==o?i="last":"next"==o?i="next":"this"==o&&(i="this"),function(e,t,r){const n=function(e,t,r){const n=e.getDay();switch(r){case"this":return Pd(e,t);case"last":return Ad(e,t);case"next":return n==Ql.SUNDAY?t==Ql.SUNDAY?7:t:n==Ql.SATURDAY?t==Ql.SATURDAY?7:t==Ql.SUNDAY?8:1+t:t<n&&t!=Ql.SUNDAY?Pd(e,t):Pd(e,t)+7}return function(e,t){const r=Ad(e,t),n=Pd(e,t);return n<-r?n:r}(e,t)}(e.getDateWithAdjustedTimezone(),t,r);let s=new cc(e);return s=function(e,t){const r=e.clone();let n=e.dayjs();for(const e in t)n=n.add(t[e],e);return("day"in t||"d"in t||"week"in t||"month"in t||"year"in t)&&(r.imply("day",n.date()),r.imply("month",n.month()+1),r.imply("year",n.year())),("second"in t||"minute"in t||"hour"in t)&&(r.imply("second",n.second()),r.imply("minute",n.minute()),r.imply("hour",n.hour())),r}(s,{day:n}),s.assign("weekday",t),s}(e.reference,n,i)}}const Od=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${hc(wc)})(?=\\s*)(?=\\W|$)`,"i");class Id extends Dc{innerPattern(){return Od}innerExtract(e,t){const r=t[1].toLowerCase(),n=t[2].toLowerCase(),s=wc[n];if("next"==r||r.startsWith("after")){const t={};return t[s]=1,cc.createRelativeFromReference(e.reference,t)}if("last"==r||"past"==r){const t={};return t[s]=-1,cc.createRelativeFromReference(e.reference,t)}const a=e.createParsingComponents();let o=Zl(e.reference.instant);return n.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):n.match(/month/i)?(o=o.add(1-o.date(),"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):n.match(/year/i)&&(o=o.add(1-o.date(),"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}}const jd=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i");class Dd{constructor(e){this.groupNumberMonth=e?3:2,this.groupNumberDay=e?2:3}pattern(){return jd}extract(e,t){if(0==t[1].length&&t.index>0&&t.index<e.text.length){const r=e.text[t.index-1];if(r>="0"&&r<="9")return}const r=t.index+t[1].length,n=t[0].substr(t[1].length,t[0].length-t[1].length-t[5].length);if(n.match(/^\d\.\d$/)||n.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/))return;if(!t[4]&&t[0].indexOf("/")<0)return;const s=e.createParsingResult(r,n);let a=parseInt(t[this.groupNumberMonth]),o=parseInt(t[this.groupNumberDay]);if((a<1||a>12)&&a>12){if(!(o>=1&&o<=12&&a<=31))return null;[o,a]=[a,o]}if(o<1||o>31)return null;if(s.start.assign("day",o),s.start.assign("month",a),t[4]){const e=mc(parseInt(t[4]));s.start.assign("year",e)}else{const t=pc(e.refDate,o,a);s.start.imply("year",t)}return s}}const Rd=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${Tc})(?=\\W|$)`,"i"),Md=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${Oc})(?=\\W|$)`,"i");class Fd extends Dc{constructor(e=!0){super(),this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?Rd:Md}innerExtract(e,t){const r=t[1].toLowerCase();let n=Ic(t[2]);switch(r){case"last":case"past":case"-":n=Xc(n)}return cc.createRelativeFromReference(e.reference,n)}}function qd(e){return null!=e.text.match(/^-/i)}class Ud extends od{shouldMergeResults(e,t,r){return!!e.match(/^\s*$/i)&&(null!=r.text.match(/^[+-]/i)||qd(r))}mergeResults(e,t,r,n){let s=Ic(r.text);qd(r)&&(s=Xc(s));const a=cc.createRelativeFromReference(new lc(t.start.date()),s);return new dc(t.reference,t.index,`${t.text}${e}${r.text}`,a)}}function Ld(e){return null!=e.text.match(/\s+(before|from)$/i)}class Yd extends od{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,r){return!(!e.match(this.patternBetween())||!Ld(t)&&(n=t,null==n.text.match(/\s+(after|since)$/i))||!r.start.get("day")||!r.start.get("month")||!r.start.get("year"));var n}mergeResults(e,t,r){let n=Ic(t.text);Ld(t)&&(n=Xc(n));const s=cc.createRelativeFromReference(new lc(r.start.date()),n);return new dc(r.reference,t.index,`${t.text}${e}${r.text}`,s)}}class Vd{createCasualConfiguration(e=!1){const t=this.createConfiguration(!1,e);return t.parsers.push(new _d),t.parsers.push(new Cd),t.parsers.push(new Wc),t.parsers.push(new Id),t.parsers.push(new Fd),t}createConfiguration(e=!0,t=!1){const r=function(e,t=!1){return e.parsers.unshift(new wd),e.refiners.unshift(new Sd),e.refiners.unshift(new yd),e.refiners.unshift(new gd),e.refiners.push(new pd),e.refiners.push(new gd),e.refiners.push(new vd),e.refiners.push(new bd(t)),e}({parsers:[new Dd(t),new qc(e),new Lc,new Vc(t),new Td,new Kc,new Qc,new Jc(e),new td(e),new sd(e)],refiners:[new hd]},e);return r.refiners.unshift(new Yd),r.refiners.unshift(new Ud),r.refiners.unshift(new gd),r.refiners.push(new hd),r.refiners.push(new ld),r}}class zd{constructor(e){this.defaultConfig=new Vd,e=e||this.defaultConfig.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new zd({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,r){const n=this.parse(e,t,r);return n.length>0?n[0].start.date():null}parse(e,t,r){const n=new Wd(e,t,r);let s=[];return this.parsers.forEach((e=>{const t=zd.executeParser(n,e);s=s.concat(t)})),s.sort(((e,t)=>e.index-t.index)),this.refiners.forEach((function(e){s=e.refine(n,s)})),s}static executeParser(e,t){const r=[],n=t.pattern(e),s=e.text;let a=e.text,o=n.exec(a);for(;o;){const i=o.index+s.length-a.length;o.index=i;const l=t.extract(e,o);if(!l){a=s.substring(o.index+1),o=n.exec(a);continue}let c=null;l instanceof dc?c=l:l instanceof cc?(c=e.createParsingResult(o.index,o[0]),c.start=l):c=e.createParsingResult(o.index,o[0],l);const d=c.index,u=c.text;e.debug((()=>console.log(`${t.constructor.name} extracted (at index=${d}) '${u}'`))),r.push(c),a=s.substring(d+u.length),o=n.exec(a)}return r}}class Wd{constructor(e,t,r){this.text=e,this.reference=new lc(t),this.option=r??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof cc?e:new cc(this.reference,e)}createParsingResult(e,t,r,n){const s="string"==typeof t?t:this.text.substring(e,t),a=r?this.createParsingComponents(r):null,o=n?this.createParsingComponents(n):null;return new dc(this.reference,e,s,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}const Bd=new Vd,Kd=new zd(Bd.createCasualConfiguration(!1));new zd(Bd.createConfiguration(!0,!1)),new zd(Bd.createCasualConfiguration(!0));const Hd=Kd;var Qd,Gd;const Jd=(0,O.A)(),Xd=null==Jd||null==(Qd=Jd.common)||null==(Gd=Qd.conf)?void 0:Gd.SCHEDULED_QUERIES,Zd={greater:(e,t)=>e>t,greater_equal:(e,t)=>e>=t,less:(e,t)=>e<t,less_equal:(e,t)=>e<=t},eu=()=>{const e=null==Xd?void 0:Xd.JSONSCHEMA;return e?(Object.entries(e.properties).forEach((([t,r])=>{var n,s;r.default&&"date-time"===r.format&&(e.properties[t]={...r,default:r.default?null==(s=r.default,n=Hd.parseDate(s,undefined,undefined))?void 0:n.toISOString():null})})),e):{}},tu=()=>{const e=(null==Xd?void 0:Xd.VALIDATION)||[];return(t,r)=>(e.forEach((e=>{const n=Zd[e.name],s=e.arguments.map((e=>t[e])),a=e.container||e.arguments.slice(-1)[0];var o;n(...s)||null==(o=r[a])||o.addError(e.message)})),r)},ru=(0,b.I4)(J.fI)`
  padding-bottom: ${({theme:e})=>2*e.gridUnit}px;
`,nu=(0,b.I4)(H.A)`
  ${({theme:e})=>`\n    background: none;\n    text-transform: none;\n    padding: 0px;\n    color: ${e.colors.grayscale.dark2};\n    font-size: 14px;\n    font-weight: ${e.typography.weights.normal};\n    margin-left: 0;\n    &:disabled {\n      margin-left: 0;\n      background: none;\n      color: ${e.colors.grayscale.dark2};\n      &:hover {\n        background: none;\n        color: ${e.colors.grayscale.dark2};\n      }\n    }\n  `}
`,su=b.I4.div`
  i.glyphicon {
    display: none;
  }
  .btn-add::after {
    content: '+';
  }
  .array-item-move-up::after {
    content: '↑';
  }
  .array-item-move-down::after {
    content: '↓';
  }
  .array-item-remove::after {
    content: '-';
  }
`;var au={name:"tjo4qw",styles:"float:right"};const ou=({defaultLabel:e=(0,$.t)("Undefined"),sql:t,schema:r,dbId:s,onSchedule:a=(()=>{}),scheduleQueryWarning:o,tooltip:i,disabled:l=!1})=>{const[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(e),[p,f]=(0,n.useState)(!1),y=(0,n.useRef)();return(0,h.Y)("span",{className:"ScheduleQueryButton",children:(0,h.Y)(oe.A,{ref:y,modalTitle:(0,$.t)("Schedule query"),modalBody:(0,h.FD)(Rr.lV,{layout:"vertical",children:[(0,h.Y)(ru,{children:(0,h.Y)(J.fv,{xs:24,children:(0,h.Y)(Rr.eI,{label:(0,$.t)("Label"),children:(0,h.Y)(X.pd,{type:"text",placeholder:(0,$.t)("Label for your query"),value:u,onChange:e=>m(e.target.value)})})})}),(0,h.Y)(ru,{children:(0,h.Y)(J.fv,{xs:24,children:(0,h.Y)(Rr.eI,{label:(0,$.t)("Description"),children:(0,h.Y)(X.fs,{rows:4,placeholder:(0,$.t)("Write a description for your query"),value:c,onChange:e=>d(e.target.value)})})})}),(0,h.Y)(J.fI,{children:(0,h.Y)(J.fv,{xs:24,children:(0,h.Y)(su,{children:(0,h.Y)(Ml,{schema:eu(),uiSchema:null==Xd?void 0:Xd.UISCHEMA,onSubmit:({formData:e})=>{var n;const o={label:u,description:c,db_id:s,schema:r,sql:t,extra_json:JSON.stringify({schedule_info:e})};a(o),null==y||null==(n=y.current)||n.close()},customValidate:tu(),validator:Kl,children:(0,h.Y)(H.A,{buttonStyle:"primary",htmlType:"submit",css:au,children:(0,$.t)("Submit")})})})})}),o&&(0,h.Y)(J.fI,{children:(0,h.Y)(J.fv,{xs:24,children:(0,h.Y)("small",{children:o})})})]}),triggerNode:(0,h.Y)(nu,{onClick:()=>f(!p),buttonSize:"small",buttonStyle:"link",tooltip:i,disabled:l,children:(0,$.t)("Schedule")})})})};var iu=r(54016);const lu=b.I4.div`
  ${({theme:e})=>a.AH`
    font-size: ${e.typography.sizes.s};
  `}
`,cu=({getEstimate:e,queryEditorId:t,tooltip:r="",disabled:a=!1})=>{const o=(0,s.d4)((e=>{var r;return null==(r=e.sqlLab.queryCostEstimates)?void 0:r[t]})),{selectedText:i}=ce(t,["selectedText"]),{cost:l}=o||{},c=(0,n.useMemo)((()=>Array.isArray(l)?l:[]),[l]),d=(0,n.useMemo)((()=>Array.isArray(l)&&l.length?Object.keys(l[0]).map((e=>({accessor:e,Header:e}))):[]),[l]),u=i?(0,$.t)("Estimate selected query cost"):(0,$.t)("Estimate cost");return(0,h.Y)("span",{className:"EstimateQueryCostButton",children:(0,h.Y)(oe.A,{modalTitle:(0,$.t)("Cost estimate"),modalBody:null!=o&&o.error?(0,h.Y)(re.A,{type:"error",message:null==o?void 0:o.error},"query-estimate-error"):null!=o&&o.completed?(0,h.Y)(lu,{children:(0,h.Y)(St.A,{columns:d,data:c,withPagination:!1,emptyWrapperType:iu.V.Small})}):(0,h.Y)(jt.A,{position:"normal"}),triggerNode:(0,h.Y)(H.A,{style:{height:32,padding:"4px 15px"},onClick:()=>{e()},tooltip:r,disabled:a,children:u},"query-estimate-btn")})})};var du=r(51436),uu=r(5261);const hu=(0,b.I4)(ee.A.Link)`
  &:first-of-type {
    margin: 0;
    display: flex;
    svg {
      margin: 0;
    }
  }
`,mu=(0,uu.Ay)((({queryEditorId:e,addDangerToast:t})=>{const r=(0,b.DP)(),n=ne({queryEditorId:e}),{dbId:s,name:a,schema:i,autorun:l,sql:c,remoteId:d,templateParams:u}=ce(e,["dbId","name","schema","autorun","sql","remoteId","templateParams"]),m=e=>{const t=e?(0,$.t)("Copy query link to your clipboard"):(0,$.t)("Save the query to enable this feature");return(0,h.FD)(H.A,{buttonSize:"small",tooltip:t,disabled:!e,children:[(0,h.Y)(hu,{iconColor:e?r.colors.primary.base:r.colors.grayscale.base,iconSize:"xl"}),(0,$.t)("Copy link")]})},p=!!d||(0,o.G7)(o.TO.ShareQueriesViaKvStore);return(0,h.Y)(h.FK,{children:p?(0,h.Y)(Yt.A,{getText:e=>(n(x.GM,{shortcut:!1}),(0,o.G7)(o.TO.ShareQueriesViaKvStore)?(e=>{const r={dbId:s,name:a,schema:i,autorun:l,sql:c,templateParams:u};return(0,N.Kt)(r).then((t=>{e(t)})).catch((e=>{(0,du.h4)(e).then((()=>{t((0,$.t)("There was an error with your request"))}))}))})(e):(e=>{let t;d?(t=`${window.location.origin+window.location.pathname}?savedQueryId=${d}`,e(t)):(t=(0,$.t)("Please save the query to enable sharing"),e(t))})(e)),wrapped:!1,copyNode:m(p)}):m(p)})}));var pu=r(86663),fu=r(61693),yu=r(8791),gu=r(71478);const vu=e=>{const t=(0,b.DP)();return(0,h.Y)(a.Z2,{children:({css:r})=>(0,h.Y)(A.m,{overlayClassName:r`
            .ant-tooltip-inner {
              max-width: ${125*t.gridUnit}px;
              word-wrap: break-word;
              text-align: center;

              pre {
                background: transparent;
                border: none;
                text-align: left;
                color: ${t.colors.grayscale.light5};
                font-size: ${t.typography.sizes.xs}px;
              }
            }
          `,...e})})},bu=b.I4.hr`
  margin-top: ${({theme:e})=>1.5*e.gridUnit}px;
`,$u={pk:"fa-key",fk:"fa-link",index:"fa-bookmark"},wu={pk:(0,$.t)("Primary key"),fk:(0,$.t)("Foreign key"),index:(0,$.t)("Index")},Su=b.I4.div`
  white-space: nowrap;
`,xu=({column:e})=>{let t,r=e.name;return e.keys&&e.keys.length>0&&(r=(0,h.Y)("strong",{children:e.name}),t=e.keys.map(((e,t)=>(0,h.Y)("span",{className:"ColumnElement",children:(0,h.Y)(vu,{placement:"right",title:(0,h.FD)(h.FK,{children:[(0,h.Y)("strong",{children:wu[e.type]}),(0,h.Y)(bu,{}),(0,h.Y)("pre",{className:"text-small",children:JSON.stringify(e,null,"  ")})]}),children:(0,h.Y)("i",{className:`fa text-muted m-l-2 ${$u[e.type]}`})})},t)))),(0,h.FD)("div",{className:"clearfix table-column",children:[(0,h.FD)("div",{className:"pull-left m-l-10 col-name",children:[r,t]}),(0,h.Y)(Su,{className:"pull-right text-muted",children:(0,h.FD)("small",{children:[" ",e.type]})})]})};function Eu({tooltipText:e,title:t,sql:r}){return(0,h.Y)(oe.A,{modalTitle:t,triggerNode:(0,h.Y)(wr,{className:"fa fa-eye pull-left m-l-2",tooltip:e}),modalBody:(0,h.Y)("div",{children:(0,h.Y)(tr.A,{language:"sql",style:nr.A,children:r})})})}tr.A.registerLanguage("sql",rr.A);const _u=b.I4.span`
  color: ${({theme:e})=>e.colors.primary.dark1};
  &:hover {
    color: ${({theme:e})=>e.colors.primary.dark2};
  }
  cursor: pointer;
`,ku=b.I4.div`
  transition: all ${({theme:e})=>e.transitionTiming}s;
  opacity: ${e=>e.hovered?1:0};
`,Cu=(0,b.I4)(fu.A.Panel)`
  ${({theme:e})=>a.AH`
    & {
      .ws-el-controls {
        margin-right: ${-e.gridUnit}px;
        display: flex;
      }

      .header-container {
        display: flex;
        flex: 1;
        align-items: center;
        width: 100%;

        .table-name {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          font-size: ${e.typography.sizes.l}px;
          flex: 1;
        }

        .header-right-side {
          margin-left: auto;
          display: flex;
          align-items: center;
          margin-right: ${8*e.gridUnit}px;
        }
      }
    }
  `}
`;var Pu={name:"1hs1mx1",styles:"padding-top:6px"};const Au=({table:e,...t})=>{const{dbId:r,catalog:o,schema:i,name:l,expanded:c}=e,u=(0,b.DP)(),m=(0,s.wA)(),{currentData:p,isSuccess:f,isFetching:y,isError:g}=(0,gu.rq)({dbId:r,catalog:o,schema:i,table:l},{skip:!c}),{currentData:v,isSuccess:w,isLoading:S,isError:x}=(0,gu.ii)({dbId:r,catalog:o,schema:i,table:l},{skip:!c});(0,n.useEffect)((()=>{(g||x)&&m((0,d.addDangerToast)((0,$.t)("An error occurred while fetching table metadata")))}),[g,x,m]);const E={...p,...v},_=(0,V.A)((()=>{const{initialized:t}=e;t||m((0,d.syncTable)(e,E))}));(0,n.useEffect)((()=>{f&&w&&_()}),[f,w,_]);const[k,C]=(0,n.useState)(!1),[P,N]=(0,n.useState)(!1),T=(0,n.useRef)(null),O=e=>{Y()((()=>N(e)),100)()},I=()=>{m((0,d.removeDataPreview)(e)),m((0,d.removeTables)([e]))},j=()=>{C((e=>!e))},D=()=>{m(gu.z7.invalidateTags([{type:"TableMetadatas",id:l}])),m((0,d.syncTable)(e,E))},R=()=>{let e,t;if(E.partitions){var r;let t,n;if(E.partitions.partitionQuery){({partitionQuery:t}=E.partitions);const e=(0,$.t)("Copy partition query to clipboard");n=(0,h.Y)(Yt.A,{text:t,shouldShowText:!1,tooltipText:e,copyNode:(0,h.Y)("i",{className:"fa fa-clipboard"})})}const s=Object.entries((null==(r=E.partitions)?void 0:r.latest)||[]).map((([e,t])=>`${e}=${t}`)).join("/");e=(0,h.FD)("div",{children:[(0,h.FD)("small",{children:[(0,$.t)("latest partition:")," ",s]})," ",n]})}var n;return E.metadata&&(t=Object.entries(E.metadata).map((([e,t])=>(0,h.Y)("div",{children:(0,h.FD)("small",{children:[(0,h.FD)("strong",{children:[e,":"]})," ",t]})}))),null==(n=t)||!n.length)?null:e?(0,h.FD)($e.A,{size:"small",children:[e,t]}):null},M=()=>{var e;let t;const r=(0,$.t)("Keys for table");return null!=E&&null!=(e=E.indexes)&&e.length&&(t=(0,h.Y)(oe.A,{modalTitle:`${r} ${l}`,modalBody:E.indexes.map(((e,t)=>(0,h.Y)("pre",{children:JSON.stringify(e,null,"  ")},t))),triggerNode:(0,h.Y)(wr,{className:"fa fa-key pull-left m-l-2",tooltip:(0,$.t)("View keys & indexes (%s)",E.indexes.length)})})),(0,h.FD)(_t,{css:a.AH`
          display: flex;
          column-gap: ${1.5*u.gridUnit}px;
          margin-right: ${u.gridUnit}px;
          & span {
            display: flex;
            justify-content: center;
            width: ${4*u.gridUnit}px;
          }
        `,children:[(0,h.Y)(wr,{className:"fa fa-refresh pull-left m-l-2 pointer",onClick:D,tooltip:(0,$.t)("Refresh table schema")}),t,(0,h.Y)(wr,{className:`fa fa-sort-${k?"numeric":"alpha"}-asc pull-left sort-cols m-l-2 pointer`,onClick:j,tooltip:k?(0,$.t)("Original table column order"):(0,$.t)("Sort columns alphabetically")}),E.selectStar&&(0,h.Y)(Yt.A,{copyNode:(0,h.Y)(wr,{"aria-label":"Copy",tooltip:(0,$.t)("Copy SELECT statement to the clipboard"),children:(0,h.Y)("i",{"aria-hidden":!0,className:"fa fa-clipboard pull-left m-l-2"})}),text:E.selectStar,shouldShowText:!1}),E.view&&(0,h.Y)(Eu,{sql:E.view,tooltipText:(0,$.t)("Show CREATE VIEW statement"),title:(0,$.t)("CREATE VIEW statement")}),(0,h.Y)(wr,{className:"fa fa-times table-remove pull-left m-l-2 pointer",onClick:I,tooltip:(0,$.t)("Remove table preview")})]})};return(0,a.n)(Cu,{...t,key:e.id,header:(()=>{const e=T.current;let t=[];return e&&e.offsetWidth<e.scrollWidth&&(t=["hover"]),(0,h.FD)("div",{className:"clearfix header-container",onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:[(0,h.Y)(A.m,{id:"copy-to-clipboard-tooltip",style:{cursor:"pointer"},title:l,trigger:t,children:(0,h.Y)(_u,{ref:T,className:"table-name",children:(0,h.Y)("strong",{children:l})})}),(0,h.Y)("div",{className:"pull-right header-right-side",children:y||S?(0,h.Y)(jt.A,{position:"inline"}):(0,h.Y)(ku,{hovered:P,onClick:e=>e.stopPropagation(),children:M()})})]})})(),className:"TableElement",forceRender:!0},(()=>{var e;let t;return E.columns&&(t=E.columns.slice(),k&&t.sort(((e,t)=>{const r=e.name.toUpperCase(),n=t.name.toUpperCase();return r<n?-1:r>n?1:0}))),(0,h.FD)("div",{onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),css:Pu,children:[R(),(0,h.Y)("div",{children:null==(e=t)?void 0:e.map((e=>(0,h.Y)(xu,{column:e},e.name)))})]})})())},Nu=b.I4.div`
  flex: 1 1 auto;
  overflow: auto;
`,Tu=e=>a.AH`
  .ant-collapse-item {
    margin-bottom: ${3*e.gridUnit}px;
  }
  .ant-collapse-header {
    padding: 0px !important;
    display: flex;
    align-items: center;
  }
  .ant-collapse-content-box {
    padding: 0px ${4*e.gridUnit}px 0px 0px !important;
  }
  .ant-collapse-arrow {
    padding: 0 !important;
    bottom: ${e.gridUnit}px !important;
    right: ${4*e.gridUnit}px !important;
    color: ${e.colors.primary.dark1} !important;
    &:hover {
      color: ${e.colors.primary.dark2} !important;
    }
  }
`,Ou=b.I4.div`
  ${({theme:e})=>a.AH`
    height: 100%;
    display: flex;
    flex-direction: column;

    .divider {
      border-bottom: 1px solid ${e.colors.grayscale.light4};
      margin: ${4*e.gridUnit}px 0;
    }
  `}
`,Iu=({database:e,queryEditorId:t,height:r=500})=>{const o=(0,s.d4)((({sqlLab:e})=>e.tables.filter((e=>e.queryEditorId===t))),s.bN),i=(0,s.wA)(),l=ce(t,["dbId","catalog","schema"]),[c,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),{catalog:f,schema:y}=l;(0,n.useEffect)((()=>{const t=pu.parse(window.location.search).db,r=(0,te.Gq)(te.Hh.Database,null);t&&r?(p(r),(0,te.SO)(te.Hh.Database,null)):e&&p(e)}),[e]);const g=(0,n.useCallback)((e=>{u(!!e)}),[]),v=(0,n.useMemo)((()=>(null==o?void 0:o.map((e=>e.name)))||[]),[o]),b="?reset=1"===window.location.search,w=r-130,S=(0,n.useCallback)((e=>{l&&i((0,d.queryEditorSetCatalog)(l,e))}),[i,l]),x=(0,n.useCallback)((e=>{l&&i((0,d.queryEditorSetSchema)(l,e))}),[i,l]),E=(0,n.useCallback)((e=>{i((0,d.setDatabases)(e))}),[i]),_=(0,n.useCallback)((e=>{i((0,d.addDangerToast)(e))}),[i]),k=(0,n.useCallback)((()=>{i((0,d.resetState)())}),[i]);return(0,h.FD)(Ou,{children:[(0,h.Y)(yu.Kt,{onEmptyResults:g,emptyState:(0,T.Ek)(c),database:m,getDbList:E,handleError:_,onDbChange:({id:e})=>{i((0,d.queryEditorSetDb)(l,e))},onCatalogChange:S,catalog:f,onSchemaChange:x,schema:y,onTableSelectChange:(e,t,r)=>{if(!r)return;const n=[...o];e.filter((e=>{const t=n.findIndex((t=>t.name===e));return!(t>=0&&(n.splice(t,1),1))})).forEach((e=>{i((0,d.addTable)(l,e,t,r))})),i((0,d.removeTables)(n))},tableValue:v,sqlLabMode:!0}),(0,h.Y)("div",{className:"divider"}),(0,h.Y)(Nu,{children:(0,h.Y)("div",{css:a.AH`
            height: ${w}px;
          `,children:(0,h.Y)(fu.A,{activeKey:o.filter((({expanded:e})=>e)).map((({id:e})=>e)),css:Tu,expandIconPosition:"right",ghost:!0,onChange:e=>{o.forEach((t=>{!e.includes(t.id.toString())&&t.expanded?i((0,d.collapseTable)(t)):e.includes(t.id.toString())&&!t.expanded&&i((0,d.expandTable)(t))}))},expandIcon:({isActive:e})=>(0,h.Y)(wr,{css:a.AH`
        transform: rotate(90deg);
      `,"aria-label":"Collapse",tooltip:e?(0,$.t)("Collapse table preview"):(0,$.t)("Expand table preview"),children:(0,h.Y)(ee.A.RightOutlined,{iconSize:"s",css:a.AH`
          transform: ${e?"rotateY(180deg)":""};
        `})}),children:o.map((e=>(0,h.Y)(Au,{table:e},e.id)))})})}),b&&(0,h.FD)(H.A,{buttonSize:"small",buttonStyle:"danger",onClick:k,children:[(0,h.Y)("i",{className:"fa fa-bomb"})," ",(0,$.t)("Reset state")]})]})};var ju=r(1639);const Du=[];var Ru=r(28274);const Mu=i.F.injectEndpoints({endpoints:e=>({databaseFunctions:e.query({providesTags:["DatabaseFunctions"],query:({dbId:e})=>({endpoint:`/api/v1/database/${e}/function_names/`,transformResponse:({json:e})=>e.function_names})})})}),{useDatabaseFunctionsQuery:Fu}=Mu,qu=[],{useQueryState:Uu}=gu.IX.schemas,{useQueryState:Lu}=gu.PG.tables,Yu=e=>e.length>30&&{docText:e},Vu=(0,B.a)(),zu=(0,b.I4)(ie.pw)`
  ${({theme:e})=>a.AH`
    && {
      // double class is better than !important
      border: 1px solid ${e.colors.grayscale.light2};
      font-feature-settings:
        'liga' off,
        'calt' off;
    }
  `}
`,Wu=({autocomplete:e,onBlur:t=(()=>{}),onChange:r=(()=>{}),queryEditorId:o,onCursorPositionChange:l,height:c,hotkeys:u})=>{var m;const p=(0,s.wA)(),f=ce(o,["id","dbId","sql","catalog","schema","templateParams"]),y=(0,s.d4)((({sqlLab:{queryEditors:e}})=>{const{cursorPosition:t}={...e.find((({id:e})=>e===o))};return null!=t?t:{row:0,column:0}}),s.bN),g=null!=(m=f.sql)?m:"",[v,S]=(0,n.useState)(g),x=(0,n.useRef)("");(0,n.useEffect)((()=>{p((0,d.queryEditorSetSelectedText)(f,null))}),[]);const E=(0,kt.Z)(g);(0,n.useEffect)((()=>{g!==E&&S(g)}),[g]);const{data:_}=function(e){const{sql:t,dbId:r,schema:n,templateParams:a}=e,o=(0,Ft.Q)(t,w.$V),i=(0,s.d4)((({sqlLab:e,common:t})=>{var n,s,a,o;return Boolean(null==t||null==(n=t.conf)||null==(s=n.SQL_VALIDATORS_BY_ENGINE)?void 0:s[null==e||null==(a=e.databases)||null==(o=a[r||""])?void 0:o.backend])}));return(0,gu.IV)({dbId:r,schema:n,sql:o,templateParams:a},{skip:!(i&&r&&t),selectFromResult:({isLoading:e,isError:t,error:r,data:n})=>{const s=null!=r?r:{};let a=(null==s?void 0:s.error)||(null==s?void 0:s.statusText)||(0,$.t)("Unknown error");return a.includes("CSRF token")&&(a=(0,$.t)(ju.HL.SESSION_TIMED_OUT)),{data:!e&&null!=n&&n.length?n.map((e=>({type:"error",row:(e.line_number||0)-1,column:(e.start_column||0)-1,text:e.message}))):t?[{type:"error",row:0,column:0,text:`The server failed to validate your query.\n${a}`}]:Du}}})}({dbId:f.dbId,catalog:f.catalog,schema:f.schema,sql:g,templateParams:f.templateParams}),k=function({queryEditorId:e,dbId:t,catalog:r,schema:a},o=!1){const l=Vu.get("sqleditor.extension.customAutocomplete"),c=null==l?void 0:l({queryEditorId:String(e),dbId:t,catalog:r,schema:a}),u=(0,s.wA)(),h=(0,n.useRef)(!1),m=h&&o,{currentData:p}=Uu({dbId:t,catalog:r||void 0,forceRefresh:!1},{skip:m||!t}),{currentData:f}=Lu({dbId:t,catalog:r,schema:a,forceRefresh:!1},{skip:m||!t||!a}),{currentData:y,isError:g}=Fu({dbId:t},{skip:m||!t});(0,n.useEffect)((()=>{g&&u((0,d.addDangerToast)((0,$.t)("An error occurred while fetching function names.")))}),[u,g]);const v=(0,s.d4)((({sqlLab:t})=>{var r;return o?[]:(null!=(r=null==t?void 0:t.tables)?r:[]).filter((t=>t.queryEditorId===e)).map((e=>e.name))}),s.bN),b=(0,s.Pj)().getState()[i.F.reducerPath],S=(0,n.useMemo)((()=>{const e=new Set;return v.forEach((n=>{var s,o;null==(s=gu.PG.tableMetadata.select(t&&a?{dbId:t,catalog:r,schema:a,table:n}:gu.hT)({[i.F.reducerPath]:b}).data)||null==(o=s.columns)||o.forEach((({name:t})=>{e.add(t)}))})),[...e]}),[t,r,a,b,v]),x=(0,V.A)(((n,s)=>{"table"===s.meta&&u((0,d.addTable)({id:e,dbId:t},s.value,r,a));let{caption:o}=s;"table"===s.meta&&o.includes(" ")&&(o=`"${o}"`),n.completer.insertMatch(`${o}${["function","schema"].includes(s.meta)?"":" "}`)})),E=(0,n.useMemo)((()=>(null!=p?p:[]).map((e=>({name:e.label,value:e.value,score:w.e3,meta:"schema",completer:{insertMatch:x},...Yu(e.value)})))),[p,x]),_=(0,n.useMemo)((()=>{var e;return(null!=(e=null==f?void 0:f.options)?e:[]).map((({value:e,label:t})=>({name:t,value:e,score:w.de,meta:"table",completer:{insertMatch:x},...Yu(e)})))}),[null==f?void 0:f.options,x]),k=(0,n.useMemo)((()=>S.map((e=>({name:e,value:e,score:w.v9,meta:"column",...Yu(e)})))),[S]),C=(0,n.useMemo)((()=>(null!=y?y:[]).map((e=>({name:e,value:e,score:w.T_,meta:"function",completer:{insertMatch:x},...Yu(e)})))),[y,x]),P=(0,n.useMemo)((()=>k.concat(E).concat(_).concat(C).concat(Ru.A).concat(null!=c?c:[])),[E,_,k,C,c]);return h.current=!o,o?qu:P}({queryEditorId:o,dbId:f.dbId,catalog:f.catalog,schema:f.schema},!e),C=(0,b.DP)();return(0,h.FD)(h.FK,{children:[(0,h.Y)(a.mL,{styles:a.AH`
          .ace_text-layer {
            width: 100% !important;
          }

          .ace_autocomplete {
            // Use !important because Ace Editor applies extra CSS at the last second
            // when opening the autocomplete.
            width: ${130*C.gridUnit}px !important;
          }

          .ace_tooltip {
            max-width: ${w.fq}px;
          }

          .ace_scroller {
            background-color: ${C.colors.grayscale.light4};
          }
        `}),(0,h.Y)(zu,{keywords:k,onLoad:e=>{e.commands.addCommand({name:"runQuery",bindKey:{win:"Alt-enter",mac:"Alt-enter"},exec:()=>{t(v)}}),u.forEach((t=>{e.commands.addCommand({name:t.name,bindKey:{win:t.key,mac:t.key},exec:t.func})})),e.$blockScrolling=1/0,e.selection.on("changeSelection",(()=>{const t=e.getSelectedText();t!==x.current&&1!==t.length&&p((0,d.queryEditorSetSelectedText)(f,t)),x.current=t})),e.selection.on("changeCursor",(()=>{const t=e.getCursorPosition();l(t)}));const{row:r,column:n}=y;e.moveCursorToPosition({row:r,column:n}),e.focus(),e.scrollToLine(r,!0,!0)},onBlur:()=>{t(v)},height:c,onChange:e=>{e!==v&&(S(e),r(e))},width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:e,value:v,annotations:_})]})},Bu=(e,t)=>e?(0,h.FD)(h.FK,{children:[(0,h.Y)("i",{className:"fa fa-stop"})," ",(0,$.t)("Stop")]}):t?(0,$.t)("Run selection"):(0,$.t)("Run"),Ku=b.I4.span`
  button {
    line-height: 13px;
    // this is to over ride a previous transition built into the component
    transition: background-color 0ms;
    &:last-of-type {
      margin-right: ${({theme:e})=>2*e.gridUnit}px;
    }
    span[name='caret-down'] {
      display: flex;
      margin-left: ${({theme:e})=>1*e.gridUnit}px;
    }
  }
`,Hu=({allowAsync:e=!1,queryEditorId:t,queryState:r,overlayCreateAsMenu:s,runQuery:a,stopQuery:o})=>{const i=(0,b.DP)(),l=ne({queryEditorId:t}),c=(0,N.UX)(),{selectedText:d,sql:u}=ce(t,["selectedText","sql"]),m=!!r&&["running","pending"].indexOf(r)>-1,p=s?Mr.g:H.A,f=d||u||"",y=!(null!=f&&f.replace(/(\/\*[^*]*\*\/)|(\/\/[^*]*)|(--[^.].*)/gm,"").trim()),g=(0,n.useMemo)((()=>"MacOS"===c?(0,$.t)("Stop running (Ctrl + x)"):(0,$.t)("Stop running (Ctrl + e)")),[c]);return(0,h.Y)(Ku,{children:(0,h.Y)(p,{onClick:()=>((e,t,r=(()=>{}),n=(()=>{}),s)=>(s(e?x.fL:x.Mr,{shortcut:!1}),e?n():r(!!t)))(m,e,a,o,l),disabled:y,tooltip:!y&&(m?g:(0,$.t)("Run query (Ctrl + Return)")),cta:!0,...s?{overlay:s,icon:(0,h.Y)(ee.A.CaretDown,{iconColor:y?i.colors.grayscale.base:i.colors.grayscale.light5,name:"caret-down"}),trigger:"click"}:{buttonStyle:m?"warning":"primary"},children:Bu(m,d)})})};function Qu(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}const Gu=b.I4.span`
  ${({theme:e})=>`\n    .ant-dropdown-trigger {\n      align-items: center;\n      color: ${e.colors.grayscale.dark2};\n      display: flex;\n      font-size: 12px;\n      margin-right: ${2*e.gridUnit}px;\n      text-decoration: none;\n      border: 0;\n      background: transparent;\n      span {\n        display: inline-block;\n        margin-right: ${2*e.gridUnit}px;\n        &:last-of-type: {\n          margin-right: ${4*e.gridUnit}px;\n        }\n      }\n    }\n  `}
`;function Ju(e,t){const r=[];for(let t=10;t<e;t*=10)r.push(t);return r.push(e),(0,h.Y)(Z.W1,{children:[...new Set(r)].map((e=>(0,h.FD)(Z.W1.Item,{onClick:()=>t(e),children:[Qu(e)," "]},`${e}`)))})}const Xu=({queryEditorId:e,maxRow:t,defaultQueryLimit:r})=>{const n=(0,b.DP)(),a=(0,s.wA)(),o=ce(e,["id","queryLimit"]),i=o.queryLimit||r;return(0,h.Y)(Gu,{children:(0,h.Y)(J.rM,{overlay:Ju(t,(e=>a((0,d.queryEditorSetQueryLimit)(o,e)))),trigger:["click"],children:(0,h.FD)("button",{type:"button",onClick:e=>e.preventDefault(),children:[(0,h.FD)("span",{children:[(0,$.t)("LIMIT"),":"]}),(0,h.Y)("span",{className:"limitDropdown",children:Qu(i)}),(0,h.Y)(ee.A.TriangleDown,{iconColor:n.colors.grayscale.base})]})})})},Zu=(0,N.UX)();var eh;!function(e){e.CtrlR="ctrl+r",e.CtrlEnter="ctrl+enter",e.CtrlShiftEnter="ctrl+shift+enter",e.CtrlP="ctrl+p",e.CtrlQ="ctrl+q",e.CtrlE="ctrl+e",e.CtrlT="ctrl+t",e.CtrlX="ctrl+x",e.AltEnter="alt+enter",e.CmdF="cmd+f",e.CmdOptF="cmd+opt+f",e.CtrlF="ctrl+f",e.CtrlH="ctrl+h",e.CtrlShiftF="ctrl+shift+f"}(eh||(eh={}));const th={[eh.CtrlR]:(0,$.t)("Run query"),[eh.CtrlEnter]:(0,$.t)("Run query"),[eh.AltEnter]:(0,$.t)("Run query"),[eh.CtrlShiftEnter]:(0,$.t)("Run current query"),[eh.CtrlX]:"MacOS"===Zu?(0,$.t)("Stop query"):void 0,[eh.CtrlE]:"MacOS"!==Zu?(0,$.t)("Stop query"):void 0,[eh.CtrlQ]:"Windows"===Zu?(0,$.t)("New tab"):void 0,[eh.CtrlT]:"Windows"!==Zu?(0,$.t)("New tab"):void 0,[eh.CtrlP]:(0,$.t)("Previous Line"),[eh.CtrlShiftF]:(0,$.t)("Format SQL"),[eh.CmdF]:"MacOS"===Zu?(0,$.t)("Find"):void 0,[eh.CtrlF]:"MacOS"!==Zu?(0,$.t)("Find"):void 0,[eh.CmdOptF]:"MacOS"===Zu?(0,$.t)("Replace"):void 0,[eh.CtrlH]:"MacOS"!==Zu?(0,$.t)("Replace"):void 0},rh=Object.entries(th).reduce(((e,[t,r])=>(r&&(e[r]=[...e[r]||[],t]),e)),{}),nh=b.I4.span`
  font-size: ${({theme:e})=>e.typography.sizes.m}px;
  color: ${({theme:e})=>e.colors.text.help};
  padding-left: ${({theme:e})=>2*e.gridUnit}px;
`,sh=b.I4.div`
  display: flex;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.gridUnit}px;
  padding: ${({theme:e})=>2*e.gridUnit}px;
`,ah=b.I4.code`
  font-size: ${({theme:e})=>e.typography.sizes.s}px;
  color: ${({theme:e})=>e.colors.grayscale.dark1};
  border-radius: ${({theme:e})=>e.borderRadius}px;
  padding: ${({theme:e})=>`${e.gridUnit}px ${2*e.gridUnit}px`};
`,oh=({children:e})=>(0,h.Y)(oe.A,{modalTitle:(0,$.t)("Keyboard shortcuts"),modalBody:(0,h.Y)("div",{children:Object.entries(rh).map((([e,t])=>(0,h.FD)("div",{css:a.AH`
              display: table-row;
            `,children:[(0,h.Y)("div",{css:a.AH`
                display: table-cell;
                max-width: 200px;
                vertical-align: middle;
              `,children:(0,h.Y)(nh,{children:e})}),(0,h.Y)("div",{css:a.AH`
                display: table-cell;
              `,children:(0,h.Y)(sh,{children:t.map((e=>(0,h.Y)(ah,{children:e},e)))})})]},e)))}),triggerNode:e});var ih,lh;const ch=(0,O.A)(),dh=null==ch||null==(ih=ch.common)||null==(lh=ih.conf)?void 0:lh.SCHEDULED_QUERIES,uh=b.I4.div`
  padding: ${({theme:e})=>2*e.gridUnit}px;
  background: ${({theme:e})=>e.colors.grayscale.light5};
  display: flex;
  justify-content: space-between;
  border: 1px solid ${({theme:e})=>e.colors.grayscale.light2};
  border-top: 0;
  column-gap: ${({theme:e})=>e.gridUnit}px;

  form {
    margin-block-end: 0;
  }

  .leftItems,
  .rightItems {
    display: flex;
    align-items: center;
    & > span {
      margin-right: ${({theme:e})=>2*e.gridUnit}px;
      display: inline-block;

      &:last-child {
        margin-right: 0;
      }
    }
  }

  .limitDropdown {
    white-space: nowrap;
  }
`,hh=b.I4.div`
  flex: 0 0 ${({width:e})=>e}px;
  width: ${({width:e})=>e}px;
  padding: ${({theme:e,hide:t})=>t?0:2.5*e.gridUnit}px;
  border-right: 1px solid
    ${({theme:e,hide:t})=>t?"transparent":e.colors.grayscale.light2};
`,mh=b.I4.div`
  ${({theme:e})=>a.AH`
    display: flex;
    flex-direction: row;
    height: 100%;

    .schemaPane {
      transition: transform ${e.transitionTiming}s ease-in-out;
    }

    .queryPane {
      flex: 1 1 auto;
      padding: ${2*e.gridUnit}px;
      overflow-y: auto;
      overflow-x: scroll;
    }

    .schemaPane-enter-done,
    .schemaPane-exit {
      transform: translateX(0);
      z-index: 7;
    }

    .schemaPane-exit-active {
      transform: translateX(-120%);
    }

    .schemaPane-enter-active {
      transform: translateX(0);
      max-width: ${75*e.gridUnit}px;
    }

    .schemaPane-enter,
    .schemaPane-exit-done {
      max-width: 0;
      transform: translateX(-120%);
      overflow: hidden;
    }

    .schemaPane-exit-done + .queryPane {
      margin-left: 0;
    }

    .gutter {
      border-top: 1px solid ${e.colors.grayscale.light2};
      border-bottom: 1px solid ${e.colors.grayscale.light2};
      width: 3%;
      margin: ${w.oL}px 47%;
    }

    .gutter.gutter-vertical {
      cursor: row-resize;
    }
  `}
`,ph=(0,B.a)(),fh=(e,t,r)=>({[e]:`calc(${t}% - ${r+w.oL}px)`});var yh={name:"1eoy87d",styles:"display:flex;justify-content:space-between"},gh={name:"1eoy87d",styles:"display:flex;justify-content:space-between"};const vh=({queryEditor:e,defaultQueryLimit:t,maxRow:r,displayLimit:i,saveQueryWarning:l,scheduleQueryWarning:c})=>{const u=(0,b.DP)(),m=(0,s.wA)(),{database:p,latestQuery:y,hideLeftBar:g,currentQueryEditorId:S,hasSqlStatement:E}=(0,s.d4)((({sqlLab:{unsavedQueryEditor:t,databases:r,queries:n,tabHistory:s}})=>{var a;let{dbId:o,latestQueryId:i,hideLeftBar:l}=e;return(null==t?void 0:t.id)===e.id&&(o=t.dbId||o,i=t.latestQueryId||i,l=U()(t.hideLeftBar)?t.hideLeftBar:l),{hasSqlStatement:Boolean((null==(a=e.sql)?void 0:a.trim().length)>0),database:r[o||""],latestQuery:n[i||""],hideLeftBar:l,currentQueryEditorId:s.slice(-1)[0]}}),s.bN),_=ne({queryEditorId:e.id}),k=S===e.id,[C,P]=(0,n.useState)(0),[A,O]=(0,n.useState)(e.autorun),[I,j]=(0,n.useState)(""),[D,R]=(0,n.useState)(e.northPercent||w.du),[M,q]=(0,n.useState)(e.southPercent||w.tR),[L,B]=(0,n.useState)((0,te.Gq)(te.Hh.SqllabIsAutocompleteEnabled,!0)),[se,ae]=(0,n.useState)((0,te.Gq)(te.Hh.SqllabIsRenderHtmlEnabled,!1)),[oe,ie]=(0,n.useState)(!1),[le,ce]=(0,n.useState)(""),de=(0,n.useMemo)((()=>!p||F()(p)),[p]),ue=(0,n.useRef)(null),me=(0,n.useRef)(null),pe=ph.get("sqleditor.extension.form"),fe=(0,n.useCallback)(((r=!1,n=d.CtasEnum.Table)=>{p&&(m((0,d.runQueryFromSqlEditor)(p,e,t,r?I:"",r,n)),m((0,d.setActiveSouthPaneTab)("Results")))}),[I,p,t,m,e]),ye=(0,n.useCallback)((t=>{_(x.Ob,{shortcut:Boolean(t)}),m((0,d.formatQuery)(e))}),[m,e,_]),ge=(0,n.useCallback)((()=>(y&&["running","pending"].indexOf(y.state)>=0&&m((0,d.postStopQuery)(y)),!1)),[m,y]),ve=()=>{p&&fe()};(0,n.useEffect)((()=>{A&&(O(!1),m((0,d.queryEditorSetAutorun)(e,!1)),fe())}),[A,m,e,fe]);const be=()=>ue.current?ue.current.clientHeight-2*w.b:0,$e=(0,n.useCallback)((()=>{const t=(0,N.UX)();return[{name:"runQuery1",key:eh.CtrlR,descr:th[eh.CtrlR],func:()=>{""!==e.sql.trim()&&(_(x.Mr,{shortcut:!0}),fe())}},{name:"runQuery2",key:eh.CtrlEnter,descr:th[eh.CtrlEnter],func:()=>{""!==e.sql.trim()&&(_(x.Mr,{shortcut:!0}),fe())}},{name:"newTab",..."Windows"===t?{key:eh.CtrlQ,descr:th[eh.CtrlQ]}:{key:eh.CtrlT,descr:th[eh.CtrlT]},func:()=>{x.Vy.markTimeOrigin(),m((0,d.addNewQueryEditor)())}},{name:"stopQuery",..."MacOS"===t?{key:eh.CtrlX,descr:th[eh.CtrlX]}:{key:eh.CtrlE,descr:th[eh.CtrlE]},func:()=>{_(x.fL,{shortcut:!0}),ge()}},{name:"formatQuery",key:eh.CtrlShiftF,descr:th[eh.CtrlShiftF],func:()=>{ye(!0)}}]}),[m,e.sql,fe,ge,ye]),we=(0,n.useMemo)((()=>{const e=(0,N.UX)(),t=[...$e(),{name:"runQuery3",key:eh.CtrlShiftEnter,descr:th[eh.CtrlShiftEnter],func:e=>{var t,r,n,s,a,o,i;if(!e.getValue().trim())return;const l=e.getSession(),c=e.getCursorPosition(),d=l.getLength(),u=e.getFirstVisibleRow();let h=null==(t=e.find(";",{backwards:!1,skipCurrent:!0}))?void 0:t.end;(!h||h.row<c.row)&&(h={row:d+1,column:0});let m=null==(r=e.find(";",{backwards:!0,skipCurrent:!0}))?void 0:r.end,p=null==(n=m)?void 0:n.row;(!p||p>c.row||p===c.row&&((null==(s=m)?void 0:s.column)||0)>c.column)&&(p=0);let f=p===(null==(a=m)?void 0:a.row)?l.getLine(p).slice(m.column).trim():l.getLine(p).trim();for(;!f&&p<d;)p+=1,f=l.getLine(p).trim();p!==(null==(o=m)?void 0:o.row)&&(m={row:p,column:0}),e.selection.setSelectionRange({start:null!=(i=m)?i:{row:0,column:0},end:h}),fe(),e.selection.clearSelection(),e.moveCursorToPosition(c),e.scrollToRow(u)}}];return"MacOS"===e&&t.push({name:"previousLine",key:eh.CtrlP,descr:th[eh.CtrlP],func:e=>{e.navigateUp()}}),t}),[$e,fe]),Se=(0,V.A)((e=>{var t;null!=p&&null!=(t=p.extra_json)&&t.cancel_query_on_windows_unload&&"running"===(null==y?void 0:y.state)&&(e.preventDefault(),ge())})),xe=(0,o.G7)(o.TO.SqllabBackendPersistence)&&!e.loaded,Ee=(0,V.A)((()=>{const t=x.Vy.getTimestamp();_(x.CY,{duration:t,queryEditorId:e.id,inLocalStorage:Boolean(e.inLocalStorage),hasLoaded:!xe}),xe&&m((0,d.fetchQueryEditor)(e,i))}));(0,n.useEffect)((()=>{P(be());const e=f()((()=>P(be())),w.A7);return k&&(Ee(),window.addEventListener("resize",e),window.addEventListener("beforeunload",Se)),()=>{window.removeEventListener("resize",e),window.removeEventListener("beforeunload",Se)}}),[Se,Ee,k]),(0,n.useEffect)((()=>{const e=$e();k&&e.forEach((e=>{v().bind([e.key],e.func)}))}),[$e,y,k]);const _e=()=>{const e=document.getElementsByClassName("ace_content")[0];e&&(e.style.height="100%")},ke=([t,r])=>{var n;R(t),q(r),null!=(n=me.current)&&n.clientHeight&&m((0,d.persistEditorHeight)(e,t,r))},Ce=(0,n.useCallback)((t=>{m((0,d.queryEditorSetAndSaveSql)(e,t))}),[m,e]),Pe=(0,n.useMemo)((()=>Y()(Ce,w.cD)),[Ce]),Ae=(0,V.A)((t=>{m((0,d.queryEditorSetSql)(e,t))})),Ne=()=>{_(x.Lb,{shortcut:!1}),p&&m((0,d.estimateQueryCost)(e))},Te=()=>{(0,te.SO)(te.Hh.SqllabIsAutocompleteEnabled,!L),B(!L)},Oe=()=>{(0,te.SO)(te.Hh.SqllabIsRenderHtmlEnabled,!se),ae(!se)},Ie=()=>{const t=e,r="success"===(null==y?void 0:y.state),n=r?(0,$.t)("Schedule the query periodically"):(0,$.t)("You must run the query successfully first");return(0,h.FD)(Z.W1,{css:(0,a.AH)({width:50*u.gridUnit},"",""),children:[(0,h.FD)(Z.W1.Item,{css:yh,children:[" ",(0,h.Y)("span",{children:(0,$.t)("Render HTML")})," ",(0,h.Y)(J._b,{checked:se,onChange:Oe})," "]}),(0,h.FD)(Z.W1.Item,{css:gh,children:[" ",(0,h.Y)("span",{children:(0,$.t)("Autocomplete")})," ",(0,h.Y)(J._b,{checked:L,onChange:Te})," "]}),(0,o.G7)(o.TO.EnableTemplateProcessing)&&(0,h.Y)(Z.W1.Item,{children:(0,h.Y)(he,{language:"json",onChange:e=>{m((0,d.queryEditorSetTemplateParams)(t,e))},queryEditorId:t.id})}),(0,h.Y)(Z.W1.Item,{onClick:()=>ye(),children:(0,$.t)("Format SQL")}),!F()(dh)&&(0,h.Y)(Z.W1.Item,{children:(0,h.Y)(ou,{defaultLabel:t.name,sql:t.sql,onSchedule:e=>m((0,d.scheduleQuery)(e)),schema:t.schema,dbId:t.dbId,scheduleQueryWarning:c,tooltip:n,disabled:!r})}),(0,h.Y)(Z.W1.Item,{children:(0,h.Y)(oh,{children:(0,$.t)("Keyboard shortcuts")})})]})},je=async(t,r)=>{const n=await m((0,d.saveQuery)(t,r));m((0,d.addSavedQueryToTabState)(e,n))},De=n=>{var s;const{allow_ctas:a,allow_cvas:i}=p||{},c=a||i,f=(0,h.FD)(Z.W1,{children:[a&&(0,h.Y)(Z.W1.Item,{onClick:()=>{_(x.Ek,{shortcut:!1}),ie(!0),ce(d.CtasEnum.Table)},children:(0,$.t)("CREATE TABLE AS")},"1"),i&&(0,h.Y)(Z.W1.Item,{onClick:()=>{_(x.XC,{shortcut:!1}),ie(!0),ce(d.CtasEnum.View)},children:(0,$.t)("CREATE VIEW AS")},"2")]});return(0,h.Y)(uh,{className:"sql-toolbar",id:"js-sql-toolbar",children:n?(0,h.Y)(re.A,{type:"warning",message:(0,$.t)("The database that was used to generate this query could not be found"),description:(0,$.t)("Choose one of the available databases on the left panel."),closable:!1}):(0,h.FD)(h.FK,{children:[(0,h.FD)("div",{className:"leftItems",children:[(0,h.Y)("span",{children:(0,h.Y)(Hu,{allowAsync:!0===(null==p?void 0:p.allow_run_async),queryEditorId:e.id,queryState:null==y?void 0:y.state,runQuery:ve,stopQuery:ge,overlayCreateAsMenu:c?f:null})}),(0,o.G7)(o.TO.EstimateQueryCost)&&(null==p?void 0:p.allows_cost_estimate)&&(0,h.Y)("span",{children:(0,h.Y)(cu,{getEstimate:Ne,queryEditorId:e.id,tooltip:(0,$.t)("Estimate the cost before running a query")})}),(0,h.Y)("span",{children:(0,h.Y)(Xu,{queryEditorId:e.id,maxRow:r,defaultQueryLimit:t})}),y&&(0,h.Y)(Q.A,{startTime:y.startDttm,endTime:y.endDttm,status:w.sA[y.state],isRunning:"running"===y.state})]}),(0,h.FD)("div",{className:"rightItems",children:[(0,h.Y)("span",{children:(0,h.Y)(Lr,{queryEditorId:e.id,columns:(null==y||null==(s=y.results)?void 0:s.columns)||[],onSave:je,onUpdate:(e,t)=>m((0,d.updateSavedQuery)(e,t)),saveQueryWarning:l,database:p})}),(0,h.Y)("span",{children:(0,h.Y)(mu,{queryEditorId:e.id})}),(0,h.Y)(J.rM,{overlay:Ie(),trigger:["click"],children:(0,h.Y)(ee.A.MoreHoriz,{iconColor:u.colors.grayscale.base})})]})]})})},Re=t=>{m((0,d.queryEditorSetCursorPosition)(e,t))},Me=le===d.CtasEnum.View?"CREATE VIEW AS":"CREATE TABLE AS",Fe=le===d.CtasEnum.View?(0,$.t)("Specify name to CREATE VIEW AS schema in: public"):(0,$.t)("Specify name to CREATE TABLE AS schema in: public"),qe=g?"schemaPane-exit-done":"schemaPane-enter-done";return(0,h.FD)(mh,{ref:ue,className:"SqlEditor",children:[(0,h.Y)(z.CSSTransition,{classNames:"schemaPane",in:!g,timeout:300,children:(0,h.Y)(G.A,{id:`sqllab:${e.id}`,minWidth:w.fq,initialWidth:w.fq,enable:!g,children:t=>(0,h.Y)(hh,{className:`schemaPane ${qe}`,width:t,hide:g,children:(0,h.Y)(Iu,{database:p,queryEditorId:e.id})})})}),xe?(0,h.Y)("div",{css:a.AH`
            flex: 1;
            padding: ${4*u.gridUnit}px;
          `,children:(0,h.Y)(J.EA,{active:!0})}):de&&!E?(0,h.Y)(T.nw,{image:"vector.svg",title:(0,$.t)("Select a database to write a query"),description:(0,$.t)("Choose one of the available databases from the panel on the left.")}):(()=>{const{aceEditorHeight:r,southPaneHeight:n}=((e,t,r)=>({aceEditorHeight:e*t/(25*u.gridUnit)-(w.B8/2+w.oL)-w.d$,southPaneHeight:e*r/(25*u.gridUnit)-(w.B8/2+w.oL)}))(C,D,M);return(0,h.FD)(W.A,{expandToMin:!0,className:"queryPane",sizes:[D,M],elementStyle:fh,minSize:200,direction:"vertical",gutterSize:w.B8,onDragStart:_e,onDragEnd:ke,children:[(0,h.FD)("div",{ref:me,className:"north-pane",children:[pe&&(0,h.Y)(pe,{queryEditorId:e.id,setQueryEditorAndSaveSqlWithDebounce:Pe,startQuery:fe}),k&&(0,h.Y)(Wu,{autocomplete:L,onBlur:Ae,onChange:Ae,queryEditorId:e.id,onCursorPositionChange:Re,height:`${r}px`,hotkeys:we}),De(de)]}),(0,h.Y)(Dr,{queryEditorId:e.id,latestQueryId:null==y?void 0:y.id,height:n,displayLimit:i,defaultQueryLimit:t})]})})(),(0,h.FD)(K.A,{show:oe,title:(0,$.t)(Me),onHide:()=>ie(!1),footer:(0,h.FD)(h.FK,{children:[(0,h.Y)(H.A,{onClick:()=>ie(!1),children:(0,$.t)("Cancel")}),le===d.CtasEnum.Table&&(0,h.Y)(H.A,{buttonStyle:"primary",disabled:0===I.length,onClick:()=>{fe(!0,d.CtasEnum.Table),ie(!1),j("")},children:(0,$.t)("Create")}),le===d.CtasEnum.View&&(0,h.Y)(H.A,{buttonStyle:"primary",disabled:0===I.length,onClick:()=>{fe(!0,d.CtasEnum.View),ie(!1),j("")},children:(0,$.t)("Create")})]}),children:[(0,h.Y)("span",{children:(0,$.t)("Name")}),(0,h.Y)(X.pd,{placeholder:Fe,onChange:e=>{j(e.target.value)}})]})]})};var bh=r(82960),$h=r(93103);const wh=b.I4.span`
  position: absolute;
  top: -6px;
  left: 1px;
`,Sh=b.I4.div`
  ${({theme:e})=>a.AH`
    border-radius: 50%;
    width: ${3*e.gridUnit}px;
    height: ${3*e.gridUnit}px;

    display: inline-block;
    background-color: ${e.colors.grayscale.light2};
    text-align: center;
    vertical-align: middle;
    font-size: ${e.typography.sizes.m}px;
    font-weight: ${e.typography.weights.bold};
    color: ${e.colors.grayscale.light5};
    position: relative;

    &.running {
      background-color: ${e.colors.info.base};
    }

    &.success {
      background-color: ${e.colors.success.base};
    }

    &.failed {
      background-color: ${e.colors.error.base};
    }
  `}
`,xh={success:ee.A.Check,failed:ee.A.CancelX};function Eh({tabState:e}){const t=xh[e];return(0,h.Y)(Sh,{className:`circle ${e}`,children:t&&(0,h.Y)(wh,{children:(0,h.Y)(t,{iconSize:"xs"})})})}const _h=b.I4.div`
  display: flex;
  align-items: center;
`,kh=b.I4.span`
  margin-right: ${({theme:e})=>2*e.gridUnit}px;
  text-transform: none;
`,Ch=b.I4.div`
  display: inline-block;
  width: ${({theme:e})=>8*e.gridUnit}px;
  text-align: center;
`,Ph=({queryEditor:e})=>{const t=(0,s.d4)((({sqlLab:{unsavedQueryEditor:t}})=>({...e,...e.id===(null==t?void 0:t.id)&&t})),s.bN),r=(0,s.d4)((({sqlLab:e})=>{var r;return(null==(r=e.queries[t.latestQueryId||""])?void 0:r.state)||""})),a=(0,s.wA)(),o=(0,n.useMemo)((()=>(0,bh.zH)({removeQueryEditor:d.removeQueryEditor,removeAllOtherQueryEditors:d.removeAllOtherQueryEditors,queryEditorSetTitle:d.queryEditorSetTitle,cloneQueryToNewTab:d.cloneQueryToNewTab,toggleLeftBar:d.toggleLeftBar},a)),[a]);return(0,h.FD)(_h,{children:[(0,h.Y)($h.ms,{trigger:["click"],overlay:(0,h.FD)(Z.W1,{style:{width:176},children:[(0,h.FD)(Z.W1.Item,{className:"close-btn",onClick:()=>o.removeQueryEditor(t),children:[(0,h.Y)(Ch,{children:(0,h.Y)("i",{className:"fa fa-close"})}),(0,$.t)("Close tab")]},"1"),(0,h.FD)(Z.W1.Item,{onClick:function(){const e=prompt((0,$.t)("Enter a new title for the tab"));e&&o.queryEditorSetTitle(t,e,t.id)},children:[(0,h.Y)(Ch,{children:(0,h.Y)("i",{className:"fa fa-i-cursor"})}),(0,$.t)("Rename tab")]},"2"),(0,h.FD)(Z.W1.Item,{onClick:()=>o.toggleLeftBar(t),children:[(0,h.Y)(Ch,{children:(0,h.Y)("i",{className:"fa fa-cogs"})}),t.hideLeftBar?(0,$.t)("Expand tool bar"):(0,$.t)("Hide tool bar")]},"3"),(0,h.FD)(Z.W1.Item,{onClick:()=>o.removeAllOtherQueryEditors(t),children:[(0,h.Y)(Ch,{children:(0,h.Y)("i",{className:"fa fa-times-circle-o"})}),(0,$.t)("Close all other tabs")]},"4"),(0,h.FD)(Z.W1.Item,{onClick:()=>o.cloneQueryToNewTab(t,!1),children:[(0,h.Y)(Ch,{children:(0,h.Y)("i",{className:"fa fa-files-o"})}),(0,$.t)("Duplicate tab")]},"5")]})}),(0,h.Y)(kh,{children:t.name})," ",(0,h.Y)(Eh,{tabState:r})," "]})},Ah={queryEditors:[],offline:!1,saveQueryWarning:null,scheduleQueryWarning:null},Nh=(0,b.I4)(k.fn)`
  height: 100%;
  display: flex;
  flex-direction: column;
`,Th=b.I4.span`
  line-height: 24px;
`,Oh=b.I4.span`
  margin-right: ${({theme:e})=>2*e.gridUnit}px;
  text-transform: none;
`,Ih=(0,N.UX)(),jh="/sqllab";class Dh extends n.PureComponent{constructor(e){super(e),this.onTabClicked=()=>{var e;x.Vy.markTimeOrigin(),0===(null==(e=this.props.queryEditors)?void 0:e.length)&&this.newQueryEditor()},this.removeQueryEditor=this.removeQueryEditor.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleEdit=this.handleEdit.bind(this)}componentDidMount(){const e=(0,O.A)(),t=P()(window.location).search(!0),{id:r,name:n,sql:s,savedQueryId:a,datasourceKey:i,queryId:l,dbid:c,dbname:d,catalog:u,schema:h,autorun:m,new:p,...f}={...this.context.requestedQuery,...e.requested_query,...t};if(r||s||a||i||l){if(r)this.props.actions.popStoredQuery(r);else if(a)this.props.actions.popSavedQuery(a);else if(l)this.props.actions.popQuery(l);else if(i)this.props.actions.popDatasourceQuery(i,s);else if(s){let e=c;if(e)e=parseInt(e,10);else{const{databases:t}=this.props,r=d;r&&Object.keys(t).forEach((n=>{t[n].database_name===r&&(e=t[n].id)}))}const t={name:n,dbId:e,catalog:u,schema:h,autorun:m,sql:s};this.props.actions.addQueryEditor(t)}this.popNewTab(_()(f,Object.keys(t)))}else if(p||0===this.props.queryEditors.length)this.newQueryEditor(),p&&window.history.replaceState({},document.title,jh);else{const e=this.activeQueryEditor(),t=this.props.queries[(null==e?void 0:e.latestQueryId)||""];(0,o.G7)(o.TO.SqllabBackendPersistence)&&t&&t.resultsKey&&this.props.actions.fetchQueryResults(t,this.props.displayLimit)}}popNewTab(e){const t=`${P()(jh).query(e)}`;window.history.replaceState({},document.title,t)}activeQueryEditor(){if(0===this.props.tabHistory.length)return this.props.queryEditors[0];const e=this.props.tabHistory[this.props.tabHistory.length-1];return this.props.queryEditors.find((t=>t.id===e))||null}newQueryEditor(){this.props.actions.addNewQueryEditor()}handleSelect(e){const t=this.props.tabHistory[this.props.tabHistory.length-1];if(e!==t){const t=this.props.queryEditors.find((t=>t.id===e));if(!t)return;this.props.actions.setActiveQueryEditor(t)}}handleEdit(e,t){if("remove"===t){const t=this.props.queryEditors.find((t=>t.id===e));t&&this.removeQueryEditor(t)}"add"===t&&(x.Vy.markTimeOrigin(),this.newQueryEditor())}removeQueryEditor(e){this.props.actions.removeQueryEditor(e)}render(){var e,t;const r=0===(null==(e=this.props.queryEditors)?void 0:e.length),n=null==(t=this.props.queryEditors)?void 0:t.map((e=>(0,h.Y)(k.fn.TabPane,{tab:(0,h.Y)(Ph,{queryEditor:e}),"data-key":e.id,children:(0,h.Y)(vh,{queryEditor:e,defaultQueryLimit:this.props.defaultQueryLimit,maxRow:this.props.maxRow,displayLimit:this.props.displayLimit,saveQueryWarning:this.props.saveQueryWarning,scheduleQueryWarning:this.props.scheduleQueryWarning})},e.id))),s=(0,h.FD)(Th,{children:[(0,h.Y)(Oh,{children:(0,$.t)("Add a new tab")}),(0,h.Y)(A.m,{id:"add-tab",placement:"bottom",title:"Windows"===Ih?(0,$.t)("New tab (Ctrl + q)"):(0,$.t)("New tab (Ctrl + t)"),children:(0,h.Y)("i",{className:"fa fa-plus-circle"})})]}),a=(0,h.Y)(k.fn.TabPane,{"data-key":0,tab:s,closable:!1,children:(0,h.Y)(T.nw,{image:"empty_sql_chart.svg",description:(0,$.t)("Add a new tab to create SQL Query")})},0);return(0,h.FD)(Nh,{activeKey:this.props.tabHistory[this.props.tabHistory.length-1],id:"a11y-query-editor-tabs",className:"SqlEditorTabs",onChange:this.handleSelect,fullWidth:!1,hideAdd:this.props.offline,onTabClick:this.onTabClicked,onEdit:this.handleEdit,type:r?"card":"editable-card",addIcon:(0,h.Y)(A.m,{id:"add-tab",placement:"bottom",title:"Windows"===Ih?(0,$.t)("New tab (Ctrl + q)"):(0,$.t)("New tab (Ctrl + t)"),children:(0,h.Y)("i",{className:"fa fa-plus-circle"})}),children:[n,r&&a]})}}Dh.contextType=I;const Rh={...d},Mh=(0,s.Ng)((function({sqlLab:e,common:t}){var r,n,s,a;return{databases:e.databases,queryEditors:null!=(r=e.queryEditors)?r:Ah.queryEditors,queries:e.queries,tabHistory:e.tabHistory,defaultDbId:t.conf.SQLLAB_DEFAULT_DBID,displayLimit:t.conf.DISPLAY_MAX_ROW,offline:null!=(n=e.offline)?n:Ah.offline,defaultQueryLimit:t.conf.DEFAULT_SQLLAB_LIMIT,maxRow:t.conf.SQL_MAX_ROW,saveQueryWarning:null!=(s=t.conf.SQLLAB_SAVE_WARNING_MESSAGE)?s:Ah.saveQueryWarning,scheduleQueryWarning:null!=(a=t.conf.SQLLAB_SCHEDULE_WARNING_MESSAGE)?a:Ah.scheduleQueryWarning}}),Rh,(function(e,t){return{...e,actions:t}}))(Dh);var Fh=r(58561),qh=r.n(Fh),Uh=r(35742);const Lh=2e3,Yh=function({queries:e,queriesLastUpdate:t}){const r=(0,n.useRef)(!1),a=(0,n.useRef)(!1),o=(0,s.wA)();return function(e,t){const r=(0,n.useRef)(e);(0,n.useEffect)((()=>{r.current=e}),[e]),(0,n.useEffect)((()=>{if(null!==t){const e=setInterval((function(){null==r||null==r.current||r.current()}),t);return()=>clearInterval(e)}return()=>{}}),[t])}((()=>{(()=>{const n=(e=>{let t=!1;const r=Date.now();return On()(e)&&(t=Object.values(e).some((e=>(e=>Pt.P7.includes(null==e?void 0:e.state))(e)&&r-(null==e?void 0:e.startDttm)<216e5))),t})(e);if(!r.current&&n){const e=qh().encode({last_updated_ms:t-5e3}),n=new AbortController;r.current=!0,Uh.A.get({endpoint:`/api/v1/query/updated_since?q=${e}`,timeout:1e4,parseMethod:"json-bigint",signal:n.signal}).then((({json:e})=>{if(e){var t;const s=e;if(null!=s&&null!=(t=s.result)&&t.length){var r,n;const e=null!=(r=null==s||null==(n=s.result)?void 0:n.reduce(((e,t)=>(e[t.id]=t,e)),{}))?r:{};o((0,d.refreshQueries)(e))}else o((0,d.clearInactiveQueries)(Lh))}})).catch((()=>{n.abort()})).finally((()=>{r.current=!1}))}a.current||n||(o((0,d.clearInactiveQueries)(Lh)),a.current=!0)})()}),Lh),null},Vh=b.I4.div`
  ${({theme:e})=>a.AH`
    &.SqlLab {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      padding: 0 ${2*e.gridUnit}px;

      pre {
        padding: 0 !important;
        margin: 0;
        border: none;
        font-size: ${e.typography.sizes.s}px;
        background: transparent !important;
      }

      .north-pane {
        display: flex;
        flex-direction: column;
      }

      .ace_editor {
        flex-grow: 1;
      }

      .ace_content {
        height: 100%;
      }

      .ant-tabs-content-holder {
        /* This is needed for Safari */
        height: 100%;
      }

      .ant-tabs-content {
        height: 100%;
        position: relative;
        background-color: ${e.colors.grayscale.light5};
        overflow-x: auto;
        overflow-y: auto;

        > .ant-tabs-tabpane {
          position: absolute;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
        }
      }

      .ResultsModal .ant-modal-body {
        min-height: ${140*e.gridUnit}px;
      }

      .ant-modal-body {
        overflow: auto;
      }
    }
  `};
`;class zh extends n.PureComponent{constructor(e){super(e),this.hasLoggedLocalStorageUsage=void 0,this.state={hash:window.location.hash},this.showLocalStorageUsageWarning=f()(this.showLocalStorageUsageWarning,w.Cq,{trailing:!1})}componentDidMount(){window.addEventListener("hashchange",this.onHashChanged.bind(this)),document.body.style.overscrollBehaviorX="none"}componentDidUpdate(){const{localStorageUsageInKilobytes:e,actions:t,queries:r}=this.props,n=Object.keys(r||{}).length||0;if(e>=w.sC*w.QJ&&this.showLocalStorageUsageWarning(e,n),e>0&&!this.hasLoggedLocalStorageUsage){const r={current_usage:e,query_count:n};t.logEvent(x.A_,r),this.hasLoggedLocalStorageUsage=!0}}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChanged.bind(this)),document.body.style.overscrollBehaviorX="auto",v().reset()}onHashChanged(){this.setState({hash:window.location.hash})}showLocalStorageUsageWarning(e,t){this.props.actions.addDangerToast((0,$.t)("SQL Lab uses your browser's local storage to store queries and results.\nCurrently, you are using %(currentUsage)s KB out of %(maxStorage)d KB storage space.\nTo keep SQL Lab from crashing, please delete some query tabs.\nYou can re-access these queries by using the Save feature before you delete the tab.\nNote that you will need to close other SQL Lab windows before you do this.",{currentUsage:e.toFixed(2),maxStorage:w.QJ}));const r={current_usage:e,query_count:t};this.props.actions.logEvent(x.hK,r)}render(){const{queries:e,queriesLastUpdate:t}=this.props;return this.state.hash&&"#search"===this.state.hash?(0,h.Y)(y.rd,{to:{pathname:"/sqllab/history/"}}):(0,h.FD)(Vh,{className:"App SqlLab",children:[(0,h.Y)(Yh,{queries:e,queriesLastUpdate:t}),(0,h.Y)(Mh,{})]})}}const Wh={addDangerToast:u.iB,logEvent:S.logEvent},Bh=(0,s.Ng)((function(e){const{common:t,localStorageUsageInKilobytes:r,sqlLab:n}=e;return{common:t,localStorageUsageInKilobytes:r,queries:null==n?void 0:n.queries,queriesLastUpdate:null==n?void 0:n.queriesLastUpdate}}),Wh,(function(e,t,r){return{...r,...e,actions:t}}))(zh);var Kh=r(94500);function Hh(){const e=(0,s.d4)((e=>e.sqlLab.queriesLastUpdate||0)),{data:t,isLoading:r,isError:i,error:l,fulfilledTimeStamp:p}=c(),f=e<=(p||0),y=(0,s.wA)(),g=(0,V.A)((e=>{f&&y((0,d.resetState)(e))}));return(0,n.useEffect)((()=>{t&&g(t)}),[t,g]),r||f?(0,h.Y)(jt.A,{}):i&&null!=l&&l.message?(y((0,u.iB)(null==l?void 0:l.message)),null):(0,h.Y)(R,{children:(0,h.FD)("div",{css:a.AH`
          flex: 1 1 auto;
          position: relative;
          display: flex;
          flex-direction: column;
        `,children:[(0,h.Y)(m,{}),(0,h.Y)(Bh,{}),(0,o.G7)(o.TO.SqllabBackendPersistence)&&(0,h.Y)(Kh.Ay,{})]})})}},46579:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,s=1;s<n;++s)t[s]=t[s].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function s(e){return e.toUpperCase()}function a(e){var n="[A-Za-z]",s="[0-9]",a=t(s,"[A-Fa-f]"),o=r(r("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+r("%[89A-Fa-f]"+a+"%"+a+a)+"|"+r("%"+a+a)),i="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",i),c=e?"[\\uE000-\\uF8FF]":"[]",d=t(n,s,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=r(n+t(n,s,"[\\+\\-\\.]")+"*"),h=r(r(o+"|"+t(d,i,"[\\:]"))+"*"),m=(r(r("25[0-5]")+"|"+r("2[0-4]"+s)+"|"+r("1"+s+s)+"|"+r("[1-9]"+s)+"|"+s),r(r("25[0-5]")+"|"+r("2[0-4]"+s)+"|"+r("1"+s+s)+"|"+r("0?[1-9]"+s)+"|0?0?"+s)),p=r(m+"\\."+m+"\\."+m+"\\."+m),f=r(a+"{1,4}"),y=r(r(f+"\\:"+f)+"|"+p),g=r(r(f+"\\:")+"{6}"+y),v=r("\\:\\:"+r(f+"\\:")+"{5}"+y),b=r(r(f)+"?\\:\\:"+r(f+"\\:")+"{4}"+y),$=r(r(r(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+r(f+"\\:")+"{3}"+y),w=r(r(r(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+r(f+"\\:")+"{2}"+y),S=r(r(r(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+y),x=r(r(r(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+y),E=r(r(r(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),_=r(r(r(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),k=r([g,v,b,$,w,S,x,E,_].join("|")),C=r(r(d+"|"+o)+"+"),P=(r(k+"\\%25"+C),r(k+r("\\%25|\\%(?!"+a+"{2})")+C)),A=r("[vV]"+a+"+\\."+t(d,i,"[\\:]")+"+"),N=r("\\["+r(P+"|"+k+"|"+A)+"\\]"),T=r(r(o+"|"+t(d,i))+"*"),O=r(N+"|"+p+"(?!"+T+")|"+T),I=r(s+"*"),j=r(r(h+"@")+"?"+O+r("\\:"+I)+"?"),D=r(o+"|"+t(d,i,"[\\:\\@]")),R=r(D+"*"),M=r(D+"+"),F=r(r(o+"|"+t(d,i,"[\\@]"))+"+"),q=r(r("\\/"+R)+"*"),U=r("\\/"+r(M+q)+"?"),L=r(F+q),Y=r(M+q),V="(?!"+D+")",z=(r(q+"|"+U+"|"+L+"|"+Y+"|"+V),r(r(D+"|"+t("[\\/\\?]",c))+"*")),W=r(r(D+"|[\\/\\?]")+"*"),B=r(r("\\/\\/"+j+q)+"|"+U+"|"+Y+"|"+V),K=r(u+"\\:"+B+r("\\?"+z)+"?"+r("\\#"+W)+"?"),H=r(r("\\/\\/"+j+q)+"|"+U+"|"+L+"|"+V),Q=r(H+r("\\?"+z)+"?"+r("\\#"+W)+"?");return r(K+"|"+Q),r(u+"\\:"+B+r("\\?"+z)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+O+")"+r("\\:("+I+")")+"?)")+"?("+q+"|"+U+"|"+Y+"|"+V+")"),r("\\?("+z+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+O+")"+r("\\:("+I+")")+"?)")+"?("+q+"|"+U+"|"+L+"|"+V+")"),r("\\?("+z+")"),r("\\#("+W+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+O+")"+r("\\:("+I+")")+"?)")+"?("+q+"|"+U+"|"+Y+"|"+V+")"),r("\\?("+z+")"),r("\\#("+W+")"),r("("+h+")@"),r("\\:("+I+")"),{NOT_SCHEME:new RegExp(t("[^]",n,s,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",d,i),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",d,i),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",d,i),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",d,i),"g"),NOT_QUERY:new RegExp(t("[^\\%]",d,i,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",d,i,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",d,i),"g"),UNRESERVED:new RegExp(d,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",d,l),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+r(r("\\%25|\\%(?!"+a+"{2})")+"("+C+")")+"?\\]?$")}}var o=a(!1),i=a(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,s=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(s)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,d=36,u=/^xn--/,h=/[^\0-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,y=String.fromCharCode;function g(e){throw new RangeError(p[e])}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(m,".")).split("."),t).join(".")}function b(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),r--)}else t.push(s)}return t}var $=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=d)e=f(e/35);return f(n+36*e/(e+38))},S=function(e){var t,r=[],n=e.length,s=0,a=128,o=72,i=e.lastIndexOf("-");i<0&&(i=0);for(var l=0;l<i;++l)e.charCodeAt(l)>=128&&g("not-basic"),r.push(e.charCodeAt(l));for(var u=i>0?i+1:0;u<n;){for(var h=s,m=1,p=d;;p+=d){u>=n&&g("invalid-input");var y=(t=e.charCodeAt(u++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d;(y>=d||y>f((c-s)/m))&&g("overflow"),s+=y*m;var v=p<=o?1:p>=o+26?26:p-o;if(y<v)break;var b=d-v;m>f(c/b)&&g("overflow"),m*=b}var $=r.length+1;o=w(s-h,$,0==h),f(s/$)>c-a&&g("overflow"),a+=f(s/$),s%=$,r.splice(s++,0,a)}return String.fromCodePoint.apply(String,r)},x=function(e){var t=[],r=(e=b(e)).length,n=128,s=0,a=72,o=!0,i=!1,l=void 0;try{for(var u,h=e[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var m=u.value;m<128&&t.push(y(m))}}catch(e){i=!0,l=e}finally{try{!o&&h.return&&h.return()}finally{if(i)throw l}}var p=t.length,v=p;for(p&&t.push("-");v<r;){var S=c,x=!0,E=!1,_=void 0;try{for(var k,C=e[Symbol.iterator]();!(x=(k=C.next()).done);x=!0){var P=k.value;P>=n&&P<S&&(S=P)}}catch(e){E=!0,_=e}finally{try{!x&&C.return&&C.return()}finally{if(E)throw _}}var A=v+1;S-n>f((c-s)/A)&&g("overflow"),s+=(S-n)*A,n=S;var N=!0,T=!1,O=void 0;try{for(var I,j=e[Symbol.iterator]();!(N=(I=j.next()).done);N=!0){var D=I.value;if(D<n&&++s>c&&g("overflow"),D==n){for(var R=s,M=d;;M+=d){var F=M<=a?1:M>=a+26?26:M-a;if(R<F)break;var q=R-F,U=d-F;t.push(y($(F+q%U,0))),R=f(q/U)}t.push(y($(R,0))),a=w(s,A,v==p),s=0,++v}}}catch(e){T=!0,O=e}finally{try{!N&&j.return&&j.return()}finally{if(T)throw O}}++s,++n}return t.join("")},E={version:"2.1.0",ucs2:{decode:b,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:S,encode:x,toASCII:function(e){return v(e,(function(e){return h.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e}))}},_={};function k(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function C(e){for(var t="",r=0,n=e.length;r<n;){var s=parseInt(e.substr(r+1,2),16);if(s<128)t+=String.fromCharCode(s),r+=3;else if(s>=194&&s<224){if(n-r>=6){var a=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&s)<<6|63&a)}else t+=e.substr(r,6);r+=6}else if(s>=224){if(n-r>=9){var o=parseInt(e.substr(r+4,2),16),i=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&s)<<12|(63&o)<<6|63&i)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function P(e,t){function r(e){var r=C(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,k).replace(t.PCT_ENCODED,s)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,k).replace(t.PCT_ENCODED,s)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,k).replace(t.PCT_ENCODED,s)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,k).replace(t.PCT_ENCODED,s)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,k).replace(t.PCT_ENCODED,s)),e}function A(e){return e.replace(/^0*(.*)/,"$1")||"0"}function N(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=l(r,2)[1];return n?n.split(".").map(A).join("."):e}function T(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=l(r,3),s=n[1],a=n[2];if(s){for(var o=s.toLowerCase().split("::").reverse(),i=l(o,2),c=i[0],d=i[1],u=d?d.split(":").map(A):[],h=c.split(":").map(A),m=t.IPV4ADDRESS.test(h[h.length-1]),p=m?7:8,f=h.length-p,y=Array(p),g=0;g<p;++g)y[g]=u[g]||h[f+g]||"";m&&(y[p-1]=N(y[p-1],t));var v=y.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var $=y.slice(0,v.index),w=y.slice(v.index+v.length);b=$.join(":")+"::"+w.join(":")}else b=y.join(":");return a&&(b+="%"+a),b}return e}var O=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?i:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var s=e.match(O);if(s){I?(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5])):(r.scheme=s[1]||void 0,r.userinfo=-1!==e.indexOf("@")?s[3]:void 0,r.host=-1!==e.indexOf("//")?s[4]:void 0,r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=-1!==e.indexOf("?")?s[7]:void 0,r.fragment=-1!==e.indexOf("#")?s[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:void 0)),r.host&&(r.host=T(N(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var a=_[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)P(r,n);else{if(r.host&&(t.domainHost||a&&a.domainHost))try{r.host=E.toASCII(r.host.replace(n.PCT_ENCODED,C).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}P(r,o)}a&&a.parse&&a.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var D=/^\.\.?\//,R=/^\/\.(\/|$)/,M=/^\/\.\.(\/|$)/,F=/^\/?(?:.|\n)*?(?=\/|$)/;function q(e){for(var t=[];e.length;)if(e.match(D))e=e.replace(D,"");else if(e.match(R))e=e.replace(R,"/");else if(e.match(M))e=e.replace(M,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(F);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?i:o,n=[],s=_[(t.scheme||e.scheme||"").toLowerCase()];if(s&&s.serialize&&s.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||s&&s.domainHost)try{e.host=t.iri?E.toUnicode(e.host):E.toASCII(e.host.replace(r.PCT_ENCODED,C).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}P(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var a=function(e,t){var r=!1!==t.iri?i:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(T(N(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}(e,t);if(void 0!==a&&("suffix"!==t.reference&&n.push("//"),n.push(a),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||s&&s.absolutePath||(l=q(l)),void 0===a&&(l=l.replace(/^\/\//,"/%2F")),n.push(l)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=j(U(e,r),r),t=j(U(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=q(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=q(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=q(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=q(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function Y(e,t){return e&&e.toString().replace(t&&t.iri?i.PCT_ENCODED:o.PCT_ENCODED,C)}var V={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function W(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var B={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=W(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(W(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=l(r,2),s=n[0],a=n[1];e.path=s&&"/"!==s?s:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:B.domainHost,parse:B.parse,serialize:B.serialize},H={},Q="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",J=r(r("%[EFef]"+G+"%"+G+G+"%"+G+G)+"|"+r("%[89A-Fa-f]"+G+"%"+G+G)+"|"+r("%"+G+G)),X=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(Q,"g"),ee=new RegExp(J,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',X),"g"),re=new RegExp(t("[^]",Q,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ne=re;function se(e){var t=C(e);return t.match(Z)?t:e}var ae={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var s=!1,a={},o=r.query.split("&"),i=0,l=o.length;i<l;++i){var c=o[i].split("=");switch(c[0]){case"to":for(var d=c[1].split(","),u=0,h=d.length;u<h;++u)n.push(d[u]);break;case"subject":r.subject=Y(c[1],t);break;case"body":r.body=Y(c[1],t);break;default:s=!0,a[Y(c[0],t)]=Y(c[1],t)}}s&&(r.headers=a)}r.query=void 0;for(var m=0,p=n.length;m<p;++m){var f=n[m].split("@");if(f[0]=Y(f[0]),t.unicodeSupport)f[1]=Y(f[1],t).toLowerCase();else try{f[1]=E.toASCII(Y(f[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[m]=f.join("@")}return r},serialize:function(e,t){var r,n=e,a=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(a){for(var o=0,i=a.length;o<i;++o){var l=String(a[o]),c=l.lastIndexOf("@"),d=l.slice(0,c).replace(ee,se).replace(ee,s).replace(te,k),u=l.slice(c+1);try{u=t.iri?E.toUnicode(u):E.toASCII(Y(u,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=d+"@"+u}n.path=a.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var m=[];for(var p in h)h[p]!==H[p]&&m.push(p.replace(ee,se).replace(ee,s).replace(re,k)+"="+h[p].replace(ee,se).replace(ee,s).replace(ne,k));return m.length&&(n.query=m.join("&")),n}},oe=/^([^\:]+)\:(.*)/,ie={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(oe),n=e;if(r){var s=t.scheme||n.scheme||"urn",a=r[1].toLowerCase(),o=r[2],i=s+":"+(t.nid||a),l=_[i];n.nid=a,n.nss=o,n.path=void 0,l&&(n=l.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,s=r+":"+(t.nid||n),a=_[s];a&&(e=a.serialize(e,t));var o=e,i=e.nss;return o.path=(n||t.nid)+":"+i,o}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(le)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};_[V.scheme]=V,_[z.scheme]=z,_[B.scheme]=B,_[K.scheme]=K,_[ae.scheme]=ae,_[ie.scheme]=ie,_[ce.scheme]=ce,e.SCHEMES=_,e.pctEncChar=k,e.pctDecChars=C,e.parse=j,e.removeDotSegments=q,e.serialize=U,e.resolveComponents=L,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return U(L(j(e,n),j(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=U(j(e,t),t):"object"===n(e)&&(e=j(U(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=U(j(e,r),r):"object"===n(e)&&(e=U(e,r)),"string"==typeof t?t=U(j(t,r),r):"object"===n(t)&&(t=U(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?i.ESCAPE:o.ESCAPE,k)},e.unescapeComponent=Y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},85419:e=>{"use strict";e.exports=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},82986:e=>{"use strict";e.exports=function(e){return"function"==typeof e}},96552:(e,t,r)=>{"use strict";var n=r(85419),s=r(84356);e.exports=function(e){var t;if(!n(e))return!1;if(!(t=e.length))return!1;for(var r=0;r<t;r++)if(!s(e[r]))return!1;return!0}},84356:(e,t,r)=>{"use strict";var n=r(66415);e.exports=function(e){return n(e)&&e%1==0}},66415:e=>{"use strict";e.exports=function(e){return("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))&&e.valueOf()==e.valueOf()}},48343:(e,t,r)=>{"use strict";const{normalizeIPv6:n,normalizeIPv4:s,removeDotSegments:a,recomposeAuthority:o,normalizeComponentEncoding:i}=r(34834),l=r(343);function c(e,t,r,n){const s={};return n||(e=m(d(e,r),r),t=m(d(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=a(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=a(t.path||""),s.query=t.query):(t.path?("/"===t.path.charAt(0)?s.path=a(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path:s.path="/"+t.path,s.path=a(s.path)),s.query=t.query):(s.path=e.path,void 0!==t.query?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function d(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=l[(n.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,n),void 0!==r.path&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),void 0!==r.scheme&&(r.path=r.path.split("%3A").join(":")))),"suffix"!==n.reference&&r.scheme&&(s.push(r.scheme),s.push(":"));const c=o(r,n);if(void 0!==c&&("suffix"!==n.reference&&s.push("//"),s.push(c),r.path&&"/"!==r.path.charAt(0)&&s.push("/")),void 0!==r.path){let e=r.path;n.absolutePath||i&&i.absolutePath||(e=a(e)),void 0===c&&(e=e.replace(/^\/\//u,"/%2F")),s.push(e)}return void 0!==r.query&&(s.push("?"),s.push(r.query)),void 0!==r.fragment&&(s.push("#"),s.push(r.fragment)),s.join("")}const u=Array.from({length:127},((e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)))),h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function m(e,t){const r=Object.assign({},t),a={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=-1!==e.indexOf("%");let i=!1;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const c=e.match(h);if(c){if(a.scheme=c[1],a.userinfo=c[3],a.host=c[4],a.port=parseInt(c[5],10),a.path=c[6]||"",a.query=c[7],a.fragment=c[8],isNaN(a.port)&&(a.port=c[5]),a.host){const e=s(a.host);if(!1===e.isIPV4){const t=n(e.host,{isIPV4:!1});a.host=t.host.toLowerCase(),i=t.isIPV6}else a.host=e.host,i=!0}void 0!==a.scheme||void 0!==a.userinfo||void 0!==a.host||void 0!==a.port||a.path||void 0!==a.query?void 0===a.scheme?a.reference="relative":void 0===a.fragment?a.reference="absolute":a.reference="uri":a.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==a.reference&&(a.error=a.error||"URI is not a "+r.reference+" reference.");const e=l[(r.scheme||a.scheme||"").toLowerCase()];if(!(r.unicodeSupport||e&&e.unicodeSupport)&&a.host&&(r.domainHost||e&&e.domainHost)&&!1===i&&function(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||u[t])return!0;return!1}(a.host))try{a.host=URL.domainToASCII(a.host.toLowerCase())}catch(e){a.error=a.error||"Host's domain name can not be converted to ASCII: "+e}(!e||e&&!e.skipNormalize)&&(o&&void 0!==a.scheme&&(a.scheme=unescape(a.scheme)),o&&void 0!==a.userinfo&&(a.userinfo=unescape(a.userinfo)),o&&void 0!==a.host&&(a.host=unescape(a.host)),void 0!==a.path&&a.path.length&&(a.path=escape(unescape(a.path))),void 0!==a.fragment&&a.fragment.length&&(a.fragment=encodeURI(decodeURIComponent(a.fragment)))),e&&e.parse&&e.parse(a,r)}else a.error=a.error||"URI can not be parsed.";return a}const p={SCHEMES:l,normalize:function(e,t){return"string"==typeof e?e=d(m(e,t),t):"object"==typeof e&&(e=m(d(e,t),t)),e},resolve:function(e,t,r){const n=Object.assign({scheme:"null"},r);return d(c(m(e,n),m(t,n),n,!0),{...n,skipEscape:!0})},resolveComponents:c,equal:function(e,t,r){return"string"==typeof e?(e=unescape(e),e=d(i(m(e,r),!0),{...r,skipEscape:!0})):"object"==typeof e&&(e=d(i(e,!0),{...r,skipEscape:!0})),"string"==typeof t?(t=unescape(t),t=d(i(m(t,r),!0),{...r,skipEscape:!0})):"object"==typeof t&&(t=d(i(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:d,parse:m};e.exports=p,e.exports.default=p,e.exports.fastUri=p},343:e=>{"use strict";const t=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function s(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function a(e){const t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}const o={scheme:"http",domainHost:!0,parse:s,serialize:a},i={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=n(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if(e.port!==(n(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}},l={http:o,https:{scheme:"https",domainHost:o.domainHost,parse:s,serialize:a},ws:i,wss:{scheme:"wss",domainHost:i.domainHost,parse:i.parse,serialize:i.serialize},urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;const n=e.path.match(r);if(n){const r=t.scheme||e.scheme||"urn";e.nid=n[1].toLowerCase(),e.nss=n[2];const s=`${r}:${t.nid||e.nid}`,a=l[s];e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=l[s];a&&(e=a.serialize(e,t));const o=e,i=e.nss;return o.path=`${n||t.nid}:${i}`,t.skipEscape=!0,o},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,r){const n=e;return n.uuid=n.nss,n.nss=void 0,r.tolerant||n.uuid&&t.test(n.uuid)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t},skipNormalize:!0}};e.exports=l},64914:e=>{"use strict";e.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},34834:(e,t,r)=>{"use strict";const{HEX:n}=r(64914);function s(e){if(l(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:i(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function a(e,t=!1){let r="",s=!0;for(const t of e){if(void 0===n[t])return;"0"!==t&&!0===s&&(s=!1),s||(r+=t)}return t&&0===r.length&&(r="0"),r}function o(e,t={}){if(l(e,":")<2)return{host:e,isIPV6:!1};const r=function(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let o=!1,i=!1,l=!1;function c(){if(s.length){if(!1===o){const e=a(s);if(void 0===e)return r.error=!0,!1;n.push(e)}s.length=0}return!0}for(let a=0;a<e.length;a++){const d=e[a];if("["!==d&&"]"!==d)if(":"!==d)if("%"===d){if(!c())break;o=!0}else s.push(d);else{if(!0===i&&(l=!0),!c())break;if(t++,n.push(":"),t>7){r.error=!0;break}a-1>=0&&":"===e[a-1]&&(i=!0)}}return s.length&&(o?r.zone=s.join(""):l?n.push(s.join("")):n.push(a(s))),r.address=n.join(""),r}(e);if(r.error)return{host:e,isIPV6:!1};{let e=r.address,t=r.address;return r.zone&&(e+="%"+r.zone,t+="%25"+r.zone),{host:e,escapedHost:t,isIPV6:!0}}}function i(e,t){let r="",n=!0;const s=e.length;for(let a=0;a<s;a++){const o=e[a];"0"===o&&n?(a+1<=s&&e[a+1]===t||a+1===s)&&(r+=o,n=!1):(n=o===t,r+=o)}return r}function l(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const c=/^\.\.?\//u,d=/^\/\.(?:\/|$)/u,u=/^\/\.\.(?:\/|$)/u,h=/^\/?(?:.|\n)*?(?=\/|$)/u;e.exports={recomposeAuthority:function(e,t){const r=[];if(void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host){let t=unescape(e.host);const n=s(t);if(n.isIPV4)t=n.host;else{const r=o(n.host,{isIPV4:!1});t=!0===r.isIPV6?`[${r.escapedHost}]`:e.host}r.push(t)}return"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0},normalizeComponentEncoding:function(e,t){const r=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=r(e.scheme)),void 0!==e.userinfo&&(e.userinfo=r(e.userinfo)),void 0!==e.host&&(e.host=r(e.host)),void 0!==e.path&&(e.path=r(e.path)),void 0!==e.query&&(e.query=r(e.query)),void 0!==e.fragment&&(e.fragment=r(e.fragment)),e},removeDotSegments:function(e){const t=[];for(;e.length;)if(e.match(c))e=e.replace(c,"");else if(e.match(d))e=e.replace(d,"/");else if(e.match(u))e=e.replace(u,"/"),t.pop();else if("."===e||".."===e)e="";else{const r=e.match(h);if(!r)throw new Error("Unexpected dot segment condition");{const n=r[0];e=e.slice(n.length),t.push(n)}}return t.join("")},normalizeIPv4:s,normalizeIPv6:o,stringArrayToHexStripped:a}},47695:(e,t,r)=>{"use strict";r.d(t,{Wx:()=>c});var n=r(96540),s=(Object.defineProperty,new Map),a=new WeakMap,o=0,i=void 0;function l(e,t,r={},n=i){if(void 0===window.IntersectionObserver&&void 0!==n){const s=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:s,intersectionRect:s,rootBounds:s}),()=>{}}const{id:l,observer:c,elements:d}=function(e){const t=function(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(r=e.root,r?(a.has(r)||(o+=1,a.set(r,o.toString())),a.get(r)):"0"):e[t]}`;var r})).toString()}(e);let r=s.get(t);if(!r){const n=new Map;let a;const o=new IntersectionObserver((t=>{t.forEach((t=>{var r;const s=t.isIntersecting&&a.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=s),null==(r=n.get(t.target))||r.forEach((e=>{e(s,t)}))}))}),e);a=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:o,elements:n},s.set(t,r)}return r}(r),u=d.get(e)||[];return d.has(e)||d.set(e,u),u.push(t),c.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(d.delete(e),c.unobserve(e)),0===d.size&&(c.disconnect(),s.delete(l))}}function c({threshold:e,delay:t,trackVisibility:r,rootMargin:s,root:a,triggerOnce:o,skip:i,initialInView:c,fallbackInView:d,onChange:u}={}){var h;const[m,p]=n.useState(null),f=n.useRef(),[y,g]=n.useState({inView:!!c,entry:void 0});f.current=u,n.useEffect((()=>{if(i||!m)return;let n;return n=l(m,((e,t)=>{g({inView:e,entry:t}),f.current&&f.current(e,t),t.isIntersecting&&o&&n&&(n(),n=void 0)}),{root:a,rootMargin:s,threshold:e,trackVisibility:r,delay:t},d),()=>{n&&n()}}),[Array.isArray(e)?e.toString():e,m,a,s,o,i,r,d,t]);const v=null==(h=y.entry)?void 0:h.target,b=n.useRef();m||!v||o||i||b.current===v||(b.current=v,g({inView:!!c,entry:void 0}));const $=[p,y.inView,y.entry];return $.ref=$[0],$.inView=$[1],$.entry=$[2],$}n.Component},53983:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},37805:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},37301:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},92455:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);
//# sourceMappingURL=53bc554529c5bac32960.chunk.js.map